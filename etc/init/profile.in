
# File: @staretcdir@/profile
# Version: @VERSION@

# This file must be sourced before Starlink software can be used.
# This script contains environment and alias definitions and must
# be sourced rather than executed. It is suitable for use from a bash
# shell

# This can be achieved by addinf the line:
#
#    source @staretcdir@/profile
#
# to your .profile file. for the ultra paranoid, add a check for file
# existence as well.

# Break the file up along the lines of the cshrc and login rather
# than combining tests into a single block.

# Define the Starlink environment first

#  ATOOLS

if test -f @bindir@/atools/atools.sh; then
   export ATOOLS_DIR=@bindir@/atools
   export ATOOLS_HELP=@starhelpdir@/atools/atools
fi

#  CCDPACK

if test -f @bindir@/ccdpack/ccdpack.sh; then
   export CCDPACK_DIR=@bindir@/ccdpack
   export CCDPACK_HELP=@starhelpdir@/ccdpack/ccdpack
fi

#  Fluxes

if test -f @bindir@/fluxes/fluxes.csh; then
   export FLUXES_DIR=@bindir@/fluxes
fi

#  Kappa

if test -f @bindir@/kappa/kappa.sh; then
   export KAPPA_DIR=@bindir@/kappa
   export KAPPA_HELP=@starhelpdir@/kappa/kappa
fi

#  HDSTOOLS

if test -f @bindir@/hdstools/hdstools.sh; then
   export HDSTOOLS_DIR=@bindir@/hdstools
   export HDSTOOLS_HELP=@starhelpdir@/hdstools/hdstools
fi

#
#  ICL
#

if test -x @bindir@/icl; then
   export ADAM_PACKAGES=@starhelpdir@/adam_packages.shl
   export ICL_LOGIN_SYS=@staretcdir@/icl_login_sys.icl
fi
 

#  JPL

if test -f @staretcdir@/jpleph.dat; then
   export JPL_DIR=@staretcdir@
fi

#  Polpack

if test -f @bindir@/polpack/polpack.sh; then
   export POLPACK_DIR=@bindir@/polpack
   export POLPACK_HELP=@starhelpdir@/polpack/polpack
fi

#
#  PONGO
#

if test -f @bindir@/pongo/pongo.icl; then
   export PONGO_BIN=@bindir@/pongo
   export PONGO_HELP=@starhelpdir@/pongo/pongohelp
   export PONGO_EXAMPLES=@datadir@/pongo
fi



#  SURF

if test -f @bindir@/surf/surf.sh; then
   export SURF_DIR=@bindir@/surf
   export SURF_HELP=@starhelpdir@/surf/surf
fi


# Aliases
# Use sh functions rather than bash aliases for improved
# portability. Use 'declare -F' in bash to list all the functions.

# ATOOLS

if test -f @bindir@/ccdpack/ccdpack.sh; then
  atools () { . $ATOOLS_DIR/atools.sh; }
  atools () { . $ATOOLS_DIR/atools.sh; }
else
  atools () { @staretcdir@/notinst atools; }
  atoolssetup () { @staretcdir@/notinst atools; }
fi

# CCDPACK

if test -f @bindir@/ccdpack/ccdpack.sh; then
  ccdpack () { . $CCDPACK_DIR/ccdpack.sh; }
  ccdpacksetup () { . $CCDPACK_DIR/ccdpack.sh; }
else
  ccdpack () { @staretcdir@/notinst ccdpack; }
  ccdpacksetup () { @staretcdir@/notinst ccdpack; }
fi

# Fluxes

if test -f @bindir@/fluxes/fluxes; then
  fluxes () { $FLUXES_DIR/fluxes.csh; }
  fluxnow () { $FLUXES_DIR/fluxnow.csh; }
else
  fluxes () { @staretcdir@/notinst fluxes; }
  fluxnow () { @staretcdir@/notinst fluxnow; }
fi


# Kappa

if test -f @bindir@/kappa/kappa.sh; then
  kappa () { . $KAPPA_DIR/kappa.sh; }
  kappasetup () { . $KAPPA_DIR/kappa.sh; }
else
  kappa () { @staretcdir@/notinst kappa; }
  kappasetup () { @staretcdir@/notinst kappa; }
fi

# HDSTOOLS

if test -f @bindir@/hdstools/hdstools.sh; then
  hdstools () { . $HDSTOOLS_DIR/hdstools.sh; }
  hdstoolssetup () { . $HDSTOOLS_DIR/hdstools.sh; }
else
  hdstools () { @staretcdir@/notinst hdstools; }
  hdstoolssetup () { @staretcdir@/notinst hdstools; }
fi

# SURF

if test -f @bindir@/surf/surf.sh; then
  surf () { . $SURF_DIR/surf.sh; }
  surfsetup () { . $SURF_DIR/surf.sh; }
else
  surf () { @staretcdir@/notinst surf; }
  surfsetup () { @staretcdir@/notinst surf; }
fi

# Polpack

if test -f @bindir@/polpack/polpack.sh; then
  polpack () { . $POLPACK_DIR/polpack.sh; }
  polpacksetup () { . $POLPACK_DIR/polpack.sh; }
else
  polpack () { @staretcdir@/notinst polpack; }
  polpacksetup () { @staretcdir@/notinst polpack; }
fi

#
#   Pongo
#

if test -f @bindir@/pongo/pongo.icl; then
   pongo () { icl $PONGO_BIN/pongo; }
else
   pongo () { @staretcdir@/notinst pongo; }
fi


# Done

export STAR_LOGIN=''
