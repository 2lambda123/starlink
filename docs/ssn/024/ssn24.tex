\documentclass[11pt,twoside]{article}
\pagestyle{myheadings}

% -----------------------------------------------------------------------------
% ? Document identification
\newcommand{\stardoccategory}  {Starlink System Note}
\newcommand{\stardocinitials}  {SSN}
\newcommand{\stardocsource}    {ssn\stardocnumber}
\newcommand{\stardocnumber}    {24.3}
\newcommand{\stardocauthors}   {Anne Charles}
\newcommand{\stardocdate}      {30 July 1997}
\newcommand{\stardoctitle}     {Notes for Site Managers about \TeX\ and \LaTeX}
\newcommand{\stardocabstract}  {This document gives some information for Site 
Managers about the Starlink release of the \TeX\ system, 
which includes \LaTeX 2e.}
% ? End of document identification
% -----------------------------------------------------------------------------

\newcommand{\stardocname}{\stardocinitials /\stardocnumber}
\markboth{\stardocname}{\stardocname}
\setlength{\textwidth}{160mm}
\setlength{\textheight}{230mm}
\setlength{\topmargin}{-2mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\evensidemargin}{0mm}
\setlength{\parindent}{0mm}
\setlength{\parskip}{\medskipamount}
\setlength{\unitlength}{1mm}

% -----------------------------------------------------------------------------
%  Hypertext definitions.
%  ======================
%  These are used by the LaTeX2HTML translator in conjunction with star2html.

%  Comment.sty: version 2.0, 19 June 1992
%  Selectively in/exclude pieces of text.
%
%  Author
%    Victor Eijkhout                                      <eijkhout@cs.utk.edu>
%    Department of Computer Science
%    University Tennessee at Knoxville
%    104 Ayres Hall
%    Knoxville, TN 37996
%    USA

%  Do not remove the %begin{latexonly} and %end{latexonly} lines (used by 
%  star2html to signify raw TeX that latex2html cannot process).
%begin{latexonly}
\makeatletter
\def\makeinnocent#1{\catcode`#1=12 }
\def\csarg#1#2{\expandafter#1\csname#2\endcsname}

\def\ThrowAwayComment#1{\begingroup
    \def\CurrentComment{#1}%
    \let\do\makeinnocent \dospecials
    \makeinnocent\^^L% and whatever other special cases
    \endlinechar`\^^M \catcode`\^^M=12 \xComment}
{\catcode`\^^M=12 \endlinechar=-1 %
 \gdef\xComment#1^^M{\def\test{#1}
      \csarg\ifx{PlainEnd\CurrentComment Test}\test
          \let\html@next\endgroup
      \else \csarg\ifx{LaLaEnd\CurrentComment Test}\test
            \edef\html@next{\endgroup\noexpand\end{\CurrentComment}}
      \else \let\html@next\xComment
      \fi \fi \html@next}
}
\makeatother

\def\includecomment
 #1{\expandafter\def\csname#1\endcsname{}%
    \expandafter\def\csname end#1\endcsname{}}
\def\excludecomment
 #1{\expandafter\def\csname#1\endcsname{\ThrowAwayComment{#1}}%
    {\escapechar=-1\relax
     \csarg\xdef{PlainEnd#1Test}{\string\\end#1}%
     \csarg\xdef{LaLaEnd#1Test}{\string\\end\string\{#1\string\}}%
    }}

%  Define environments that ignore their contents.
\excludecomment{comment}
\excludecomment{rawhtml}
\excludecomment{htmlonly}

%  Hypertext commands etc. This is a condensed version of the html.sty
%  file supplied with LaTeX2HTML by: Nikos Drakos <nikos@cbl.leeds.ac.uk> &
%  Jelle van Zeijl <jvzeijl@isou17.estec.esa.nl>. The LaTeX2HTML documentation
%  should be consulted about all commands (and the environments defined above)
%  except \xref and \xlabel which are Starlink specific.

\newcommand{\htmladdnormallinkfoot}[2]{#1\footnote{#2}}
\newcommand{\htmladdnormallink}[2]{#1}
\newcommand{\htmladdimg}[1]{}
\newenvironment{latexonly}{}{}
\newcommand{\hyperref}[4]{#2\ref{#4}#3}
\newcommand{\htmlref}[2]{#1}
\newcommand{\htmlimage}[1]{}
\newcommand{\htmladdtonavigation}[1]{}

% Define commands for HTML-only or LaTeX-only text.
\newcommand{\html}[1]{}
\newcommand{\latex}[1]{#1}

% Use latex2html 98.2.
\newcommand{\latexhtml}[2]{#1}

%  Starlink cross-references and labels.
\newcommand{\xref}[3]{#1}
\newcommand{\xlabel}[1]{}

%  LaTeX2HTML symbol.
\newcommand{\latextohtml}{{\bf LaTeX}{2}{\tt{HTML}}}

%  Define command to re-centre underscore for Latex and leave as normal
%  for HTML (severe problems with \_ in tabbing environments and \_\_
%  generally otherwise).
\newcommand{\setunderscore}{\renewcommand{\_}{{\tt\symbol{95}}}}
\latex{\setunderscore}

% -----------------------------------------------------------------------------
%  Debugging.
%  =========
%  Remove % from the following to debug links in the HTML version using Latex.

% \newcommand{\hotlink}[2]{\fbox{\begin{tabular}[t]{@{}c@{}}#1\\\hline{\footnotesize #2}\end{tabular}}}
% \renewcommand{\htmladdnormallinkfoot}[2]{\hotlink{#1}{#2}}
% \renewcommand{\htmladdnormallink}[2]{\hotlink{#1}{#2}}
% \renewcommand{\hyperref}[4]{\hotlink{#1}{\S\ref{#4}}}
% \renewcommand{\htmlref}[2]{\hotlink{#1}{\S\ref{#2}}}
% \renewcommand{\xref}[3]{\hotlink{#1}{#2 -- #3}}
%end{latexonly}
% -----------------------------------------------------------------------------
% ? Document-specific \newcommand or \newenvironment commands.
% ? End of document-specific commands
% -----------------------------------------------------------------------------
%  Title Page.
%  ===========
% \renewcommand{\thepage}{\roman{page}}
\begin{document}
\thispagestyle{empty}

%  Latex document header.
%  ======================
\begin{latexonly}
   CCLRC / {\sc Rutherford Appleton Laboratory} \hfill {\bf \stardocname}\\
   {\large Particle Physics \& Astronomy Research Council}\\
   {\large Starlink Project\\}
   {\large \stardoccategory\ \stardocnumber}
   \begin{flushright}
   \stardocauthors\\
   \stardocdate
   \end{flushright}
   \vspace{-4mm}
   \rule{\textwidth}{0.5mm}
   \vspace{5mm}
   \begin{center}
   {\Large\bf \stardoctitle}
   \end{center}
   \vspace{5mm}

% ? Heading for abstract if used.
   \vspace{10mm}
   \begin{center}
      {\Large\bf Abstract}
   \end{center}
% ? End of heading for abstract.
\end{latexonly}

%  HTML documentation header.
%  ==========================
\begin{htmlonly}
   \xlabel{}
   \begin{rawhtml} <H1> \end{rawhtml}
      \stardoctitle
   \begin{rawhtml} </H1> \end{rawhtml}

% ? Add picture here if required.
% ? End of picture

   \begin{rawhtml} <P> <I> \end{rawhtml}
   \stardoccategory\ \stardocnumber \\
   \stardocauthors \\
   \stardocdate
   \begin{rawhtml} </I> </P> <H3> \end{rawhtml}
      \htmladdnormallink{CCLRC}{http://www.cclrc.ac.uk} /
      \htmladdnormallink{Rutherford Appleton Laboratory}
                        {http://www.cclrc.ac.uk/ral} \\
      \htmladdnormallink{Particle Physics \& Astronomy Research Council}
                        {http://www.pparc.ac.uk} \\
   \begin{rawhtml} </H3> <H2> \end{rawhtml}
      \htmladdnormallink{Starlink Project}{http://www.starlink.ac.uk/}
   \begin{rawhtml} </H2> \end{rawhtml}
   \htmladdnormallink{\htmladdimg{source.gif} Retrieve hardcopy}
      {http://www.starlink.ac.uk/cgi-bin/hcserver?\stardocsource}\\

%  HTML document table of contents. 
%  ================================
%  Add table of contents header and a navigation button to return to this 
%  point in the document (this should always go before the abstract \section). 
  \label{stardoccontents}
  \begin{rawhtml} 
    <HR>
    <H2>Contents</H2>
  \end{rawhtml}
  \htmladdtonavigation{\htmlref{\htmladdimg{contents_motif.gif}}
        {stardoccontents}}

% ? New section for abstract if used.
  \section{\xlabel{abstract}Abstract}
% ? End of new section for abstract

\end{htmlonly}

% -----------------------------------------------------------------------------
% ? Document Abstract. (if used)
%  ==================
\stardocabstract
% ? End of document abstract
% -----------------------------------------------------------------------------
% ? Latex document Table of Contents (if used).
%  ===========================================
% \newpage
\begin{latexonly}
   \setlength{\parskip}{0mm}
   \tableofcontents
   \setlength{\parskip}{\medskipamount}
   \markboth{\stardocname}{\stardocname}
\end{latexonly}
% ? End of Latex document table of contents
% -----------------------------------------------------------------------------
\newpage
% \renewcommand{\thepage}{\arabic{page}}
% \setcounter{page}{1}

\section{te\TeX\xlabel{tetex}}

Starlink is now using the te\TeX\ v0.4 distribution of \TeX\ and
\LaTeX\ by Thomas Esser. This is for UNIX-like platforms and is based
heavily on the \texttt{kpathsea} library by Karl Berry. It includes pretty much
all aspects of \TeX\ and \LaTeX, including virtually all the packages
mentioned in \emph{The \LaTeX\ Companion}.

\section{File-Searching\xlabel{file_searching}}

\texttt{kpathsea} file-searching is used by \TeX, \texttt{xdvik},
\texttt{dvipsk}, and \texttt{gsftopk}.  It uses a database (file
\texttt{/usr/local/teTeX/texmf/ls-R}) of all the files in the directory
tree.  

The automatic font generating system adds an entry for each font it generates
to the database, but it is most efficient if the database is regenerated
from time to time to list all files in their access order.  Every month
you should recreate the database by using the following command:

\begin{verbatim}
      % texhash
\end{verbatim}

This ensures that searching for newly created font \texttt{.pk} files
are found fast and efficiently.

\section{Moving the distribution\xlabel{moving_the_distribution}}

You may put the te\TeX\ directory anywhere on your system as long as
the \texttt{teTeX/bin} directory is in the path of all users of
\TeX\ and \LaTeX.  Run \texttt{texconfig} to verify that all \TeX's
programs are found in the correct directory:

\begin{verbatim}
      % texconfig confall
\end{verbatim}

Run \texttt{texhash} to recreate the database of files:

\begin{verbatim}
      % texhash
\end{verbatim}

Note that everything will work using this method except for
\texttt{dvican}, \texttt{dvica2}, and \texttt{dvi2vdu}, which all have
the directory location of the fonts hard-coded. They must be editted
with the new location and recompiled.

\section{texconfig\xlabel{texconfig}}

You can run \texttt{texconfig} interactively to configure various
aspects of the distribution. However, I haven't discovered how to get
it to display the current configuration. I have used it to:

\begin{itemize}
  \item set the default printer \texttt{MODE} to \texttt{cx}
  \item remove the print command from \texttt{dvips}, so that the output of 
        \texttt{dvips} is a \texttt{.ps} file.
\end{itemize}

Note that \texttt{texconfig} defaults both \texttt{xdvi} and \texttt{dvips} 
to A4 paper.

To run \texttt{texconfig} interactively, type the following:

\begin{verbatim}
      % texconfig
\end{verbatim}

\section{\xlabel{local-config}Local additions}

If you have local styles that you want to make available as part of the
main \LaTeX\ system, you can modify the configuration file to speciy the
location of your local installations, and the search path that \TeX\ and
\LaTeX\ use so that the local installations are found.

The configuration file is \texttt{/usr/local/teTeX/texmf.conf}.  Near the
top of this file is the following section:

\begin{quote}
\begin{small}
\begin{verbatim}
...
% Set this to the name of your local tree. You can have none, one or
% even more local texmf trees. Just make sure to list them in the TEXMFS
% variable.
TEXMFL          = /usr/local/tex.local
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% List all your texmf trees in TEXMFS. So far, only TEXMF can be protected
% by !!, since ls-R only supports one texmf tree so far.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% No local tree:
TEXMFS          = !!$TEXMF
% Search local tree *after* the standard tree:
%TEXMFS         = {!!$TEXMF,$TEXMFL}
% Search local tree *before* the standard tree:
%TEXMFS         = {$TEXMFL,!!$TEXMF}
... 
\end{verbatim}
\end{small}
\end{quote}

The environment variable \texttt{TEXMFL} should be modified to define the 
location of the root directory of your local \TeX /\LaTeX\ tree.

The environment variable \texttt{TEXMFS} should then be set to define
the order in which the trees are searched by commenting out the `No
local tree:' definition and uncommenting one of the two search order
definitions.

If you have more than one local tree and you want them searched in a
particular order, you should make sure you define them in
\texttt{TEXMFS} in the correct sequence.

\end{document}
