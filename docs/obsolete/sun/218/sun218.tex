\documentstyle[twoside,11pt]{article}
\pagestyle{myheadings}

% -----------------------------------------------------------------------------
% ? Document identification
\newcommand{\stardoccategory}  {Starlink User Note}
\newcommand{\stardocinitials}  {SUN}
\newcommand{\stardocsource}    {sun\stardocnumber}
\newcommand{\stardocnumber}    {218.1}
\newcommand{\stardocauthors}   {M.\,J.\,Bly}
\newcommand{\stardocdate}      {22 May 1997}
\newcommand{\stardoctitle}     {JPEG \\[2ex] The JPEG library and utilities}
\newcommand{\stardocversion}   {Version 6a}
\newcommand{\stardocmanual}    {[manual-type]}
\newcommand{\stardocabstract}  {

The IJG\footnote{Independent JPEG Group} JPEG software is a free implementation
of the JPEG image compression and decompression methods written in C, for
compression and decompression of full-color and gray-scale images.

This version is distributed under the IJG terms and conditions, and is
unchanged from the publicly available version.  The distribution has
been wrapped to allow easier manipulation within Starlink installations. 

}

% ? End of document identification

% -----------------------------------------------------------------------------

\newcommand{\stardocname}{\stardocinitials /\stardocnumber}
\markright{\stardocname}
\setlength{\textwidth}{160mm}
\setlength{\textheight}{230mm}
\setlength{\topmargin}{-2mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\evensidemargin}{0mm}
\setlength{\parindent}{0mm}
\setlength{\parskip}{\medskipamount}
\setlength{\unitlength}{1mm}

% -----------------------------------------------------------------------------
%  Hypertext definitions.
%  ======================
%  These are used by the LaTeX2HTML translator in conjunction with star2html.

%  Comment.sty: version 2.0, 19 June 1992
%  Selectively in/exclude pieces of text.
%
%  Author
%    Victor Eijkhout                                      <eijkhout@cs.utk.edu>
%    Department of Computer Science
%    University Tennessee at Knoxville
%    104 Ayres Hall
%    Knoxville, TN 37996
%    USA

%  Do not remove the %\begin{rawtex} and %\end{rawtex} lines (used by 
%  star2html to signify raw TeX that latex2html cannot process).
%\begin{rawtex}
\makeatletter
\def\makeinnocent#1{\catcode`#1=12 }
\def\csarg#1#2{\expandafter#1\csname#2\endcsname}

\def\ThrowAwayComment#1{\begingroup
    \def\CurrentComment{#1}%
    \let\do\makeinnocent \dospecials
    \makeinnocent\^^L% and whatever other special cases
    \endlinechar`\^^M \catcode`\^^M=12 \xComment}
{\catcode`\^^M=12 \endlinechar=-1 %
 \gdef\xComment#1^^M{\def\test{#1}
      \csarg\ifx{PlainEnd\CurrentComment Test}\test
          \let\html@next\endgroup
      \else \csarg\ifx{LaLaEnd\CurrentComment Test}\test
            \edef\html@next{\endgroup\noexpand\end{\CurrentComment}}
      \else \let\html@next\xComment
      \fi \fi \html@next}
}
\makeatother

\def\includecomment
 #1{\expandafter\def\csname#1\endcsname{}%
    \expandafter\def\csname end#1\endcsname{}}
\def\excludecomment
 #1{\expandafter\def\csname#1\endcsname{\ThrowAwayComment{#1}}%
    {\escapechar=-1\relax
     \csarg\xdef{PlainEnd#1Test}{\string\\end#1}%
     \csarg\xdef{LaLaEnd#1Test}{\string\\end\string\{#1\string\}}%
    }}

%  Define environments that ignore their contents.
\excludecomment{comment}
\excludecomment{rawhtml}
\excludecomment{htmlonly}
%\end{rawtex}

%  Hypertext commands etc. This is a condensed version of the html.sty
%  file supplied with LaTeX2HTML by: Nikos Drakos <nikos@cbl.leeds.ac.uk> &
%  Jelle van Zeijl <jvzeijl@isou17.estec.esa.nl>. The LaTeX2HTML documentation
%  should be consulted about all commands (and the environments defined above)
%  except \xref and \xlabel which are Starlink specific.

\newcommand{\htmladdnormallinkfoot}[2]{#1\footnote{#2}}
\newcommand{\htmladdnormallink}[2]{#1}
\newcommand{\htmladdimg}[1]{}
\newenvironment{latexonly}{}{}
\newcommand{\hyperref}[4]{#2\ref{#4}#3}
\newcommand{\htmlref}[2]{#1}
\newcommand{\htmlimage}[1]{}
\newcommand{\htmladdtonavigation}[1]{}

%  Starlink cross-references and labels.
\newcommand{\xref}[3]{#1}
\newcommand{\xlabel}[1]{}

%  LaTeX2HTML symbol.
\newcommand{\latextohtml}{{\bf LaTeX}{2}{\tt{HTML}}}

%  Define command to re-centre underscore for Latex and leave as normal
%  for HTML (severe problems with \_ in tabbing environments and \_\_
%  generally otherwise).
\newcommand{\latex}[1]{#1}
\newcommand{\setunderscore}{\renewcommand{\_}{{\tt\symbol{95}}}}
\latex{\setunderscore}

%  Redefine the \tableofcontents command. This procrastination is necessary 
%  to stop the automatic creation of a second table of contents page
%  by latex2html.
\newcommand{\latexonlytoc}[0]{\tableofcontents}

% -----------------------------------------------------------------------------
%  Debugging.
%  =========
%  Remove % on the following to debug links in the HTML version using Latex.

% \newcommand{\hotlink}[2]{\fbox{\begin{tabular}[t]{@{}c@{}}#1\\\hline{\footnotesize #2}\end{tabular}}}
% \renewcommand{\htmladdnormallinkfoot}[2]{\hotlink{#1}{#2}}
% \renewcommand{\htmladdnormallink}[2]{\hotlink{#1}{#2}}
% \renewcommand{\hyperref}[4]{\hotlink{#1}{\S\ref{#4}}}
% \renewcommand{\htmlref}[2]{\hotlink{#1}{\S\ref{#2}}}
% \renewcommand{\xref}[3]{\hotlink{#1}{#2 -- #3}}
% -----------------------------------------------------------------------------
% ? Document specific \newcommand or \newenvironment commands.
% ? End of document specific commands
% -----------------------------------------------------------------------------
%  Title Page.
%  ===========
\renewcommand{\thepage}{\arabic{page}}
\begin{document}
\thispagestyle{empty}

%  Latex document header.
%  ======================
\begin{latexonly}
   CCLRC / {\sc Rutherford Appleton Laboratory} \hfill {\bf \stardocname}\\
   {\large Particle Physics \& Astronomy Research Council}\\
   {\large Starlink Project\\}
   {\large \stardoccategory\ \stardocnumber}
   \begin{flushright}
   \stardocauthors\\
   \stardocdate
   \end{flushright}
   \vspace{-4mm}
   \rule{\textwidth}{0.5mm}
   \vspace{5mm}
   \begin{center}
   {\Huge\bf  \stardoctitle \\ [2.5ex]}
   {\LARGE\bf \stardocversion \\ [4ex]}
%  {\Huge\bf  \stardocmanual}
   \end{center}
   \vspace{5mm}

% ? Heading for abstract if used.
   \vspace{10mm}
   \begin{center}
      {\Large\bf Abstract}
   \end{center}
% ? End of heading for abstract.
\end{latexonly}

%  HTML documentation header.
%  ==========================
\begin{htmlonly}
   \xlabel{}
   \begin{rawhtml} <H1> \end{rawhtml}
      \stardoctitle\\
      \stardocversion\\
      \stardocmanual
   \begin{rawhtml} </H1> \end{rawhtml}

% ? Add picture here if required.
% ? End of picture

   \begin{rawhtml} <P> <I> \end{rawhtml}
   \stardoccategory \stardocnumber \\
   \stardocauthors \\
   \stardocdate
   \begin{rawhtml} </I> </P> <H3> \end{rawhtml}
      \htmladdnormallink{CCLRC}{http://www.cclrc.ac.uk} /
      \htmladdnormallink{Rutherford Appleton Laboratory}
                        {http://www.cclrc.ac.uk/ral} \\
      \htmladdnormallink{Particle Physics \& Astronomy Research Council}
                        {http://www.pparc.ac.uk} \\
   \begin{rawhtml} </H3> <H2> \end{rawhtml}
      \htmladdnormallink{Starlink Project}{http://star-www.rl.ac.uk/}
   \begin{rawhtml} </H2> \end{rawhtml}
   \htmladdnormallink{\htmladdimg{source.gif} Retrieve hardcopy}
      {http://star-www.rl.ac.uk/cgi-bin/hcserver?\stardocsource}\\

%  HTML document table of contents. 
%  ================================
%  Add table of contents header and a navigation button to return to this 
%  point in the document (this should always go before the abstract \section). 
  \label{stardoccontents}
  \begin{rawhtml} 
    <HR>
    <H2>Contents</H2>
  \end{rawhtml}
  \renewcommand{\latexonlytoc}[0]{}
  \htmladdtonavigation{\htmlref{\htmladdimg{contents_motif.gif}}
        {stardoccontents}}

% ? New section for abstract if used.
  \section{\xlabel{abstract}Abstract}
% ? End of new section for abstract
\end{htmlonly}

% -----------------------------------------------------------------------------
% ? Document Abstract. (if used)
%  ==================
\stardocabstract
% ? End of document abstract
% -----------------------------------------------------------------------------
% ? Latex document Table of Contents (if used).
%  ===========================================
% \newpage
%  \begin{latexonly}
%    \setlength{\parskip}{0mm}
%    \latexonlytoc
%    \setlength{\parskip}{\medskipamount}
%    \markboth{\stardocname}{\stardocname}
%  \end{latexonly}
% ? End of Latex document table of contents
% -----------------------------------------------------------------------------
\newpage
% \renewcommand{\thepage}{\arabic{page}}
% \setcounter{page}{1}

%  \section{\label{introduction}\xlabel{introduction}Introduction}

\section{\label{using_jpeg}\xlabel{using_jpeg}Using JPEG}

\subsection{\label{the_jpeg_library}\xlabel{the_jpeg_library}The JPEG Library}

On a Starlink system, the JPEG library is normally installed in the
{\tt{/star/lib}} directory.  The include files that go with it are
normally installed in {\tt{/star/include}}.

A program that requires both the JPEG include files and the library
might be compiled thus:

\begin{quote}
{\tt \% cc -O -I/star/include myprog.c -o myprog -L/star/lib -ljpeg}
\end{quote}

There is a complete description of the facilities available from the
JPEG library in the document {\tt{libjpeg.doc}} online in the source
directory, which is typically {\tt{/star/starlink/tclsys/jpeg}} on
Starlink systems.

\subsection{\label{compressing_and_decompressing_jpegs}\xlabel{compressing_and_decompressing_jpegs}Compressing and decompressing JPEGs}

There are two utilities with the JPEG distribution: {\tt{cjpeg}} to compress
an image into JPEG formant, and {\tt{djpeg}} to decompress a JPEG image into
conventional format.

\begin{description}

\item[Compression:]  The {\tt{cjpeg}} program will compress a variety of
image formats into JPEG format.  You should use a command of the form:

\begin{quote}
{\tt \% cjpeg [switches] [imagefile] > jpegfile}
\end{quote}

where {\tt{\%}} is the shell prompt.  {\tt{cjpeg}} will read from {\tt{stdin}}
if no {\tt{imagefile}} is given.  

For example, to convert {\tt{mypict.gif}}
to a JPEG named {\tt{mypict.jpg}}, the command would be:

\begin{quote}
{\tt \% cjpeg mypict.gif > mypict.jpg}
\end{quote}

Note that when converting greyscale GIF images, you should use the switch
{\tt{-grayscale}}.

\item[Decompression:] The {\tt{djpeg}} program will decompress a JPEG image
to variety of standard image formats.  You should use a command of the form:

\begin{quote}
{\tt \% djpeg [switches] [jpegfile] > imagefile}
\end{quote}

where {\tt{\%}} is the shell prompt.  {\tt{djpeg}} will take input from
{\tt{stdin}} if no {\tt{jpegfile}} is specified.

For example, to convert {\tt{mypict.jpg}} to a GIF, the command would be:

\begin{quote}
{\tt \% djpeg -gif mypict.jpg > mypict.jpg}
\end{quote}

\end{description}

For more information, there are man pages for both {\tt{cjpeg}} and 
{\tt{djpeg}}, {\em{e.g.}}:

\begin{quote}
{\tt \% man cjpeg}
\end{quote}

There is a complete description of the two JPEG utilities in the document
{\tt{usage.doc}} online in the source directory, which is typically
{\tt{/star/starlink/tclsys/jpeg}} on Starlink systems.

\end{document}
