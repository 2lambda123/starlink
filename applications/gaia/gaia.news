
    Version 4.2-2
    =============

    Contour lines can now be drawn in dotted and dashed styles.

    Contour levels can now include missing values (previously 
    attempting this caused a Tcl error).

    The AXIS component of an NDF cube will now be propagated with any
    extracted spectra. Previously this didn't happen so saved spectra
    could loose their coordinates.

    A new option for browsing the extensions of an MEF or other NDFs
    of an HDS container file for cubes has been added to the cube toolbox.

    The data limits used for spectral extraction will now be updated
    when either a master starts an extraction, or the 3D scene starts
    moving the spectral extraction shape (region or line).

    A bug displaying the extraction limits on the spectral plot which
    caused the limits to be reversed when moving the graphics, has been fixed.

    New hot keys "1", "2" and "3" have been added to the 3D display for
    pointing an axis out of the screen. Note that the existing binding
    to "3" has been moved to "7" (switch to stereo mode).

    The cube toolbox can now display the data variances as standard
    deviations (ERROR component).

    When creating a channel map from a cube some of the combination 
    estimators require more than one channel to operate (median for
    instance), this problem is now reported avoiding an uninformative
    error message.

    When capturing an animation to a GIF the main window must be clear
    of all overlapping windows. This requirement is now reported as
    a warning rather than a generic "too many colors" error messages.

  Humu Release
  ============

    Version 4.2-1
    =============

    GAIA-3D volume visualisation extension.
    ---------------------------------------

    New facilities for visualising data cubes have been developed for
    GAIA. These include the facility to display 3D iso-surfaces and also to do
    volume rendering. The current slice and spectral point extraction can also
    be rendered into the scene, and there are also facilities for drawing
    annotated axes and direction vectors. The scene is fully interactive and
    can be manipulated to view regions of interest, as well as move the
    current slice and spectrum. Readout of the celestial and spectral
    coordinates are also available (these work in the plane of the visualised
    slice). Finally it is also possible to display iso-surfaces of other cubes
    into the same scene for intercomparison purposes. See the "View" menu of
    the cube toolbox.

    A new command-line option "-autoscale" has been added. This enables
    the "View->Auto scale" option to scale the image to fit the main window
    and to keep it scaled when the main window is resized (but disables
    interactive control of the Scale: value). Also available as a persistent
    startup option.

    A new command-line option "-autofit" and "View->Auto fit" menu item has
    been added. This arranges for newly loaded images to fit the main window
    (unlike "Auto scale" this happens just once and control of the zoom
    remains active). Also available as a persistent startup option.

    A cube toolbox can now couple the position of its slice and spectral
    extraction to another toolbox so that cubes of the same size can be
    inspected concurrently. See the "Options" menu of a cube toolbox.

    The cube toolbox can now read an ARD region from a file.

    When saving an image with a new WCS the strategy for removing redundant
    information from FITS headers has been improved.

    A problem displaying cubes using the gaiadisp command has been
    fixed (reported an invalid NDF identifier when the cube spectral
    axis changed from that of the previous cube).

    Temporary files created by GAIA can now be placed into a named
    directory by defining the GAIA_TEMP_DIR environment variable.

    A bug reading BITPIX 32 FITS cubes has been fixed. This could result
    in blank data values not being ignored.

    It should now be possible to NDF byte data cubes. Previously these were
    handled incorrectly.

    The -hdu command-line option will now work again. This allows the selection
    of a extension when displaying an MEF.

    The display of cubes in MEFs is now possible using the -hdu or file.fits[hdu]
    forms on the command line, or by using the file.fits[hdu] form as the file
    name in the cube toolbox.

    FITS images containing floating point values will now assign any NaN
    values to the BLANK pixel colour.

    A memory leak when contouring external images over the displayed image
    has been fixed.

    The Tycho-2 catalogue has been added to the default list.

    A bug in the gaia_tcl program caused the gaiadisp command to fail
    under OS X. This has been fixed.

    When extracting spectra from ACSIS sparse cubes, the offset
    from the source position should now be correctly determined.

    A problem in the ROSAT catalogue query URL has been fixed.

    A problem opening NDFs with the same basename as a directory, in the
    same directory, has been fixed.

    The "Auto scale" feature now includes any graphics that have been drawn,
    so these now remain visible.

    The major fonts used in the interface may now be changed as startup options.
    Some platforms continue to provide poor size matching between the variable,
    fixed and symbol fonts.

    The mouse wheel will now scroll the main image (and some other components).
    Using it in combination with the control and shift keys gives horizontal
    scrolling (also available for horizontal wheels) and zooming.

    A bug open FITS cubes with sizes greater than 2Gb has been fixed.
    Previously these could be reported as having no dimensions.

    The time needed to open some NDFs with very large lookup tables in their
    WCS has been significantly decreased.

    A bug saving graphics that included contour lines to a disk file has been
    fixed (present since March 2006).

    Inline compressed images (e.g. RICE) can now have more than 2 dimensions.

    The scale factor used in the pick object zoom window is now a command-line
    and startup option.

    A -geometry command-line option is now available. This uses the standard
    X11 syntax, widthxheight+xoffset+yoffset.

    Other new command-line options, -blank_color, -image_background and
    -ident, which set the blank pixel colour and the background colour
    of the main window. -ident adds a string to the window title so that
    different instances of GAIA may be distinguished.

  Puana Release:
  ==============

    GAIA 4.0-0
    ==========

    The version of Skycat that GAIA is based on has been updated to
    version 3.0-1. This has meant a major overhaul of the GAIA build
    system.

    The spectral offsets from the centre of observation of a cube
    now preserve the sense of the direction by including a sign
    (negative for west and south).

    A bug when writing an extracted spectrum to NDF and FITS files
    has been corrected. Previously the coordinates were incorrect
    by a single channel.

    When merging FITS headers from the primary data unit into those of an
    extension the INHERIT keyword is now checked.

    Inline compressed images (e.g. RICE) are now extracted more efficiently
    using built-in methods, rather than an external filter. The primary
    headers are now merged into such images as needed.

    Reading FITS catalogues is now also handled using built-in methods.
    This should be more efficient.

    FITS catalogues can now have 64 bit integer columns ('K' type).

    Compressed NDFs (.gz and .Z) can now be opened directly in the cube
    toolbox.

    Very small images (a few pixels wide or tall) now fill the zoom window.
    Previously small images did not show correctly.

    The rotatable box graphics item can now be used as a catalogue symbol.

    Re-opening modified cubes now works (via File->Re-open and gaiadisp).

    Data values are now only reported when moving over part of the image.
    Previously reports continued for an additional pixel to the bottom
    and left.

    When the first pixel has a NaN or blank value and has less than 10
    pixels the lower value is now correctly set, rather than being
    left at the bad pixel value.


    GAIA 3.3-7
    ==========

    The spectrum can now be re-extracted (after changing the extraction
    limits) by pressing a simple button, as well as by clicking on the
    image.

    The data range used to display the extracted spectrum can now be
    defined explicitly.

    The various bounds for extracting spectra etc. should now work
    correctly when the lower bound is greater than the upper bound.

    The output length of a TST catalogue line has been increased to 4096
    characters. Previously this was 1024 which has become restricting
    (causing some failures to read FITS catalogues with many columns).

    The spectral cube window will now retain some settings between
    sessions. These include the background and line colours.

    FITS spectra now have the extraction meta-data added to their headers.

    The rebin cube tools now correct use "mean" as the combination method.
    Previously "sum" was used until either "mean" or "sum" was explicitly
    selected.

    FITS images that contain NaN values should now contour correctly.

    The default on-line catalogue list has been updated. Fixes a problem
    with NED CADC access and includes some new CADC catalogues and the
    JCMT archive.

    A bug that caused image region circles to be drawn at the wrong
    scale has been fixed.

    A bug extracting a TSYS value when cubes have greater image dimensions
    than expected has been fixed.

    The "gaiadisp" command has been extended to accept a percentile cut
    as a command-line option.

    The SMURF extension data are now ignored in their dimensions do not
    match the cube. This probably means the cube has had addition processing
    that makes the extension data invalid (or at least misleading).

  Hokulei Release:
  ================

    This is an update with many usability changes and minor bug fixes:

    - New "Rebin" controls have been added to the cube toolbox. These allow
    the current cube to be rebinned and displayed.

    - New "Filter" controls have been added to the cube toolbox. These allow
    the current cube to be smoothed, image plane by image plane, using a box
    or gaussian filter.

    - A new "Go" menu has been added to the cube toolbox. This is similar
    to the main window menu, but only displays possible cubes, arranges
    for them to be efficiently loaded and attempts to preserve the
    current spectral extraction limits.

    - Spectra extracted from ACSIS cubes now contain various useful
    information, such as various RA and Decs, the exposure time of spectrum
    and the system temperature. These can be displayed by the SPLAT-VO
    application synopsis feature, when such a spectrum is sent to it.

    - The centroid maximum search box size and shift are now start up
    options that can be defined either on the command-line, or
    using the "File->Startup options..." dialog (this makes the change
    permanent)

    - The variance and quality components of a cube can now be displayed.

    - The FITS headers of a cube can now be inspected.

    - Spectra can now be sent to other PLASTIC-enabled applications using
    the Interop menu in the spectral plot window. Only SPLAT-VO supports
    this at present.

    - Extracted spectra can now be saved to NDF and FITS files. The
    "Send to SPLAT" options now send NDF spectra, previously they
    sent a text file.

    - Extracted spectra may now contain additional meta-data about
    the extraction position. This will be displayed in the SPLAT-VO
    synopsis.

    - An animated GIF of a range of image slices can now be created.

    - The grid overlay and celestial coordinate system toolboxes now
    support Horizon (AZEL) coordinates.

    - The celestial coordinates toolbox now supports the use of the
    sky reference position as an origin (for offset coordinates) or
    local pole.

    - Images of size 1x1 should now be accepted and handled as other images.
    Previously such small images had a special status which meant that
    no image was displayed.

    - Images that have one dimension of size 1 are now correctly autoranged
    and oriented (previously these were always drawn horizontally).

    - Cubes with trivial first and second dimensions are now loaded into
    the cube toolbox when -check_for_cubes is set. Previously these were
    considered as special form of images.

    - The measurement band now measures to the image edge, not middle
    of edge pixels.

    - A bug when extracting a spectrum over a restricted range meant that the
    coordinates of an NDF or FITS were incorrect (by an offset). This has
    been fixed.

    - Timeseries cubes can now be switched between different time scales.

    - The default cube axis is now selected to be the spectral one. Previously
    the third axis was always chosen.

    - The "send to SPLAT" option in the cube toolbox now sends the
    absolute name of the spectrum to be displayed. This means SPLAT
    may be started from another directory.

    - The "send to SPLAT" options in the cube toolbox have been extended
    to allow the spectrum to be compared to any existing ones (the old
    behaviour) and to replace any spectra already plotted.

    - Ranges used to extract spectra and control other operations are
    now preserved, except when the size of the underlying cube changes.
    This makes it easier to extract similar spectra and re-use baseline
    regions.

    - Channel maps now have a marker drawn to display the same position
    in each tile. The average spectral coordinate is also displayed
    and the channel map is given the same coordinate system as the
    used by the cube.

    - The coordinate system of a channel map is now matched to that
    of the current cube, so that any displayed coordinates are in
    the correct context.

    - When a cube is collapsed the result image is now in the same coordinates
    as the current ones in use by the toolbox. This gives the correct units
    for any integrated intensity measurements.

    - The distance ruler now measures to the middle of the final pixel to the
    top and right of the display. Previously this stopped one pixel further
    in.

    - FITS headers are now shown out to 80 characters. Previously they were
    truncated at 79.

    - The precession facility of the positions toolbox should now correctly
    transform the current list of coordinates, rather than a single position.

    - The cube spectral extraction now handles dependent axes (like RA and
    Dec), differently so that more extractions along one of these axes will
    succeed.

    - The XY profile toolbox can now be activated using control-e.
    This also avoids the prompt dialog reminding you to draw a
    rectangle.

    - The handling of broken WCS components in NDFs should now
    result in the display of an image/cube, without a WCS rather
    than an unrelated error report about a missing data component.

    - The direction compass is now always a fixed size, not one that
    depends on the image scale. Should now always be visible.

    - The initial order of baseline subtraction is now shown with the correct
    value (previously this was incorrect until the value was modified).

    - A bug causing a double free core dump when saving modified
    world coordinate systems for NDF data has been fixed.

    - A fatal bug when reading FITS headers from multiple NDFs in a container
    has been fixed.

    - The behaviour of the spectral plot window can now be changed so that
    it no longer remains above the main window. To enable this option
    either start GAIA with -transient_spectralplot 1, or set this option
    in the "File->Startup options..." dialog (this makes the change permanent).


  Keoe Release
  ============

  The most significant changes in this release are in cube handling. The
  toolbox is now much faster at image slicing and handles FITS cubes as
  well as NDF cubes. It also features an all new, built-in, real-time
  interactive spectral extraction display, which features point and region
  extraction. It also has new controls for creating channel map images and
  selecting ranges for baseline subtraction. On 64bit platforms cubes greater
  than 2Gb can be handled.

  As part of these cube handling updates, all the image analysis toolboxes now
  also work on cube slices. Spectral analysis features are provided by
  communication with SPLAT-VO, which works outside of GAIA.

  GAIA can now also interoperate with some PLASTIC enabled applications.

  Other major changes in this release are that the version of Skycat has been
  updated (after a long pause of five years) to 2.4.7, along with an update to
  using Tcl/Tk 8.4.11.

  Highlights of the change to Skycat 2.4.7 include a new feature for the
  display of MEFs, and groups of NDFs, as a single image.

  There are also many minor changes in this release of GAIA:


    - GAIA can now display in-line compressed images (such as RICE from WFCAM).
      These are converted into temporary files on the fly and can be
      used with all other tasks within GAIA.

    - The ESP toolbox now reports the mean count along the isophote and plots
      intensity profiles.

    - A rarely seen problem with foreign-file conversion deleting the input
      files has been fixed.

    - The object detection toolbox has been updated to work with SExtractor
      version 2.4.3. This includes Petrosian magnitudes and some windowed
      parameters.

    - The Second U.S. Naval Observatory CCD Astrograph Catalogue (UCAC2) has
      been added to the default list. Existing users will be prompted to
      remove the file $HOME/.skycat/skycat.cfg and re-start GAIA to make this
      available.

    - The 2MASS catalogue query now includes a minimum radius. This change
      will be included with the UCAC2 update.

    - The GAIAIMAGEPICK_DIR environment variable now selects default directory
      for Pick-Image toolbox log file.

    - The image slice now has a option to display the Y axis using a log scale.

    - The cube slice display toolbox now has options for continuously
      looping (including "rock-and-roll").

    - The "Show all coordinates" toolbox now displays coordinates from
      systems with more than 2 axes.


  Finally in this release GAIA has undergone major changes in the way that it
  is built and distributed (it is now available in the Starlink CVS repository
  and uses an autotools based build system). During this change IRAF support
  has been dropped, although the IRAF support files are still available in the
  CVS repository.

  Long-term users should note that GAIA is no longer supported by the Starlink
  project, which has been terminated. Most of this new work has been carried
  out for the JAC Hawaii. If you want work on GAIA to continue then support it
  by contacting any current members of the PPARC Astronomy or Science
  committees and making your views known.

  If you have any comments or problems with GAIA then join the Starlink
  support group.

  Peter W. Draper (p.w.draper@durham.ac.uk)

  Previous release notes:
  -----------------------

  Last official Starlink release: GAIA 2.8-0 - 04 November 2004
  =============================================================

  A major release of GAIA incorporating a new NDF cube handling facility.
  GAIA will now detect 3D input data (ideally in NDF format) and display
  slices along one of the extra dimensions. This may be animated.

  You can also create a new image that is a combination of images between
  a range of indices. The tool also shows the world coordinates along the
  extra dimensions. All displayed and created images can be processed like
  any other image, so you can perform photometry, region statistics etc.

  The following minor issues have also been fixed.

    - The astrometry tables now offer a button to project X,Y to RA,DEC
      to complement the reset projection of RA,DEC to X,Y.

    - Contouring toolbox bug fixed. If you entered an incorrect NDF name for
      the second image, the error was never recovered and GAIA had to be
      restarted.

    - GAIA has been relinked against AST to fix a problem when the
      presence of multiple possible astrometries in FITS headers
      causes the image scale to be incorrectly estimated.

    - Printing the "whole image" now works when repeated without exiting
      GAIA.

    - Incompatibilities in the WCS components of NDFs are now ignored (older
      versions of AST cannot read newer encodings).

    - A problem with coordinate readout coupling when using more than one
      interactive slice or XY profile is being used.

    - A error reading the CRPIX values in the blink/compare toolbox has been
      fixed.

  GAIA (2.7-5)
  ============

  GAIA 2.7-5 incorporated two new automated astrometry toolboxes, a major
  re-write of the blink comparison toolbox and many changes and fixes.

  GAIA 2.7-5 offered two new toolboxes based on the Starlink AUTOASTROM
  program. These make it possible to provide a minimum of positional
  information (image centre and scale) and then fit an astrometric
  solution. They also make it possible, for the first time, to fit optical
  distortions. The new toolboxes are available at:

     Image-Analysis->Astrometry Calibration->Automatic position matching

  One is for simple use and the other for advanced use.

  The blink comparison toolbox was substantially upgraded in this release.
  New features are options to alignment to NDF origins or FITS CRPIX values.
  This gives much better behaviour when comparing images of different
  dimensions. Better performance (less flickering artifacts). The ability to
  drag images and enter image coordinate offsets. All images can now be viewed
  together or one-by-one as before. Images should now always scroll and the
  "Refresh" button has been removed.

  Other changes in 2.7-5 release:

     - Spitzer/SIRTF FITS headers, including the optical distortion,
       are now handled.

     - The NDF component chooser now allows the variance component to be
       displayed as expected.

     - A new default percentage autocut option has been added.

     - Shared memory segments under Solaris should now be better behaved.

     - The handling of byte images is changed so FITS BITPIX=8 are correctly
       interpreted as unsigned byte, not signed byte. This change mostly
       effects the XY profile and contouring toolboxes.

     - An attempt to clear old WCS information from images before saving
       is now made.

     - The "gaiadisp" command has been enhanced to load a list of
       images into GAIA.

     - An experimental tabbed interface has been produced to make it
       easier to view FITS MEF files. To try this out use the command:

          $GAIA_DIR/tabbedgaia

     - Long thin or tall images (2 pixels or more) now display a readout of
       positions.

     - The "$GAIA_DIR/pix2wcs" and "$GAIA_DIR/wcs2pix" scripts should be
       working again.

     - The "$GAIA_DIR/displaycat" command now creates fully functional
       catalogue windows (previous these did not include any GAIA specific
       changes).

     - The "-catalog" command-line option now accepts a list of catalogues to
       display immediately.

     - The polarimetry toolbox now correctly processes selection expressions
       when column names are short forms of other names (i.e. when P and PI,
       DP and DPI etc. are used). Previously an attempt to interpret $PI as
       $P would be made and subsequently fail.

     - Making name queries using the RedHat 9 build of GAIA failed
       completely, sometimes causing a core dump from a child process.
       This problem has now been resolved.

     - The interpretation of FITS -CAR projections is now a configuration
       option. Previously this was fixed at assuming that all Cartesian
       projections are simple linear mappings (this remains the default),
       ignoring the possibility of spherical rotations. Refer to the CarLin
       attribute of the AST (SUN/211) library for more about this change.

     - Various changes to grid overlays have been implemented.
       This now supports AST 3.2 super-script and sub-script, font and colour
       changes within a string. Fonts drawn on the overlay grid can now be
       scaled with image. Better matching of postscript font size to displayed
       size has also been implemented. A long term memory leak has been cured
       (only seen when drawing overlays).

     - A new configuration option "always_merge" controls if the primary header
       of any FITS files are merged with those of extension being viewed to
       create a full set of headers for creating a world coordinate system. By
       default this merging no longer occurs when the primary HDU contains a
       non dummy image.

     - Region statistics now also include values for the NDF variance
       component.
