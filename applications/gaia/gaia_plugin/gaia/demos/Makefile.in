# E.S.O. - VLT project/ESO Archive
# $Id: Makefile.in,v 1.1 1998/04/07 00:05:26 abrighto Exp $
#
# Makefile.in
#
# This file is processed by configure to produce the actual Makefile.
#
# who             when       what
# --------------  ---------  ---------------------------------------------
# Allan Brighton  04 Oct 95  Created
# ------------------------------------------------------------------------

INSTALL      = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
GAIA_DIR   = @GAIA_DIR@
BINDIR       = @BINDIR@
RM           = rm -f
SHELL        = /bin/sh

# starter shell script
SCRIPTS      = gaia.sh

# symbolic links to install
TCL_LINKS        = gaia

# other files to install
FILES        = gaia.tcl tclIndex

all: tcl_links

# make links to the startup script for starting the Tcl applications
tcl_links:
	@for i in $(TCL_LINKS); do rm -f $$i; ln -s gaia.sh $$i; done
	@rm -f test.fits; ln -s ../images/test.fits .

All: 
	cd ..; $(MAKE)

install-top:
	@test -d $(BINDIR) || mkdir $(BINDIR) 
	@test -d $(GAIA_DIR) || mkdir $(GAIA_DIR) 
	@test -d $(GAIA_DIR)/demos || mkdir $(GAIA_DIR)/demos

install: install-top
	@set -x; for i in $(SCRIPTS) ; do \
	    $(INSTALL_DATA) -m 775 $$i $(GAIA_DIR)/demos ; \
	done 
	@set -x; for i in $(FILES) ; do \
	    $(INSTALL_DATA) -m 664 $$i $(GAIA_DIR)/demos ; \
	done 
	@set -x; for i in $(TCL_LINKS); do \
	    rm -f $(BINDIR)/$$i $(GAIA_DIR)/demos/$$i; \
	    (cd $(GAIA_DIR)/demos; ln -s gaia.sh $$i) ; \
	    (cd $(BINDIR); ln -s ../lib/gaia/demos/$$i $$i) ; \
	done

clean:
	$(RM) *\~ "#"* core

depend:

distclean: clean
	rm -f Makefile gaia.sh

man:

index tclIndex:
	../library/mkIndex.tcl

