<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Contouring Toolbox</title>
  </head>

  <body>
    <a name="xref_contour"></a>
    <h2 align=center>
      <font color=red>Contouring Toolbox</font>
    </h2>

    <h3>Contouring the displayed image</h3>
    <ol>
      <li>Press the <tt>Generate</tt> tab.</li>
      <li>Press the <tt>Generate</tt> button.</li>
      <li>Press the <tt>Draw Contours</tt> button.</li>
    </ol>
    <p>
      This generates some automatic levels and performs the contouring. The
      levels actually used are shown in the <tt>Level</tt> entries. To change
      these values just edit the entries and press &lt;Return&gt; or the
      <tt>Draw Contours</tt> button (pressing &lt;Return&gt; in the entry
      field just redraws that contour).
    </p>
    <p align=center><img src="contourui.gif"></p>

    <h3>Contouring another image over the displayed image.</h3>
    <p align=center><img src="contour.gif"></p>
    <p>
      Either display the other image in another window and select it from the
      <tt>Displayed image:</tt> menu, or enter the name of the image file into
      the <tt>Other image:</tt> field. Now enter some appropriate contour
      levels and press <tt>Draw Contours</tt>.
    </p>

    <p>
      <b>
        NOTE:</b> images entered in the <tt>Other image:</tt> field always
        override displayed images. Clear this field to use a displayed image.
    </p>

    <p>
      If the images both have sky coordinates then this system will be used
      for alignment, otherwise the images will be assumed to have the same
      pixel coordinates. If you are using sky coordinates which cover large
      areas of sky or your images are not axes aligned then you may need to
      choose the <tt>Options</tt> menu and select the <tt>Draw contours using
      geodesics</tt> item, you may also need to select the <tt>Region</tt> tab
      and choose <tt>Whole of image</tt> for the contour region.
    </p>

    <h3>Contouring a cube over the displayed image.</h3>
    <p>
      To contour a cube over the displayed image (which could be a slice from
      a cube itself) you must display the cube in another window and select
      that window in the <tt>Displayed image:</tt> menu. Now when you press
      <tt>Draw contours</tt> all the slices of the cube will be contoured,
      one-by-one, over the image. The coordinate of the slice will be shown at
      the top of the main window (this is part of the key).
    </p>
    <p>
      To change the speed of the slice selection, change the range of slices
      used, or increase the step between slices you must use the controls of
      the <tt>Animation</tt> section in the cube toolbox associated with the
      other window.
    </p>
    <p>
      To not clear the contours between slices unselect the <tt>Cube: clear
      each slice</tt> item in the <tt>Options</tt> menu. Just contouring the
      current slice can also be performed by unselecting <tt>Cube: step
      through</tt>.
    </p>

    <h3>Pausing and halting</h3>
    <p>
      To pause contouring during long operations (especially comparing cube
      slices) you can press the <tt>Space</tt> key while the keyboard focus is
      in the contouring toolbox. Pressing <tt>Space</tt> again continues.
      To permanently halt contouring press the <tt>Esc</tt> key. Note these
      will only take effect after a contour has completed, so may take some
      time to respond.
    </p>


    <h3>Printing the image plus contours</h3>
    <p>
      Choose the <tt>File</tt> menu in the main window and select
      <tt>Print...</tt>. This should create a new dialog window. Just choose
      the appropriate options.
    </p>

    <h3>Saving and restoring the contour levels etc. </h3>
    <p>
      Choose the <tt>File</tt> menu and select the
      <tt>Save configuration...</tt> item.
      When the file selection dialog appears choose a filename.
    </p>

    <p>
      To reload a configuration choose the <tt>Read configuration...</tt> item.
    </p>

    <h3>Setting the line thickness, colour and style.</h3>
    <p>
      Each contour has its own thickness, colour and style. The menu associated with
      each level show the possible values, just select the one you want. Note
      these options are applied immediately, there is no need to redraw the
      contours. The styles available are filled line (0), dotted (1), dashed (2) 
      and dot-dashed (3).
    </p>

    <h3>Generating contours at magnitude-like intervals.</h3>
    <p>
      Press the <tt>Generate</tt> tab, select the <tt>Algorithm</tt> menu and
      choose the <tt>magnitude</tt> item. Now enter the value of a reference
      point on your image and an increment in magnitudes. Finally press the
      <tt>Generate</tt> button.
    </p>

    <p>
      I use this option by entering a value somewhat above the sky background
      and then setting the interval to say -0.5 (negative to get increasing
      data values). The formula used is:
      </p>
    <pre>
                                     (-0.4 * i * step_value)
   contour_level_i = start_value * 10
    </pre>
    <p>
      For i = 0 up to number of contours required.
    </p>

    <h3>Contouring the region right to the edge of the display.</h3>
    <p>
      Select the <tt>Region</tt> tab and press the <tt>Whole of image:</tt>
      button, or alternatively increase the X and Y display fractions.
    </p>

    <p>
      <b>NOTE:</b> it is much quicker to contour part of an image, this
      also uses less memory.
    </p>

    <h3>Adding units to the contour key.</h3>
    <p>
      Press the <tt>Key</tt> tab. This provides a range of options for
      changing the key title, key position, colour etc. Note that the key
      setup is saved as part of the configuration, so can be restored.
    </pp>

    <h3>Moving or removing the key.</h3>
    <p>
      To move the key just place your pointer over it, press mouse button 1
      and hold it down, now move the pointer and the key will follow.
    </p>
    <p>
      To remove the key select the <tt>Key</tt> tab and toggle the
      <tt>Display key:</tt> button.
    </p>

    <h3>Adding contours from more than one other image. </h3>
    <p>
      To do this you need to create a new contour toolbox. Just select
      the <tt>File</tt> menu and choose the <tt>New window</tt> item.
    </p>

    <h3>Drawing axes around the contours.</h3>
    <p>
      To do this you use the axis grid toolbox. Just select the
      <tt>Image-Analysis</tt> menu in the main window and choose the
      <tt>Overlay axes grid</tt> item. To match the regions drawn choose the
      <tt>Scaling</tt> tab and select the <tt>Whole of image:</tt> button, now
      make the display fractions the same size as used in the contour toolbox.
    </p>
  </body>
</html>
