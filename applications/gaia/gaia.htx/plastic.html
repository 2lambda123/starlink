<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<title>Tool Interoperability using PLASTIC</title>
</head>

<body>
<a name="xref_plastic"></a>
<h2 align="center"><font color="red">Tool Interoperability using PLASTIC</font></h2>

<h3>What is PLASTIC?</h3>

<p>PLASTIC stands for the <u>PL</u>atform for 
<u>AS</u>tronomical <u>T</u>ool <u>I</u>nter<u>C</u>onnection.
It is a protocol which allows tools on the desktop to communicate 
with each other.  Briefly, the way it works is that applications
can send messages to a central <strong>hub process</strong> which will
then pass them on to other applications which can respond to them
in some appropriate way.  The messages are things like "load this table"
or "point at this position on the sky".
Applications which currently talk PLASTIC include 
<a href="http://www.starlink.ac.uk/topcat/">TOPCAT</a>,
<a href="http://aladin.u-strasbg.fr/aladin.gml">Aladin</a>
and various tools from the
<a href="http://software.astrogrid.org/">AstroGrid project</a>.
</p>

<p>You can find more information about how it works, what applications
are compatible, and how it can be useful at the
<a href="http://plastic.sourceforge.net/">PLASTIC web site</a>.
</p>

<h3>How do I use GAIA with PLASTIC?</h3>

<p>In order for PLASTIC communications to work, a PLASTIC hub must be
running on your machine.  This is not part of GAIA and you will have
to start it up separately.  The recommended way to do this is 
currently to run the <strong>AstroGrid Workbench</strong>, 
which can be started using Java WebStart by following links on the
<a href="http://software.astrogrid.org/">AstroGrid website</a>.
</p>

<p>If the hub is running when GAIA starts up, GAIA will connect to it
("register") automatically.  
If you start the hub while GAIA is already running,
you can connect to it by selecting the "Register"
option from GAIA's "Interop" menu.  When registered,
GAIA will listen out for messages from other applications and act
on them.  You will also be able to send messages to other applications.
If you want to stop GAIA responding to any such messages, 
you can select "Unregister" from the same menu.
</p>

<p>In most cases, sending a PLASTIC message from GAIA is controlled 
using one of its "Interop" menus.  For a given action these often have
two ways to transmit a given message: "Broadcast ..." and "Send to ...".
For broadcast, all registered applications which understand it are
invited to do something with the message.  For "Send to ..." there is
a submenu which allows you to choose which single application to 
direct the message to.  Only applications which claim to understand
the particular message will appear on such submenus (which means that
this submenu may be empty, depending on what you've got running).
</p>

<h3>What PLASTIC facilities does GAIA support?</h3>

<p>GAIA can both send and respond to messages in two general 
application areas: image-related, and catalogue-related
(a third category of housekeeping messages is not discussed here).
The messages and how to use them are listed below; the
<i>message ids</i> (strings starting "<code>ivo://</code>") are 
the formal identifiers for these messages - if you are not an applications
programmer you can ignore these.
</p>

<h4>Image-Related Facilities</h4>

<dl>
<dt><b>Load image</b>
    (<code>ivo://votech.org/fits/image/loadFromURL</code>)</dt>
<dd>If an image is sent from another PLASTIC application to GAIA, it
    will be displayed in GAIA's existing base image window.
    You can send an image from one of GAIA's windows to one or all
    of the other registered applications by using the "Broadcast/Send Image"
    options in the "Interop" menu on the relevant image
    window.
    </dd>

<dt><b>Highlight Position</b>
    <code>ivo://votech.org//sky/pointAtCoords</code>)</dt>
<dd>If a Highlight Position message is received from another 
    application, it will plot a marker (green circle) 
    at the indicated spot on GAIA's base image window,
    as long as the point falls within the bounds of the currently 
    displayed image.
    </dd>
</dl>

<h4>Catalogue-Related Facilities</h4>

<dl>
<dt><b>Load catalogue</b>
    (<code>ivo://votech.org/votable/loadFromURL</code>)</dt>
<dd>If a table is received from another application, it will appear as
    a new <a href="query.html">catalogue query window</a> associated
    with GAIA's base image window.  Any of its points which are within
    the bounds of the current image will be overplotted.
    This window will have an "Interop" menu which can be used for
    communicating information about one or more selected rows within 
    the table between GAIA and other PLASTIC applications which 
    have a copy of it.
    </dd>

<dt><b>Highlight Selection</b>
    (<code>ivo://votech.org/votable/showObjects</code>)</dt>
<dd>If another application sends this message, the selection visible in 
    the catalogue will change, both in the query window and the symbols
    plotted on the image.  You can send a selection of points from the
    to other applications from the GAIA query window using its Interop
    menu: the "Broadcast/Send current search" options send all the
    visible rows, and "Broadcast/Send current selection" send only 
    the currently selected ones (rows highlighted in blue in the query
    window).
    </dd>

<dt><b>Highlight Row</b>
    (<code>ivo://votech.org/votable/highlightObject</code>)</dt>
<dd>If the query window's Interop menu has the "Selection broadcasts
    row index" checkbox ticked, then if you select a single row 
    either by clicking on it in the query window or by clicking on
    its symbol in the image, this message will be sent to other
    applications to invite them to highlight that row.
    Similarly, if other applications send similar messages about this
    to GAIA, it will respond by highlighting the relevant row and symbol.
    </dd>

<dt><b>Highlight Position</b>
    (<code>ivo://votech.org/sky/pointAtCoords</code>)</dt>
<dd>If the query window's Interop menu has the "Selection broadcasts
    row position" checkbox ticked, then the sky position associated
    with the row will be broadcast to other applications when a
    single row is selected.  They may respond by highlighting that
    position on their own sky images.  Note that unlike the other
    catalogue-related messages, this may have an effect for applications
    other than the one which sent the catalogue in the first place.
    </dd>
</dl>

</body>
</html>
