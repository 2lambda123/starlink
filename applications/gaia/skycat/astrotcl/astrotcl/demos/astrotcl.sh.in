#!/bin/sh
#
# E.S.O. - VLT project
#
# "@(#) $Id: astrotcl.sh.in,v 1.2 2005/02/02 01:43:04 brighton Exp $" 
#
# This script is used by the Makefile to create a startup script
# for Tcl/Tk applications.
#
#  who      when     what
# -------- -------- ------------------
# abrighto 11/10/95 created 
# abrighto 26/11/97 modified to use astrotcl and astrotcl pkgs
# pbiereic 05/08/99 to be used with the appended tcl file (see Makefile)

# when running from the source dir, set different env for local test
test -f ../demos/astrotcl_env.sh && . ../demos/astrotcl_env.sh

# During development, set ASTROTCL_LIBRARY to your local library path 
# (see demos/astrotcl_env.sh), otherwise the tcl/tk scripts are taken
# from the installed versions

# get absolute path from which this script was started from
P=$PWD; DIRN=`dirname $0`; cd $DIRN; XP=`pwd`; cd $P

# wish binary to use
if [ -z "$ASTROTCL_LIBRARY" ] ; then
   WISH=astrotcl_wish; L=`dirname $XP`; ASTROTCL_LIBRARY="$L/lib/astrotcl" ; export ASTROTCL_LIBRARY
   else WISH=$ASTROTCL_LIBRARY/../bin/astrotcl_wish
fi

# append basic shared library runtime search path to @LD_VARNAME@ (only for users
# who have not set it properly)
@LD_VARNAME@="${@LD_VARNAME@}:@LIBDIR@:@TCLTK_ROOT@/lib:@TCLTK_ROOT@/lib/itcl:@XLIBDIR@"

# start the application 
exec $WISH "$0" ${1+"$@"}

