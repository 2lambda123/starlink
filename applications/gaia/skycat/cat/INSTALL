HOW TO INSTALL the CAT Software
-------------------------------


1. Before you build the CAT software
------------------------------------

The Cat package assumes one of the following Tcl environments are
installed:

For Tcl7.6:
	itcl2.2    - [Incr Tcl], includes tcl7.6, tk4.2
	BLT2.1     - BLT toolkit, graphs and other widgets 
	tclX7.6.0  - Extended Tcl

Or for Tcl8.0 (or newer):
	Tcl8.0.3   - Tcl Shell
	Tk8.0.3    - Tk X Toolkit
	itcl3.0.1  - [Incr Tcl]
	BLT2.4f    - BLT toolkit, graphs and other widgets 
	tclX8.0.3  - Extended Tcl

These packages are available from the TCL archives. 
  See: http://www.tcltk.com/ for Itcl.
  and  http://www.NeoSoft.com/tcl/ for TclX and other contributed Tcl software
  and: http://www.scriptics.com/tclpro/ for Tcl8.x, TclPro and the latest releases.

You can install the standard Tcl/Tk packages anywhere, however it is
easiest to install them all in the same directory (using the same
-prefix argument to configure).

You can also get a copy of the whole Tcl7.6/Tk4.2 source tree, with patches 
already applied from ftp://ftp.archive.eso.org/pub/skycat/.

In addition, the cat package requires the following packages, which
should be included in the tarfile:

	tclutil - Tcl and C++ Utilities Package
	astrotcl - Astronomical Tcl and C++ Utilities

Note: The dependeny on these two packages is hidden from applications
that use the cat library. In the installation, the cat library
contains all of the tclutil and astrotcl object files and the cat
include directory contains all of the necessary include files (for
backward compatibility). The global auto_path Tcl variable is also
updated automatically to include the necessary Tcl source directories.


2. Build the CATLIB Software
----------------------------

To build the software, type:

	configure
	make 
	make install

The default install dir is /usr/local. You can specify the -prefix
argument to configure to change this:

 	configure -prefix $INSTALLDIR

The compilers used are the same as those used to build the tclutil
package. The file tclutilConfig.sh is read by configure to get the
necessary information.

If you specify the configure option --enable-shared:

	configure -prefix $INSTALLDIR --enable-shared

you can build a shared library and load the Tcl commands with the Tcl
"load" command or load it as a Tcl package under the name "Cat". The
Tcl code to do this would look something like this, assuming the
pkgIndex.tcl file for the Cat package is in your Tcl "auto_path"
variable:

if {[catch {package require Cat} msg]} {
	 puts "error loading Cat package $msg"
	 exit 1
}

**********************************************************************
Note that if you are using g++, you must also have libg++ compiled as
a shared library for this to work (libg++-2.7.2 also has the 
"--enable-shared" option).
**********************************************************************

VLT Make Procedure
------------------

As an alternative to running configure and make, you can also do this:

	cd src
	make 
	make install

The Makefile in the cat/src directory runs configure and then make as
described above. You can also specify options to that Makefile, for
example:

	cd src
	make PREFIX=$INSTALLDIR CONFIGURE_FLAGS=--with-gcc

The PREFIX variable defaults to /usr/local and is the prefix of the
directory in which to install the software.


3. Running the tests
--------------------

To test the software you can run the tests in any of the "test"
directories. For example, to test the C++ classes:

	cd astrocat/test
	make test

For the C wrappers:

	cd ccat/test
	make test

For the Tcl scripts:

	cd tclcat/demos
	astrocat




