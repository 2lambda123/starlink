#*******************************************************************************
# E.S.O. - VLT project
#
# "@(#) $Id: Makefile.in,v 1.8 1997/12/03 22:27:12 abrighto Exp $"

# ------------------------------------------------------------------------
# 	Makefile for RTD demo directory
# ------------------------------------------------------------------------

INSTALL      = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
RTD_DIR      = @RTD_DIR@
BINDIR       = @BINDIR@
RM           = rm -f
SHELL        = /bin/sh

# starter shell script
SCRIPTS      = rtd.sh

# symbolic links to install for Tcl apps
TCL_LINKS    = rtd rtdctrl

# other files to install
FILES        = rtd.tcl rtdctrl.tcl Xdefaults 


all: tcl_links

# make links to the startup script for starting the Tcl applications
tcl_links:
	@for i in $(TCL_LINKS); do rm -f $$i; ln -s rtd.sh $$i; done
	@rm -f test.gzfits; ln -s ../images/ngc1275.gzfits test.gzfits

All: 
	cd ..; $(MAKE)

install-top:
	@test -d $(BINDIR) || mkdir $(BINDIR) 
	@test -d $(RTD_DIR) || mkdir $(RTD_DIR) 
	@test -d $(RTD_DIR)/demos || mkdir $(RTD_DIR)/demos 

install: install-top
	@set -x; for i in $(SCRIPTS) ; do \
	    $(INSTALL_DATA) -m 775 $$i $(RTD_DIR)/demos ; \
	done 
	@set -x; for i in $(FILES) ; do \
	    $(INSTALL_DATA) -m 664 $$i $(RTD_DIR)/demos ; \
	done 
	@set -x; for i in $(TCL_LINKS); do \
	    rm -f $(BINDIR)/$$i $(RTD_DIR)/demos/$$i; \
	    (cd $(RTD_DIR)/demos; ln -s rtd.sh $$i) ; \
	    (cd $(BINDIR); ln -s ../lib/rtd/demos/$$i $$i) ; \
	done

clean:
	$(RM) *\~ "#"* core

depend:

distclean: clean
	rm -f Makefile rtd.sh

man:
