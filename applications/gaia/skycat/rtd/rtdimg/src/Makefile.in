#*******************************************************************************
# E.S.O. - VLT project
#
# "@(#) $Id: Makefile.in,v 1.2 2005/02/02 01:43:03 brighton Exp $"
#
# ------------------------------------------------------------------------
# 	Makefile for RtdImage library
# ------------------------------------------------------------------------

# source files
SRCS =	RtdImage.C RtdCmds.C ImageZoom.C RtdCamera.C RtdRemote.C ImageDisplay.C \
	ImageColor.C ColorMapInfo.C ITTInfo.C rtd_bitmaps.C \
	RtdRPTool.C RtdRPFile.C RtdPerf.C RtdUtils.C RtdHDU.C RtdCoords.C

# object files
OBJS =	RtdImage.o RtdCmds.o ImageZoom.o RtdCamera.o RtdRemote.o ImageDisplay.o \
	ImageColor.o ColorMapInfo.o ITTInfo.o rtd_bitmaps.o colormaps.o \
	RtdRPTool.o RtdRPFile.o RtdPerf.o RtdUtils.o RtdHDU.o RtdCoords.o

# name of local archive file
libname  	= ../lib/librtdimage.a

# include flags
INCLUDES	= -I../include  \
	          -I../bitmaps \
		  -I../../rtilib/include \
		  -I../../rtdevt/include \
		  $(BUILD_INCLUDES) \
		  -I$(TOPDIR)/include/astrotcl \
		  -I$(TOPDIR)/include/tclutil \
		  $(TK_INCLUDE) $(TCL_INCLUDE) $(X_INCLUDE)

# define package versions
DEFINES       	= \
		-DRTD_VERSION=\"@RTD_VERSION@\" \
		-DRTD_LIBRARY=\"@RTD_LIBRARY@\" \
		-DASTROTCL_VERSION=\"@ASTROTCL_VERSION@\"

# --------------------------------------------------------------------------------------
do_all: dirs $(libname) 

do_install:

$(libname): $(OBJS)
	$(AT)$(RM) $@
	$(AT)$(AR) $@ $(OBJS)
	$(RANLIB) $@

# recompile if configure is run, since -D flags might have changed
$(OBJS): ../../config.status

dirs:
	@test -d ../lib || mkdir ../lib
	@test -d ../bin || mkdir ../bin

do_clean:
	$(AT)$(RM) $(OBJS) $(libname)

tags:
	etags ../../*/*/*.[Cch]

include ../../makefile.mk
include ../../depend.mk

