#*******************************************************************************
# E.S.O. - VLT project
#
# "@(#) $Id: Makefile.in,v 1.2 2005/02/02 01:43:03 brighton Exp $"

# ------------------------------------------------------------------------
# 	Makefile for RTD Tcl library files 
# ------------------------------------------------------------------------

FILES        = *.tcl tclIndex
srcdir	     = @srcdir@


# in the src tree, the tcl sources are in the "library" dir (like tcl/tk)
# in the install tree, they are in, for example, /usr/local/lib/rtd
install-top:
	$(AT)test -d $(LIBDIR) || mkdir $(LIBDIR) 
	$(AT)test -d $(RTD_DIR) || mkdir $(RTD_DIR) 

install-files: install-top
	$(AT)for i in $(srcdir)/$(FILES) ; do \
	    $(INSTALL_DATA) $$i $(RTD_DIR) ; \
	done 

do_install: index install-files

.PHONY: index tclIndex
index tclIndex:
	tclsh$(TCL_VERSION) ./mkIndex.tcl

# generate man pages for itcl classes
doc: 
	itcldoc [A-Z]*.tcl

# remove generated man pages
cleandoc:
	$(RM) ../man/[A-Z]*.mann

include ../../makefile.mk

