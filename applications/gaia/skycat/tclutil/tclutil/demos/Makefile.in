#*******************************************************************************
# E.S.O. - VLT project
#
# "@(#) $Id: Makefile.in,v 1.5 1998/01/21 23:06:34 abrighto Exp $"

# ------------------------------------------------------------------------
# 	Makefile
# ------------------------------------------------------------------------

INSTALL      = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
BINDIR       = @BINDIR@
TCLUTIL_DIR   = @TCLUTIL_DIR@
RM           = rm -f
SHELL        = /bin/sh

# starter shell script
SCRIPTS      = tclutil.sh

# symbolic links to install for Tcl apps
TCL_LINKS    = tclutil itcldoc

# other files to install
FILES        = tclutil.tcl itcldoc.tcl


all: tcl_links

# make links to the startup script for starting the Tcl applications
tcl_links:
	@for i in $(TCL_LINKS); do rm -f $$i; ln -s tclutil.sh $$i; done

All: 
	cd ..; $(MAKE)

install-top:
	@test -d $(BINDIR) || mkdir $(BINDIR) 
	@test -d $(TCLUTIL_DIR) || mkdir $(TCLUTIL_DIR)
	@test -d $(TCLUTIL_DIR)/demos || mkdir $(TCLUTIL_DIR)/demos

install: install-top
	@set -x; for i in $(SCRIPTS) ; do \
	    $(INSTALL_DATA) -m 775 $$i $(TCLUTIL_DIR)/demos ; \
	done 
	@set -x; for i in $(FILES) ; do \
	    $(INSTALL_DATA) -m 664 $$i $(TCLUTIL_DIR)/demos ; \
	done 
	@set -x; for i in $(TCL_LINKS); do \
	    rm -f $(BINDIR)/$$i $(TCLUTIL_DIR)/demos/$$i; \
	    (cd $(TCLUTIL_DIR)/demos; ln -s tclutil.sh $$i) ; \
	    (cd $(BINDIR); ln -s ../lib/tclutil/demos/$$i $$i) ; \
	done

clean:
	$(RM) *\~ "#"* core

depend:

distclean: clean
	rm -f Makefile

man:

# generate man pages for itcl classes
doc: 
	itcldoc ../library/[A-Z]*.tcl

# remove generated man pages
cleandoc:
	rm -f ../man/[A-Z]*.mann
