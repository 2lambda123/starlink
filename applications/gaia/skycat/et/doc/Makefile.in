#
# This is the Makefile for ET documentation.  If its name is Makefile.in, 
# then it is a template for the makefile and must first be processed using the
# "configure" script
#

#
# Flags for the C compiler
#
CFLAGS = -O
CC = @CC@

all:	ET.txt ET.html ET0000.html ET.rtf ET.tex ET.ps ET.docbook

ET.txt:	ET.doc doc2ascii
	./doc2ascii ET.doc >ET.txt

ET.html:	ET.doc doc2html
	./doc2html -flat ET.doc >ET.html

ET0000.html:	ET.doc doc2html
	./doc2html -noscope ET.doc

ET.rtf:	ET.html html2rtf
	./html2rtf ET.html >ET.rtf

ET.tex:	ET.doc doc2latex
	./doc2latex ET.doc >ET.tex

ET.ps:	ET.tex outer.tex psbox.tex
	latex outer
	latex outer
	dvips outer
	mv outer.ps ET.ps

ET.docbook:	ET.doc doc2docbook
	./doc2docbook ET.doc >ET.docbook

doc2latex:	doc2latex.c
	${CC} ${CFLAGS} doc2latex.c -o $@

doc2html:	doc2html.c
	${CC} ${CFLAGS} doc2html.c -o $@

doc2ascii:	doc2ascii.c
	${CC} ${CFLAGS} doc2ascii.c -o $@

doc2docbook:	doc2docbook.c
	${CC} ${CFLAGS} doc2docbook.c -o $@

html2rtf:	html2rtf.c
	${CC} ${CFLAGS} html2rtf.c -o $@

clean:
	rm -f *.a *.o et.c core errs *~ \#* TAGS *.E a.out errors \
		doc2ascii doc2html doc2docbook doc2latex html2rtf \
		ET????.html ET.html ET.ps *.dvi *.aux doc.tex ET.docbook \
		ET.txt ET.rtf ET.tex *.log

distclean: clean
	rm -f Makefile config.status config.cache config.log prototype
