\documentstyle[11pt,twoside]{article}
\pagestyle{myheadings}
\makeindex

%------------------------------------------------------------------------------
\newcommand{\stardoccategory}  {Starlink User Note}
\newcommand{\stardocinitials}  {SUN}
\newcommand{\stardocnumber}    {41.0}
\newcommand{\stardocauthors}   {Colin Aspin}
\newcommand{\stardocdate}      {21 February 1996}
\newcommand{\stardoctitle}     {IRCAMDR - IRCAM3 Data Reduction Software}
%------------------------------------------------------------------------------

% Converted from plain text to SUN format Latex document and modified to
% correctly describe Starlink-released version by frossie@jach.hawaii.edu

\newcommand{\stardocsource}{sun41.tex}
\newcommand{\stardocname}{\stardocinitials /\stardocnumber}
\markright{\stardocname}
\setlength{\textwidth}{160mm}
\setlength{\textheight}{230mm}
\setlength{\topmargin}{-2mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\evensidemargin}{0mm}
\setlength{\parindent}{0mm}
\setlength{\parskip}{\medskipamount}
\setlength{\unitlength}{1mm}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{3}

% -----------------------------------------------------------------------------
%  Hypertext definitions.
%  ======================
%  These are used by the LaTeX2HTML translator in conjunction with star2html.

%  Comment.sty: version 2.0, 19 June 1992
%  Selectively in/exclude pieces of text.
%
%  Author
%    Victor Eijkhout                                      <eijkhout@cs.utk.edu>
%    Department of Computer Science
%    University Tennessee at Knoxville
%    104 Ayres Hall
%    Knoxville, TN 37996
%    USA

%  Do not remove the %\begin{rawtex} and %\end{rawtex} lines (used by
%  star2html to signify raw TeX that latex2html cannot process).
%\begin{rawtex}
\makeatletter
\def\makeinnocent#1{\catcode`#1=12 }
\def\csarg#1#2{\expandafter#1\csname#2\endcsname}

\def\ThrowAwayComment#1{\begingroup
    \def\CurrentComment{#1}%
    \let\do\makeinnocent \dospecials
    \makeinnocent\^^L% and whatever other special cases
    \endlinechar`\^^M \catcode`\^^M=12 \xComment}
{\catcode`\^^M=12 \endlinechar=-1 %
 \gdef\xComment#1^^M{\def\test{#1}
      \csarg\ifx{PlainEnd\CurrentComment Test}\test
          \let\html@next\endgroup
      \else \csarg\ifx{LaLaEnd\CurrentComment Test}\test
            \edef\html@next{\endgroup\noexpand\end{\CurrentComment}}
      \else \let\html@next\xComment
      \fi \fi \html@next}
}
\makeatother

\def\includecomment
 #1{\expandafter\def\csname#1\endcsname{}%
    \expandafter\def\csname end#1\endcsname{}}
\def\excludecomment
 #1{\expandafter\def\csname#1\endcsname{\ThrowAwayComment{#1}}%
    {\escapechar=-1\relax
     \csarg\xdef{PlainEnd#1Test}{\string\\end#1}%
     \csarg\xdef{LaLaEnd#1Test}{\string\\end\string\{#1\string\}}%
    }}

%  Define environments that ignore their contents.
\excludecomment{comment}
\excludecomment{rawhtml}
\excludecomment{htmlonly}
%\end{rawtex}

%  Hypertext commands etc. This is a condensed version of the html.sty
%  file supplied with LaTeX2HTML by: Nikos Drakos <nikos@cbl.leeds.ac.uk> &
%  Jelle van Zeijl <jvzeijl@isou17.estec.esa.nl>. The LaTeX2HTML documentation
%  should be consulted about all commands (and the environments defined above)
%  except \xref and \xlabel which are Starlink specific.

\newcommand{\htmladdnormallinkfoot}[2]{#1\footnote{#2}}
\newcommand{\htmladdnormallink}[2]{#1}
\newcommand{\htmladdimg}[1]{}
\newenvironment{latexonly}{}{}
\newcommand{\hyperref}[4]{#2\ref{#4}#3}
\newcommand{\htmlref}[2]{#1}
\newcommand{\htmlimage}[1]{}
\newcommand{\htmladdtonavigation}[1]{}

%  Starlink cross-references and labels.
\newcommand{\xref}[3]{#1}
\newcommand{\xlabel}[1]{}

%  LaTeX2HTML symbol.
\newcommand{\latextohtml}{{\bf LaTeX}{2}{\tt{HTML}}}

%  Define command to recentre underscore for Latex and leave as normal
%  for HTML (severe problems with \_ in tabbing environments and \_\_
%  generally otherwise).
\newcommand{\latex}[1]{#1}
\newcommand{\setunderscore}{\renewcommand{\_}{{\tt\symbol{95}}}}
\latex{\setunderscore}

%  Redefine the \tableofcontents command. This procrastination is necessary
%  to stop the automatic creation of a second table of contents page
%  by latex2html.
\newcommand{\latexonlytoc}[0]{\tableofcontents}

% -----------------------------------------------------------------------------
%  Debugging.
%  =========
%  Un-comment the following to debug links in the HTML version using Latex.

% \newcommand{\hotlink}[2]{\fbox{\begin{tabular}[t]{@{}c@{}}#1\\\hline{\footnotesize #2}\end{tabular}}}
% \renewcommand{\htmladdnormallinkfoot}[2]{\hotlink{#1}{#2}}
% \renewcommand{\htmladdnormallink}[2]{\hotlink{#1}{#2}}
% \renewcommand{\hyperref}[4]{\hotlink{#1}{\S\ref{#4}}}
% \renewcommand{\htmlref}[2]{\hotlink{#1}{\S\ref{#2}}}
% \renewcommand{\xref}[3]{\hotlink{#1}{#2 -- #3}}
% -----------------------------------------------------------------------------
%  Add any document specific \newcommand or \newenvironment commands here

\newcommand{\echparameter}[3]
{
%   \item [#1 = #2] \mbox{}\label{par:#1}\index{#1}\\
   \item [#1 = #2] \mbox{}\index{#1}\\
   #3
}
\renewcommand{\floatpagefraction}{0.8}

\newcommand{\indexentry}[2]
{
{\bf #1}\dotfill #2 \hspace*{15mm}\\
}

\newcommand{\aindexentry}[1]
{
{\bf #1}\hspace*{\fill}\\
}

\newcommand{\sindexentry}[2]
{
\hspace*{10mm}{ #1}\dotfill #2 \hspace*{15mm}\\
}

\newcommand{\findexentry}[3]
{
\hspace*{\fill}\\
\hspace*{\fill}{\large\bf --- #1 ---}\hspace*{\fill} \hspace*{15mm}\\
\hspace*{\fill}\\
{\bf #2}\dotfill #3 \hspace*{15mm}\\
}

% -----------------------------------------------------------------------------
%  Title Page.
%  ===========
\begin{document}
\thispagestyle{empty}

%  Latex document header.
%  ======================
\begin{latexonly}
   CCLRC / {\sc Rutherford Appleton Laboratory} \hfill {\bf \stardocname}\\
   {\large Particle Physics \& Astronomy Research Council}\\
   {\large Starlink Project\\}
   {\large \stardoccategory\ \stardocnumber}
   \begin{flushright}
   \stardocauthors\\
   \stardocdate
   \end{flushright}
   \vspace{-4mm}
   \rule{\textwidth}{0.5mm}
   \vspace{5mm}
   \begin{center}
   {\Large\bf \stardoctitle}
   \end{center}
   \vspace{5mm}

%  Add heading for abstract if used.
%   \vspace{10mm}
%   \begin{center}
%      {\Large\bf Description}
%   \end{center}
\end{latexonly}

%  HTML documentation header.
%  ==========================
\begin{htmlonly}
   \xlabel{}
   \begin{rawhtml} <H1> \end{rawhtml}
      \stardoctitle
   \begin{rawhtml} </H1> \end{rawhtml}

%  Add picture here if required.

   \begin{rawhtml} <P> <I> \end{rawhtml}
   \stardoccategory \stardocnumber \\
   \stardocauthors \\
   \stardocdate
   \begin{rawhtml} </I> </P> <H3> \end{rawhtml}
      \htmladdnormallink{CCLRC}{http://www.cclrc.ac.uk} /
      \htmladdnormallink{Rutherford Appleton Laboratory}
                        {http://www.cclrc.ac.uk/ral} \\
      Particle Physics \& Astronomy Research Council \\
   \begin{rawhtml} </H3> <H2> \end{rawhtml}
      \htmladdnormallink{Starlink Project}{http://star-www.rl.ac.uk/}
   \begin{rawhtml} </H2> \end{rawhtml}
   \htmladdnormallink{\htmladdimg{source.gif} Retrieve hardcopy}
      {http://star-www.rl.ac.uk/cgi-bin/hcserver?\stardocsource}\\

%  HTML document table of contents.
%  ================================
%  Add table of contents header and a navigation button to return to this
%  point in the document (this should always go before the abstract \section).
  \label{stardoccontents}
  \begin{rawhtml}
    <HR>
    <H2>Contents</H2>
  \end{rawhtml}
  \renewcommand{\latexonlytoc}[0]{}
  \htmladdtonavigation{\htmlref{\htmladdimg{contents_motif.gif}}
        {stardoccontents}}

%  Start new section for abstract if used.
%  \section{\xlabel{abstract}Abstract}

\end{htmlonly}

% -----------------------------------------------------------------------------
%  Document Abstract. (if used)
%  ==================
% -----------------------------------------------------------------------------
%  Latex document Table of Contents (if used).
%  ===========================================
\begin{latexonly}
   \setlength{\parskip}{0mm}
   \markboth{Contents}{\stardocname}
   \latexonlytoc
   \setlength{\parskip}{\medskipamount}
\end{latexonly}
% -----------------------------------------------------------------------------


\section{What is \sc{IrcamDR}}

The {\sc IRCAM3} data reduction and analysis software package, {\sc IrcamDR} (the old
ircam\_clred updated to work under the Unix platform and renamed) will
display, reduce and analyse any 2D data image with a .sdf extension
written on disk in the standard Starlink NDF disk format.  It was
specifically written to deal with the reduction/analysis of {\sc IRCAM1/2} data
image of 62x58 pixels and was subsequently extended to allow the
processing of {\sc IRCAM3} image of 256x256 size.  In fact, almost all the
applications (with the exception of med3d) will work on NDF images of any
physical (pixel) dimensions, for example, 1024x1024 CCD images can
equally well be processed (med3d median filters stack of images up to
256x256 in size at present).

\section{{\sc IrcamDR} software philosophy/structure}

The {\sc IrcamDR} software runs on Unix/VMS machines under Starlink {\sc ADAM} and
utilizes the ICL command line environment.  {\sc ADAM} tasks perform most of
the functions available in {\sc IrcamDR} and are interfaced using icl
procedures.  The {\sc ADAM} tasks (written in fortran 77) used by {\sc IrcamDR} are
called plt2d, rapi2d, obsrap and polrap.  {\bf plt2d} performs graphics display
for {\sc IrcamDR} and will plot images and line graphics on the selected
graphics device.  Actions within plt2d are exclusively executed via the
ICL command line procedures rather than calling the plt2d action
directly. {\bf rapi2d} is the original a-task monolith and contains numerous
action to manipulate and process images; rapi2d was the original kernel
source for the Starlink kappa reduction task.  {\bf obsrap} is an additional
reduction and analysis a-task monolith more specific to the processing of
{\sc IRCAM1/2} and {\sc IRCAM3} data although many of the actions can be used on
other datasets.  {\bf polrap} is an {\sc ADAM} a-task monolith with action specific
to the reduction and analysis of 2D imaging polarimetry data taken with
{\sc IRCAM1/2/3} using the {\sc UKIRT} IRPOL1/2 polarimeter module.

Currently, plt2d contains 48 actions, rapi2d contains 53 actions, obsrap
contains 55 actions and polrap contains 12 actions. There are also
currently 230 ICL procedures in {\sc IrcamDR}.

What follows below are instructions on running up
{\sc IrcamDR}, descriptions of the functionality of all the ICL procedures and
{\sc ADAM} task actions, and notes on the recommended methodology for the
reduction and analysis of {\sc IRCAM3} data.

\section{Running {\sc IrcamDR}}

In the starlink environment you can run {\sc IrcamDR} by typing the command 
name i.e. {\sc IrcamDR}, viz:

\begin{verbatim}
% ircamdr <cr>
\end{verbatim}

You can set the current directory to the location of your data before you
execute the command \verb+ircamdr+ (using the cd command) or you can just run
{\sc IrcamDR} which will first prompt you for the name of the directory
containing the data to be worked on.  

Next, {\sc IrcamDR} will run ICL and load some of the ICL procedures plus load
the {\sc ADAM} \mbox{a-task} monolith obsrap.  This is likely the step that would fail
if there is a problem with the software installation. Next,
{\sc IrcamDR} will ask you to select a graphics device, choose device no.\ 1 for
an X-windows GKS graphics window.  The GKS graphics window (titled
GKS\_3800) will be created at this time and be of the default size.
However, you can pre-create the GKS X-windows graphics window using the
command:

\begin{verbatim}
% xmake GKS_3800 -geom 380x380 -col 64 -fg white -bg black
\end{verbatim}

where, in this example, the window will be of size 380x380 pixels.  These
numbers can be adjusted to suit the application you have in mind or the
images size being worked on.

Once you have selected the graphics device the {\sc IrcamDR} loads the plotting
tasks plt2d and opens plotting to the selected device.  It then asks the
user to define whether he/she is working on new or old format ircam data
({\sc IRCAM3} is new, {\sc IRCAM1/2} is old).  If you user selects new format then
he/she is prompted for the UT date for the raw {\sc IRCAM3} (ro) observation
images, in the format 950714, and then the default pixel scale of 0.286
arcseconds/pixel is defined automatically.  Once the prompt \verb+IrcamDR>+ is
given, you can proceed with {\sc IrcamDR} data reduction and analysis.

\section{An example {\sc IrcamDR} startup}

\begin{verbatim}
% IrcamDR
 
Welcome to IRCAM_CLRED/Portable-IRCAMDR V1.0-0
 
Working directory //home/frossie/data/cjs/ > 
 
ICL (UNIX) Version 3.1 14/09/95
 
Loading installed package definitions...
 
  - Type HELP package_name for help on specific Starlink packages
  -   or HELP PACKAGES for a list of all Starlink packages
  - Type HELP [command] for help on ICL and its commands
 
 
   KAPPA commands are now available (Version 0.9-0).
 
   Type `help kappa' or `kaphelp' for help on KAPPA commands.
 
Welcome to Unix IRCAM_CLRED/Portable-IRCAMDR !
 
Loading /ukirt_sw/IrcamDR/obsrap into obsrap29159 (attached)
Loading Unix utilities
Loading SUN Unix open plotting procedure...
Select a plotting device from the list below ...
Loading procedure file $LIRCAMDIR/popen_unix.icl
Plotting workstations currently supported : 
X-Windows base device                   =  1
X-Windows 2 device                      =  2
X-Windows 3 device                      =  3
X-Windows 4 device                      =  4
Canon laser printer (P or L)            = 10 or 11
Canon TeX laser printer (P or L)        = 12 or 13
Postscript printer (P or L)             = 14 or 15
Encapsulated Postscript (P or L)        = 16 or 17
Colour Postscript (P or L)              = 18 or 19
Encapsulated Colour Postscript (P or L) = 20 or 21
Give workstation number for plotting ? 
Workstation Number (0=NONE AT THE MOMENT) \0\ : 1
Loading /ukirt_sw/IrcamDR/plt2d into plt2d (attached)
  
 Maximum number of colour cells available =   62
  Workstation centre coordinates are  390 ,256
  Workstation supports CURSORING ...
  Workstation supports IMAGE DISPLAY ...
    Loading colour table  $LIRCAMDIR/col19  please wait
    Colour table loaded ...
O.K. Plotting OPEN on workstation  X-WINDOWS
New (RO940422) or Old (IRCAM_22APR94_1C) data format : 
New or Old Format (N,O) \N\ ? 
Default UT date =  960226
UT date of files to work on (e.g. 940422) [RETURN=DEFAULT] : 
UT Date \-1\ ? 960105
Loading procedure file $LIRCAMDIR/setps.icl
O.K. have set the PLATE SCALE to  0.286  arcsecs/pixel ...
IrcamDR > 
\end{verbatim}
\section{Software Notes}

\subsection{Data input format - raw data}

{\sc IRCAM3} data images are stored on disk in standard Starlink NDF format
with the file extension .sdf.  {\sc IRCAM1/2} images are also stored on disk in
a Starlink HDS format but are non-standard in that once data file
contains many observations (the old ircam container files). Raw {\sc IRCAM3}
images that are to be processed by the {\sc IrcamDR} software have
names in the format ro950102.sdf where the 950102 is the UT date of the
observation. Once the file type and format have been defined either on
startup of {\sc IrcamDR} (via the questions {\sc IrcamDR} asks the user) or via
running the command setfile, the user can access the raw data image in
many commands by just inputting the observation number alone.

\subsection{Data input format - processed data}

If the user wants to access processed images (any images for that matter,
{\sc IRCAM1/2} or {\sc IRCAM3} processed images or other 2D images), the user can
enter 0 as the observation number and is then prompted for the full name
of the image to be accessed.  In many ICL procedural commands (e.g. those
ending with the word 'lot' or such commands as jitreg, accoff, coff, etc
etc) the user will need to access processed or semi-processed data.
He/she can do so by entering a prefix, a range of observation numbers and
a suffix which together will form the sequence of images to be accessed.
For example, if the user input a prefix of image\_ and a range of
observations numbers 100 to 110 and a suffix of dfzm then the images
accessed by the command will be image\_100dfzm, image\_101dfzm, image\_102dfzm
etc, to image\_110dfzm. In the above example the dfzm actually mean
something and are letters added by various commands in the standard
reduction procedure for {\sc IRCAM3} images (d means dark subtracted, f means
flat-fielded, z means dc level corrected and m means bad pixel mask
applied).  The command {\bf stred} adds these letters to the prefix given by
the user and the observation number range to form the processed image
names.

\subsection{The ``lot'' family of ICL procedures}

There are numerous ICL procedure in {\sc IrcamDR} whose names end with
the word ``lot''.  These perform a specific task on a series (or a lot
of) images defined by a consecutive observation number sequence
(either a start and end observation number of a start observation
number and the number of consecutive images).  An example of the
``lot'' family of procedures is {\bf flatlot} which flat-fields a
series of images (dark subtracted) defined by a filename prefix, a
series of observation numbers and a filename suffix.  In the case of
{\sc IRCAM3} data and the procedure {\bf flatlot}, {\bf rodarklot} would
have been used to dark subtract and scale to unit exposure time a
series of ro images and the output dark subtracted images would be
called im\_50d, im\_51d, etc to im\_55d, if the output filename prefix
had been specified as im\_ and the observation number range to work on
as 50-55.  The suffix letter d is added automatically by rodarklot.
These images would be fed into rodarklot (say) and upon flat-fielding
the letter f would be added to the name so that the output images
would be called im\_50df, im\_51df, etc to im\_55df.

\section{List of commands}

\subsection{ICL procedure commands - alphabetical}

ablock accoff again amcorrlot anncol applymasklot array\_tests border box
cablock calexp calmag calzer cbox ccircle ccross ccut cellipse cent1
cent2 chdisp chred circle clear clearit cline cnsigma coff colinv coll
coltab cont\_title contoff contour cplot cranplot cross crosscut
crosscut\_peak cstats curhot cursor cut cut2ff cut\_title cvargrey daocen
daofind daogid daogid2 darklot deglot disp dispick ellipse flat2 flatlot
getcm getoff getrast glitchmark grid hardcopy hardlot io2ro jitreg lagain
limag line line\_width linecol mcursor medlot mofflot morensigma moreplot
moreranplot morevargrey mos2 nomag nsigma oadd ocadd ocdiv ocmult ocstats
ocsub odist odiv ohisto olook omult ostats osub pclose pencol penint pho
pho2 pho3 picklot plot plotglitch plotlot pol2 polreg popen ranplot remos
rflot rocent rodarklot roindex romed ropar rotlot rout scaledark scalelot
see setarea setcen setcomori setcont setcontic setcur setcurmark setcut
setcutaxrat setfile setfont sethard setmag setmax setmin setmm setnum
setnumori setnumsca setpolcol setps setquad setradec setstd setvar
setvargrey setvec shift2 shift3 skysub4 splitlot stdproc stdred stlot
stred strehl surround tickio ticklen tomag tslot vans vargrey vec
vec\_title wraplot wrccom wrcom writelut x2mag x5mag zaplot

\subsection{fortran a-task monolith actions - alphabetical}

abcom absep add amcorr annstats aperadd aperphot aperpol applymask
asciilist automos binup block cadd calcol cdiv centroid chpix cmult
colcycle colmed compadd compave compick compress crecolt creframe
crequilt csfit csgen csub defgrad devfcs dist div exp10 expe expon fcoadd
findpeak flip gauss gaussth glitch histeq histgen histo hotshot imcomb
index insetb insetc intlk jsdclean laplace lincont linimag\_ndr log10
logar loge look makebad makeglitch makemask manic manycol med3d median
moff mosaic mosaic2 moscor mult numb obsext obslist oefix outsetb outsetc
pickim pixdupe polcal polly polly2 polsep polshot polthresh pow quilt
radim root rotate rowmed setval shadow shift shsize sqorst stats stcoadd
stepim sub thetafix thresh thresh0 trace trandat trig wmosaic wquilt
wrapcor xgrow yadd ygrow zaplin

\subsection{ICL procedures and fortran a-task actions - by usage}

\begin{description}


\item[Image Display :] again chdisp clear clearit cnsigma cplot cranplot
cvargrey disp getcm morensigma moreplot moreranplot morevargrey nsigma
plot plotlot ranplot setarea setcen setcur setmag setmax setmin setmm
setquad setradec setvargrey surround vans vargrey

\item[Line Graphics :] anncol border box cbox ccircle ccross ccut cellipse
circle cline cont\_title contoff contour cross crosscut crosscut\_peak cut
cut2ff cut\_title ellipse grid histgen lagain line line\_width linecol
setcont setcontic setcurmark setcut setcutaxrat setnum setnumori
setnumsca tickio ticklen

\item[Colour Table Display :] ablock cablock colcycle colinv coltab crecolt
manycol pencol penint writelut

\item[Data Reduction :] abcom absep amcorr amcorrlot applymask applymasklot
automos calcol chred colmed darklot defgrad deglot fcoadd flat2 flatlot
flip histeq med3d medlot picklot rflot rodarklot romed rotlot scaledark
scalelot splitlot stlot stred thresh thresh0 tslot wraplot 

\item[Image Registration :] shift, shift2, shift3

\item[Single Star Photometry Automatic Reduction/Analysis :] setstd, stdproc,

\item[Hardcopy Commands :] hardcopy hardlot sethard

\item[Statistics :] annstats cstats findpeak histo limag numb ocstats ohisto
ostats shsize stats strehl

\item[Mosaicing :] accoff coff crequilt getoff jitreg moff mofflot mos2 mosaic
mosaic2 moscor quilt remos wmosaic wquilt

\item[Position Determination :] centroid cent1 cent2 cursor dist mcursor odist
olook rocent

\item[Bad/Hot Pixel Removal :] curhot glitch glitchmark hotshot insetb insetc
outsetb outsetc makebad makeglitch makemask plotglitch setval zaplin,
zaplot

\item[Daophot Commands :] daocen daofind daogid daogid2

\item[Image Extraction :] dispick pickim

\item[Image arithmetic :] add cadd cdiv cmult csub div exp10 expe expon log10
logar loge mult oadd ocadd ocdiv ocmult ocsub odiv omult osub pow root
sub trig

\item[Image dimension change :] binup compadd compave compick compress manic
pixdupe rotate sqorst xgrow ygrow yadd

\item[Image smoothing :] block gauss gaussth median
\item[Photometry Commands :] aperadd aperphot pho pho2 pho3 stdred

\item[Polarimetry Commands :] aperpol csfit csgen devfcs pol2 polcal polly
polly2 polsep polreg polshot polthresh setpolcol setvec skysub4 thetafix
vec vec\_title

\item[Text Commands :] setcomori setfont wrccom wrcom

\item[Miscellaneous :] array\_tests asciilist chpix calexp calmag calzer creframe
getrast imcomb index io2ro jsdclean laplace lincont linimag\_ndr look
nomag obsext obslist oefix pclose popen radim roindex ropar rout rowmed
see setfile setps setvar shadow stcoadd stepim tomag trace trandat
wrapcor x2mag x5mag

\end{description}

\subsection{IrcamDR ICL procedures - descriptions}

\hrule \subsection*{$\bullet$ ablock}
\begin{description}
\item[Description :] plots a colour table (LUT) colour block on active workstation
showing the translation of colour to intensity via annotation on colour
block.  Plots colour block at user-specified coordinates in workstation
raster units.  Block can be horizontal or vertical, have annotation or
have no annotation and be of a user-defined size.
\item[Usage :] uses to plot colour block and annotation on image.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  ablock<cr> +or \verb+ 
ablock 128 375 4<cr> +

\begin{itemize}

\item {\sl 128 375 } are the x,y device (raster) coordinates position
\item for colour block
\item {\sl 4 } is the size scaling factor for the colour block
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ accoff}
\begin{description}
\item[Description :] plots sequentially pairs of a series of image from a raster
mosaic and calculates accurate spatial offsets using cursor input and
peak pixel in search box.  Image names are defined by prefix, range of
numbers and suffix.  The user clicks on the same feature (star) in the
two images displayed and accurate spatial offsets in arcsec are
calculated. accoff writes offset file with list of accurate ra,dec
spatial offsets in arcseconds wrt first image in sequence. a each of the
position in the images selected using the cursor, the peak pixel is found
within a small rectangular region and that position is used in the two
images for the offset calculation. Offset file produced can be fed into
command remos to re-mosaic a set of reduced images using a new/improved
spatial offset file.
\item[Usage :] accoff is useful for producing accurate spatial offset for
re-mosaicing large scale mosaics reduced using command stred.
\item[Notes :] Use accoff to get spatial offsets of a sequence of images in a
mosaic pattern (i.e. with large offsets to survey a large area of sky).
Use coff for a sequence of images taken at supposedly the same spatial
position. Use jitreg for a sequence of images taken with a small jitter
offset between them.
\item[Associated commands :] setps, histo, coff, jitreg, stred, remos
\item[Short version of command :] -
\item[Invocation :]

\verb+  accoff<cr> +\end{description}

\hrule \subsection*{$\bullet$ again}
\begin{description}
\item[Description :] re-displays the last image in the same manner as previously
requested. 
\item[Usage :] use this is you want to re-plot the last image displayed without
changing anything.
\item[Associated commands :] nsigma, plot, ranplot, vargrey, cnsigma, cplot,
cranplot, cvargrey, moren, morep, morer, morev, clear, setmag, setcen
\item[Short version of command :] ag
\item[Invocation :]

\verb+  again<cr> +\end{description}

\hrule \subsection*{$\bullet$ amcorrlot}
\begin{description}
\item[Description :] corrects a series of images whose names are defined by a
prefix, a range of numbers and a suffix, to represent the flux at unit
airmass.  See above for the definition of the operation of the ``lot''
family of images. Images must by in DN/sec.  Correction uses default
extinction coefficients in ascii file \$LIRCAMDIR/extinct.list.
\item[Usage :] when you have a lot of images (say forming a mosaic) to airmass
correct, use this.
\item[Associated commands :] amcorr
\item[Short version of command :] -
\item[Invocation :]

\verb+  amcorrlot<cr> +\end{description}

\hrule \subsection*{$\bullet$ anncol}
\begin{description}
\item[Description :] defines the colour of the annotation created using command
surround.  Defines colour to be used, use command surround to plot
annotation itself in new colour.
\item[Usage :] use to change colour of surround annotation for pretty pictures.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  anncol<cr> +or \verb+ 
anncol g<cr> +

\begin{itemize}

\item {\sl g } is for green annotation
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ applymasklot}
\begin{description}
\item[Description :] applies a bad pixel mask to a series of images whose names
are defined by a prefix, a range of numbers and a suffix. See above for
the definition of the operation of the ``lot'' family of images. Bad pixels
in the mask are set to 1, good pixels set to 0.  a bad pixel in the
output images is set to the magic number -1.0e-20.
\item[Usage :] use this command to mask out bad pixels in a series of images.
\item[Associated commands:] applymask, makemask etc...
\item[Short version of command :] -
\item[Invocation :]

\verb+  applymasklot<cr> +\end{description}

\hrule \subsection*{$\bullet$ array}
\begin{description}
\item[Description :] calculates the STaRE and ND\_STaRE readout noises and the
dark current from a series of engineering data taken with the EXEC named
ARRAY\_TESTS.  Results are compared to the nominally expected values and
the user is notified if the values obtained are within limits.  The
results are also logged to an engineering file for archival use.
\item[Usage :] use to analyse data taken with ARRAY\_TESTS exec and determine
current performance characteristics of {\sc IRCAM3} array.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  array\_tests<cr> +or \verb+ 
array\_tests 9<cr> +

\begin{itemize}

\item {\sl 9 } is start observation number of array test image sequence
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ border}
\begin{description}
\item[Description :] plots a line around an image (a border) of user-defined width.
The line width is in pixels.  
\item[Usage :] use border to plot a line around your image.
\item[Associated commands :] surround
\item[Short version of command :] bo
\item[Invocation :]

\verb+  border<cr> +or \verb+ 
border 2<cr> +

\begin{itemize}

\item {\sl 2 } is the pixel width of border
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ box}
\begin{description}
\item[Description :] plots a box at a user-defined position in an image.  The box is
plotted wither centred or with its bottom-left corner on a user-selected
pixel (selected by its x,y pixel coordinates) in the image and is of a
user-defined size (in arcseconds).  To set arcsecond/pixel scale in image
use command setps.  The x,y pixel coordinates are 1,1 for the bottom left
corner (origin) of the image and 128,128 for the centre of the {\sc IRCAM3}
256x256 array.
\item[Usage :] use this to say, highlight a source or image feature.
\item[Associated commands :] cbox, line\_width, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  box<cr> +or \verb+ 
box 1 128 130 15 10<cr> +

\begin{itemize}

\item 1 means put centre of box on given pixel
(2 would mean put bottom-left corner of box on given pixel)
\item {\sl 128 130 } are the pixel position of centre/bottom-left corner
\item {\sl 15 10 } are the x,y size of box in arcseconds
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cablock}
\begin{description}
\item[Description :] plots a colour table (LUT) colour block on active workstation
showing the translation of colour to intensity via annotation on colour
block.  Plots colour block at user-specified position using cursor. Block
can be horizontal or vertical, have annotation or have no annotation and
be of a user-defined size.
\item[Usage :] use this to put your colour index block somewhere special on your
plot.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  cablock<cr> +or \verb+ 
cablock 4<cr> +

\begin{itemize}

\item {\sl 4 } is the size scaling factor of colour block
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ calexp}
\begin{description}
\item[Description :] calculates the optimum exposure time to give 80\% full-well on a
user-defined source in a raw (ro) image.  User is asked for the
observation number to be plotted, calexp plots it and then asks the user
to select a source in the image with the cursor.  The peak pixel in a
small box around the cursor position is found and from the header of the
raw observation file the exposure time is extracted. calexp then tells
the user the optimum exposure time for 80\% full-well on that object.
\item[Usage :] use to give you an idea of the optimum on-chip exposure time from
a short test image.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  calexp<cr> +or \verb+ 
calexp 42 5<cr> +

\begin{itemize}

\item {\sl 42 } is the observation number for exposure calculation
\item {\sl 5 } is the sigma level to be used for the nsigma display of 
image no.\ 42

\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ calmag}
\begin{description}
\item[Description :] calculates a magnitude from a user-defined flux value in DN/sec
using the zeropoint defined for the filter selected by the command
setvar. The default zeropoints are all set to zero and hence by default,
calexp gives instrumental magnitudes.  The result is give in a straight
magnitude, a magnitude/pixel, a magnitude/sq arcsec (using the pixel
scale defined by the command setps) and a magnitude in a 2 and 4 arcsec
aperture.
\item[Usage :] use this to calculate object magnitude from counts (DN/sec).
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  calmag<cr> + or \verb+
calmag J 10234<cr> +
\begin{itemize}

\item {\sl J } is the filter used for the observation
\item {\sl 10234 } is the intensity to be converted to a magnitude
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ calzer}
\begin{description}
\item[Description :] calculates a zeropoint from a user-defined actual object
magnitude (the true brightness of a star in the filter used) and a flux
in DN/sec.  The calculation performed is zp = act.mag. + 2.5log10(flux)
\item[Usage :] use this to determine a zeropoint from stars magnitude and
observed counts (DN/sec).
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  calzer<cr> +or \verb+ 
calzer 10.6 10234<cr> +

\begin{itemize}

\item {\sl 10.6 } is the actual magnitude of object in filter used
\item {\sl 10234 } is the intensity (in DN/sec) for object in filter used
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cbox}
\begin{description}
\item[Description :] plots a box at a user-defined position in an image.  The box is
plotted either centred or with its bottom-left corner on a user-selected
pixel (selected with the cursor) in the image and is of a user-defined
size (in arcseconds).  To set the arcsecond/pixel scale in the image use
the command setps.
\item[Usage :] use this to put a box on your image.
\item[Associated commands :] box, line\_width, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  cbox<cr> +or \verb+ 
cbox 1 10 12<cr> +

\begin{itemize}

\item 1 means plot box with centre at cursor input position
(2 would mean plot bottom-left corner at cursor posn)
\item {\sl 10 12 } are the x,y size of the box plotted in arcseconds
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ccircle}
\begin{description}
\item[Description :] plots a circle at a user-defined position in an image.  The
circle is plotted on a user-selected pixel (selected with the cursor) in
the image and is of a user-defined diameter (in arcseconds).  To set the
arcsecond/pixel scale in the image use the command setps.
\item[Usage :] use this to put a circle on your image.
\item[Associated commands :] circle, line\_width, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  ccircle<cr> +or \verb+ 
ccircle 25<cr> +

\begin{itemize}

\item {\sl 25 } is the diameter of the circle plotted in arcseconds
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ccross}
\begin{description}
\item[Description :] plots a cross at a user-defined position in an image.  The cross
is plotted on a user-selected pixel (selected with the cursor) in the
image and is of a user-defined size (in arcseconds).  To set the
arcsecond/pixel scale in the image use the command setps.
\item[Usage :] use this to put a cross on your image.
\item[Associated commands :] cross, line\_width, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  ccross<cr> +or \verb+ 
ccross 16<cr> +

\begin{itemize}

\item {\sl 16 } is the size of the cross plotted in arcseconds
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ccut}
\begin{description}
\item[Description :] plots a line cut (intensity vs. position) between two
user-selected points in an image.  The points are selected using the
cursor.  The user has several options to do with how the cut is
displayed, these are set by the command setcut which has to be executed
at least once before the ccut can be performed.  
\item[Usage :] use this to view a cross-cut through the image currently
displayed.
\item[Associated commands :] setcut, cut, setps, line\_width, setnum
\item[Short version of command :] -
\item[Invocation :]

\verb+  ccut<cr> +or \verb+ 
ccut 10<cr> +

\begin{itemize}

\item {\sl 10 } is the observation number of the image to have a cut
extracted from and plotted.
NB \verb+ccut 0<cr> + would prompt
                 the user for the full name of the image (instead of obs
                 no) to have cut extracted from and plotted.

\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cellipse}
\begin{description}
\item[Description :] plots a ellipse at a user-defined position in an image. The
ellipse is plotted on a user-selected pixel (selected with the cursor) in
the image and is of a user-defined major axis (in arcseconds) and
eccentricity. To set the arcsecond/pixel scale in the image use the
command setps.
\item[Usage :] use this to plot an ellipse (IRAS error ellipse for example).
\item[Associated commands :] ellipse, line\_width, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  cellipse<cr> +or \verb+ 
cellipse 42 0.89 30.2<cr> +

\begin{itemize}

\item {\sl 42 is the size of major ax} is of ellipse in arcseconds
\item {\sl 0.89 } is the eccentricity of the ellipse
\item {\sl 30.2 } is the position angle of major axis of ellipse
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cent1}
\begin{description}
\item[Description :] allow the user to define within the current image displayed, one 
positions i.e. star.  The centroid of the stellar position is calculated
and returned to the user.  The user can select multiple centroiding
positions in cent1.
\item[Usage :] use this to determine the accurate position of sources in your
image.
\item[Associated commands :] cent2, cursor, centroid
\item[Short version of command :] -
\item[Invocation :]

\verb+  cent1<cr> +or \verb+ 
cent1 junkimage 9<cr> +

\begin{itemize}

\item {\sl junkimage } is the name of the image to be analysed
\item {\sl 9 } is size of the box (in pixels) for centroid calculation
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cent2}
\begin{description}
\item[Description :] allow the user to define within the current image displayed, two 
positions i.e. stars. The centroid of the stellar positions are calculated
and the ra,dec offsets between them and together with the radial
distance,position angle (east of north) is returned.  
\item[Usage :] use this to determine the accurate offsets between two sources in
your image.
\item[Associated commands :] cent1, cursor, centroid
\item[Short version of command :] -
\item[Invocation :]

\verb+  cent2<cr> +or \verb+ 
cent2 junkimage 9<cr> +

\begin{itemize}

\item {\sl junkimage } is the name of the image to be analysed
\item {\sl 9 } is size of the box (in pixels) for centroid calculation
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ chdisp}
\begin{description}
\item[Description :] takes as input a chop observation number and subtracts the two
phases (object + sky or object + object if chopping onto the array) and
displays the result on the workstation.  chdisp then allows you to do
photometry on the difference image using zeropoints defined by the
command setvar.  The observation information is read from the ro file
header.
\item[Usage :] use this to subtract chop phase b from chop phase a and to
display result and do crude aperture photometry on-line.
\item[Associated commands :] setvar
\item[Short version of command :] -
\item[Invocation :]

\verb+  chdisp<cr> +or \verb+ 
chdisp 47<cr> +

\begin{itemize}

\item {\sl 47 } is the CHOP mode observation number
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ chred}
\begin{description}
\item[Description :] reduces a set of CHOP observations to produce a final object-sky
(or object-object if chopping onto the array) image which can be the sum
of a series of independent (yet consecutive) observations. Nodding
between object and sky position (for three position chopping) is also
supported and produces two independent images one for the main nod beam
and one for the offset nod beam. 
\item[Usage :] use this to reduce a set of chop observations at the same spatial
position.
\item[Associated commands :] chdisp
\item[Short version of command :] -
\item[Invocation :]

\verb+  chred<cr> +or \verb+ 
chred ch\_ 21 5 0 1 1.123 gl961\_nbm<cr> +

\begin{itemize}

\item {\sl ch\_ } is the prefix for the individual processed CHOP images
\item {\sl 21 } is the start observation number of the sequence
\item {\sl 5 } is the number of individual CHOP observations in sequence
\item {\sl 0 }means CHOP observations {\ were not} nodded
(1 would mean CHOP observations {\bf were}  nodded)
\item {\sl 1 } means airmass correct images
(0 would mean don't airmass correct images)
\item {\sl 1.123 } is the average airmass of the observations
\item {\sl gl961\_nbm } is the name of the final CHOP output image
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ circle}
\begin{description}
\item[Description :] plots a circle at a user-defined position in an image.  The
circle is plotted on a user-selected pixel (selected by the x,y pixel
position of the centre of the circle within the current image) in the
image and is of a user-defined diameter (in arcseconds).  To set the
arcsecond/pixel scale in the image use the command setps.
\item[Usage :] use this to plot a circle centred on a specific image pixel.
\item[Associated commands :] ccircle, line\_width, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  circle<cr> +or \verb+ 
circle 126 94 18<cr> +

\begin{itemize}

\item {\sl 126 94 are the x,y pixel coordinates where circle } is plotted
\item {\sl 18 } is the diameter of circle in arcseconds
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ clear}
\begin{description}
\item[Description :] clears/removes all images and graphics from the current graphics
device to produce an empty/blank window.
\item[Usage :] use this to clear off all graphics from display.
\item[Associated commands :] clearit
\item[Short version of command :] cl
\item[Invocation :]

\verb+  clear<cr> +\end{description}

\hrule \subsection*{$\bullet$ clearit}
\begin{description}
\item[Description :] clears a selected portion of the graphics device of
images/graphics. The section of the graphics device cleared is defined by
the cursor (the bottom left corner of the box then the top right corner
of the box) and the rectangular area defined is set to the background
colour (generally black).
\item[Usage :] use this to remove graphics from a section of the display area.
\item[Associated commands :] clear
\item[Short version of command :] -
\item[Invocation :]

\verb+  clearit<cr> +\end{description}

\hrule \subsection*{$\bullet$ cline}
\begin{description}
\item[Description :] plots a straight line between two user-defined positions in an
image.  The line is plotted from pixel selected with the cursor in the
current image.  The line width used is defined by the command line\_width.
\item[Usage :] use this to plot a line between two position in an image.
\item[Associated commands :] line, line\_width, setcurmark
\item[Short version of command :] -
\item[Invocation :]

\verb+  cline<cr> +\end{description}

\hrule \subsection*{$\bullet$ cnsigma}
\begin{description}
\item[Description :] an image display command to display on the current graphics
device a user-defined image stored in Starlink NDF format.  The scaling
of the image display (sometimes referred to as the cut or max,min levels)
is determined by a parameter called the sigma level and is input by the
user.  The max,min levels of the image display is determined to be n
standard deviations above and below the mean of the image; the standard
deviation is that from all the pixels in the image.  The value of n is
input by the user.  Thus, a 5-sigma display using cnsigma plots the image
with max,min equal to m+5*s,m-5*s, respectively where m is the mean (or
average) of the pixels in the image and s is the standard deviation of
those pixels about the mean.  The sigma level input can by fractional
e.g. it could be 0.1 or 0.057 or 10 or 100 or 50.3 etc.  If the sigma
level is input to be 0 then the user is prompted for the upper and lower
sigma level to be used. This terminology means that instead of in the
above example, the max,min level being 5 standard deviations both above
and below the mean, the user can chose the sigma levels independently
thus, could define the max,min values to be m+10*s,m-1*s, respectively.
Under this version of the command (the alternative is just called nsigma)
the position the image is plotted on the graphics device is determined by
the cursor (nsigma plots the image at the centre of the graphics device).
The size of the image on the current graphics device is determined by the
value of the image magnification defined by the command setmag.  a
magnification of 0 indicates that the program auto-scales the image size
to fill 80\% of the current graphics device. Fractional magnification are
allowed so that images larger than the size of the current graphics
device can be displayed.
\item[Usage :] use this to plot a image with nsigma scaling.
\item[Associated commands :] nsigma, moren, clear, plot, cplot, ranplot,
cranplot, vargrey, cvargrey, setmag, again, setps, setnum, setcen,
surround.
\item[Short version of command :] cns
\item[Invocation :]

\verb+  cnsigma<cr> +or \verb+ 
cnsigma 42<cr> +
or \verb+ 
cnsigma 0<cr> +

\begin{itemize}
\item {\sl 42 } is the observation number of the image to be plotted
\item {\sl 0 }0 will prompt you for the full name of image to be plotted
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ coff}
\begin{description}
\item[Description :] calculates accurate spatial offsets for a series of images taken
at supposedly the same spatial position. The user clicks on object (star)
in the first image in the series and from either the centroid of the
image or the peak pixel in the region (the user has the choice) accurate
spatial offsets of the subsequent images are calculated relative to the
spatial position of the feature in the first image.  For example, a
series of repeat images images of the same object taken at the same
spatial position can be input and the spatial offsets (due to telescope
oscillation or tracking errors) will be calculated relative to the first
image in the sequence.  The offsets in the user-named output ascii file
are in arcseconds.  To set the pixel scale use the command setps. 
\item[Hint :] Use coff for a sequence of images taken at supposedly the same
spatial position. Use jitreg for a sequence of images taken with a small
jitter offset between them. Use accoff to get spatial offsets of a
sequence of images in a mosaic pattern (i.e. with large offsets to survey
a large area of sky).
\item[Usage :] use this to work out offsets between subsequent images all of
which are supposedly at same spatial position.
\item[Associated commands :] setps, centroid, histo, accoff, jitreg
\item[Short version of command :] -
\item[Invocation :]

\verb+  coff<cr> +\end{description}

\hrule \subsection*{$\bullet$ colinv}
\begin{description}
\item[Description :] inverts the colours in a colour table (lut).  The current colour
table in use is inverted and displayed immediately.  all subsequent
colour tables displayed are displayed inverted.  If a greyscale colour
table is in use going from black (low signal) to white (high signal) then
after colinv the colour table will be white (low signal) to black (high
signal).  To re-establish the normal colour table display run command
colinv again.
\item[Usage :] use this to invert colour table (b-w goes to w-b) and visa versa.
\item[Associated commands :] coltab, writelut, grey, col19, heat, col13
\item[Short version of command :] -
\item[Invocation :]

\verb+  colinv<cr> +\end{description}

\hrule \subsection*{$\bullet$ coltab}
\begin{description}
\item[Description :] basic command to write a colour table (lut) to the current
graphics device.  coltab asks for the name of the colour table to be
written to the graphics device and first checks if there is a file by
that name in the current directory.  If there isn't then coltab looks in
the IrcamDR directory with environment variable name \$LIRCAMDIR. The
colour tables (luts) themselves are in figaro format with intensities for
the Red, Green and Blue guns being defined in a 2D DaTa\_aRRaY component
of size 3x256 with values between 0 and 1.  The default set of colour
tables in \$LIRCAMDIR (col1 through 49 plus grey and heat) can also be
used with the figaro command colour.
\item[Usage :] use this to plot an IrcamDR colour table of your own created with
crecolt.
\item[Associated commands :] colinv, ablock, cablock, writelut, grey, col19,
heat, col13, crecolt
\item[Short version of command :] ct
\item[Invocation :]

\verb+  coltab<cr> +or \verb+ 
coltab col13<cr> +

\begin{itemize}

\item {\sl col13 } is the name of the IrcamDR colour table (lut) to be
\item {\sl d} isplayed
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cont\_title}
\begin{description}
\item[Description :] sets the title string for line graphics plots executed using
the command contour which produces a contour plot of an image on the
current graphics device. 
\item[Usage :] use this to change title of a contour map without running through
all of setcont.
\item[Associated commands :] contour, setfont
\item[Short version of command :] -
\item[Invocation :]

\verb+  cont\_title<cr> +or \verb+ 
cont\_title 'GL961 K band image'<cr> +

\begin{itemize}

\item {\sl 'GL961 K band image' } is the title string to be displayed
under contour command
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ contoff}
\begin{description}
\item[Description :] moves the location of a contour map plot on the current
graphics device by an integer number of pixels.  This is useful when
aligning a contour map with an image.  In X (i.e. R.a.), a positive
offset moves the contour map to the left (i.e. increasing R.a.).  In Y
(i.e. Dec), a positive offset moves the contour map down (i.e. to
decreasing Dec).
\item[Usage :] use this to move a contour map slightly wrt say, underlying
image.
\item[Associated commands :] setcont, contour, line\_width
\item[Short version of command :] -
\item[Invocation :]

\verb+  contoff<cr> +or \verb+ 
contoff -5 8<cr> +

\begin{itemize}

\item {\sl -5 8 } are the x,y spatial offsets to be used between image
display and contour map display
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ contour}
\begin{description}
\item[Description :] plots a contour map on the current graphics device.  The
contour levels together with several other associated parameters a set by
the command setcont.  The width of the line used to plot the contours is
set with the command line\_width.  
\item[Usage :] use this to plot a contour map.
\item[Associated commands :] setcont, line\_width, contoff
\item[Short version of command :] cont
\item[Invocation :]

\verb+  contour<cr> +or \verb+ 
contour 42<cr> +
or \verb+ 
contour 0<cr> +



\begin{itemize}
\item {\sl 42} is the observation number to be contoured
\item {\sl 0} will prompt you for the full name of image to be contoured
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cplot}
\begin{description}
\item[Description :] plots an image using scaling max,min values input by the user.
The user defines the max,min values to be used via the command setmm.
The image centre is defined by cursor input from the user.  The size of
the image on the current graphics device is determined by the value of
the image magnification defined by the command setmag.  a magnification
of 0 indicates that the program auto-scales the image size to fill 80%
of the current graphics device.  Fractional magnification are allowed
so that images larger than the size of the current graphics device can
be displayed.
\item[Usage :] use this to plot an image using plot max,min scaling.
\item[Associated commands :] plot, morep, clear, cnsigma, nsigma, ranplot,
cranplot, vargrey, cvargrey, setmag, setcen, setmm, again, setps, setnum,
surround.
\item[Short version of command :] cpl
\item[Invocation :]

\verb+  cplot<cr> +or \verb+ 
cplot 42<cr> +
or \verb+ 
cplot 0<cr> +

\begin{itemize}

\item {\sl 42} is the number of the observation to be plotted
\item {\sl 0} will prompt you for the full name of image to be plotted
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cranplot}
\begin{description}
\item[Description :] plots an image using a range scaling value input by the user.
The scaling max,min values are determined by the program to be + (max)
and - (min) the range value on the mean of the image i.e. max =
mean+range, min = mean-range. The image centre is defined by cursor input
from the user.  The size of the image on the current graphics device is
determined by the value of the image magnification defined by the command
setmag.  a magnification of 0 indicates that the program auto-scales the
image size to fill 80% of the current graphics device.  Fractional
magnification are allowed so that images larger than the size of the
current graphics device can be displayed.
\item[Usage :] use this to plot an image using range scaling.
\item[Associated commands :] ranplot, morer, clear, cnsigma, nsigma, plot,
cplot, vargrey, cvargrey, setmag, setcen, again, setps, setnum, surround.
\item[Short version of command :] cran
\item[Invocation :]

\verb+  cross<cr> +or \verb+ 
cross 18 37 5<cr> +

\begin{itemize}

\item {\sl 18 37 } are the x,y pixel coordinates for the cross
\item {\sl 5 } is the size of the cross in arcseconds
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ crosscut}
\begin{description}
\item[Description :] plots R.a. and Dec (x and y) cross-cuts through a cursor
selected point on an image.  a cross-cut is a slice through the image and
displayed as a line graph.  The results are plotted on the current
graphics device and afterwards the users is asked if they require a
hardcopy of the crosscuts on the current hardcopy device (defined by the
command sethard).
\item[Usage :] use this to plot am ra,dec crosscut through a star to see profile
and fwhm value.
\item[Associated commands :] crosscut\_peak
\item[Short version of command :] cc
\item[Invocation :]

\verb+  crosscut<cr> +or \verb+ 
crosscut N<cr> +

\begin{itemize}

\item {\sl N } means don't clear current image display before plotting
crosscuts (no parameter or anything other than N means
do clear current image display before plotting crosscuts)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ crosscut\_peak}
\begin{description}
\item[Description :] plots R.a. and Dec (x and y) cross-cuts through the peak
pixel in a small box centred on a cursor selected point on an image.  a
cross-cut is a slice through the image and displayed as a line graph.
The results are plotted on the current graphics device and afterwards the
users is asked if they require a hardcopy of the crosscuts on the current
hardcopy device (defined by the command sethard).
\item[Usage :] use this to plot ra,dec crosscuts through peak pixel on a star.
\item[Associated commands :] crosscut
\item[Short version of command :] ccp
\item[Invocation :]

\verb+  crosscut\_peak<cr> +or \verb+ 
crosscut\_peak 8 35<cr> +

\begin{itemize}

\item {\sl 8} is the sigma level of the nsigma plot to display image
through which crosscut\_peak is required
\item {\sl 35 } is the number of pixels n-s and e-w covering full
crosscut through feature (full crosscut is in this case
70 pixel long in both directions centred on peak pixel
near cursor selected position
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cstats}
\begin{description}
\item[Description :] returns statistical information (max,min, locations of max,min,
mean, median, 1-sigma standard deviation) from a sub-area of an image.
The sub-area size is defined in pixels by the user.  The sub-area
location is defined by cursor input.  a rectangular box is draw on the
current image at the location of the cursor hit and of the size selected
by the user.  If the command is executed as cstats 20, say, then a
sub-area of size 20x20 pixels is used for the statistical determination.
If the user just invokes the command as cstats then both the x and y size
of the sub-area are prompted for.
\item[Usage :] use this to calculate statistics in sub-area of image currently
displayed.
\item[Associated commands :] stats, limag
\item[Short version of command :] -
\item[Invocation :]

\verb+  cstats<cr> +or \verb+ 
cstats 20<cr> +

\begin{itemize}

\item {\sl 20 }is the sub-area size (in pixel) in which statistics are
calculated.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ curhot}
\begin{description}
\item[Description :] calls a-task action hotshot to automatically remove bad/hot
pixels from a sub-area of an image located at a cursor defined position.
curhot works on the current image displayed on the current graphics
device and once the location of the sub-area is selected using the cursor
it feeds the info to hotshot.  hotshot asks for several additional
parameters viz: x and y size of the search box (centre on the cursor
location) in pixels, the x and y bin size for the search, the sigma level
for hot pixel detection, the upper threshold level for bad pixel removal
and whether to replace the hot pixel by the mean value in the bin or a
bad pixel magic number.  See hotshot documentation for more details. The
output is the image after bad/hot pixels have been removed.
\item[Usage :] use this to remove hot/bad pixels from a sub-area of current
image displayed.
\item[Associated commands :] hotshot
\item[Short version of command :] -
\item[Invocation :]

\verb+  curhot<cr> +\end{description}

\hrule \subsection*{$\bullet$ cursor}
\begin{description}
\item[Description :] displays the cursor on the current graphics device and returns
the pixel (intensity) value and location (x,y pixel) at that position. If
you click the mouse off the current image a value of --9999 is returned
indicating that the pixel chosen does not exist. This command only gives
you one cursor, if you want several use mcursor. Note that cursor/mcursor
do not continually update, they return values for the pixel that the user
selects with the left mouse button.
\item[Usage :] use this to get one cursor for returning one pixel
position/value.
\item[Associated commands :] mcursor
\item[Short version of command :] c
\item[Invocation :]

\verb+  cursor<cr> +\end{description}

\hrule \subsection*{$\bullet$ cut}
\begin{description}
\item[Description :] plots a cut/slice through an image between two user-defined pixels.
The pixels end-points are defined by their x,y pixel coordinates with 1,1
being the bottom left corner of the image.  Use ccut if you want to
define the end-points using the cursor.  The graph produced by cut is
defined by the command setcut which must be execute before cut will
operate.  setcut has numerous setup options for the graph produced.  Use
line\_width to define the thickness of the line used to draw the graph.
\item[Usage :] use this to plot cur between specific pixels in an image.
\item[Associated commands :] setcut, ccut
\item[Short version of command :] - 
\item[Invocation :]

\verb+  cut<cr> +or \verb+ 
cut 42<cr> +
or \verb+
cut 0<cr> +
 


\begin{itemize}
\item {\sl 42} is the observation number of image from which cut is to
be extracted and plotted
\item {\sl 0} prompts for the full name of image for cut
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cut2ff}
\begin{description}
\item[Description :] defines whether the pixel (intensity) values along a cut/slice
graph produced by the command cut are written to an ascii file named by
the user as well as being plotted.  cut2ff switches on or off this option
and so has to be executed before and after a cut plot is performed.  The
ascii file is a list of x,y,intensity values along the cut.  the cut can
be at any orientation within the image, if it is not along rows or
columns then cut interpolates the intensity values along the arbitrary
direction selected.
\item[Usage :] use this to get an ascii file of cut pixels and values.
\item[Associated commands :] cut, ccut, setcut
\item[Short version of command :] -
\item[Invocation :]

\verb+  cut2ff<cr> +or \verb+ 
cut2ff 1 ngc1068.cut<cr> +

\begin{itemize}

\item 1 means enable cut writing to ascii file
(0 means disable cut writing)
\item {\sl ngc1068.cut } is the name of the output ascii file for cut
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ cut\_title}
\begin{description}
\item[Description :] sets the title string for a cut/ccut plot through an image.
This string can also be set in setcut.
\item[Usage :] use this to change cut title rather than going through full
setcut options.
\item[Associated commands :] cut, ccut, setcut
\item[Short version of command :] -
\item[Invocation :]

\verb+  cut\_title<cr> +or \verb+ 
cut\_title 'this is the title string'<cr> +
\end{description}

\hrule \subsection*{$\bullet$ cvargrey}
\begin{description}
\item[Description :] plots an image on the current graphics device using variable
index scaling.  Variable index scaling maps a percentage of the dynamic
range in the image onto a different percentage of the colour table range
available.  See command vargrey for a more complete definition of
variable index scaling.  cvargrey plots the image with its centre located
at the position of the cursor input from the user.  The variable index
scaling parameters are set using the command setvargrey.
\item[Usage :] use this to plot an image using vargrey scaling.
\item[Associated commands :] vargrey, morev, setvargrey, clear, cnsigma, nsigma,
plot, cplot, setmag, setcen, again, setps, setnum, surround.
\item[Short version of command :] cvg
\item[Invocation :]

\verb+  cvargrey<cr> +or \verb+ 
cvargrey 42<cr> +
or \verb+ 
cvargrey 0<cr> +

\begin{itemize}
\item {\sl 42} is the observation number of the image to be plotted
\item {\sl 0 } will prompt you for the full name of image to be plotted
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ daocen}
\begin{description}
\item[Description :] IrcamDR daophot utility.  Cursors on current image n times and
returns centroid of object at cursor position using rapi2d action
centroid.
\item[Usage :] use this to attempt to identify dao found objects (using find
option) in your image.
\item[Associated commands :] daofind, daogid, daogid2
\item[Short version of command :] -
\item[Invocation :]

\verb+  daocen<cr> +\end{description}

\hrule \subsection*{$\bullet$ daofind}
\begin{description}
\item[Description :] IrcamDR daophot utility.  analyses the output ascii file from
the daophot find command (to auto-find stars in an image) and plots
symbols (circles, crosses, boxes) or id number from daophot file on
object identified.  
\item[Usage :] useful for identifying stars found by daophot find command on an
image.
\item[Associated commands :] daocen, daogid, daogid2
\item[Short version of command :] -
\item[Invocation :]

\verb+  daofind<cr> +\end{description}

\hrule \subsection*{$\bullet$ daogid}
\begin{description}
\item[Description :] IrcamDR daophot utility.  analyses the output ascii file from
the daophot find command (to auto-find stars in an image) and after
cursor selection of star in currently displayed image, calculates which
daophot star is the one clicked on by user.
\item[Usage :] useful for identifying stars found by the daophot find command on
an image.
\item[Associated commands :] daocen, daofind, daogid2
\item[Short version of command :] -
\item[Invocation :]

\verb+  daogid<cr> +\end{description}

\hrule \subsection*{$\bullet$ daogid2}
\begin{description}
\item[Description :] IrcamDR daophot utility.  analyses two output ascii files from
daophot find command (to auto-find stars in an image) and after cursor
selection of star in currently displayed image, calculates which daophot
star is the one clicked on by user.  Useful to id stars that have been 
found using daophot find command in say, two filters (e.g. J and K).
\item[Usage :] useful for identifying stars found by the daophot find command on
an image.
\item[Associated commands :] daocen, daofind, daogid
\item[Short version of command :] -
\item[Invocation :]

\verb+  daogid2<cr> +\end{description}

\hrule \subsection*{$\bullet$ darklot}
\begin{description}
\item[Description :] darklot dark subtracts a series of raw {\sc IRCAM1/2} format images
taken from a container file (i.e. a file with name viz:
ircam\_28dec94\_1c.sdf).  Description of the ``lot'' family of procedures
that work via a name prefix, a range of observation numbers and a name
suffix is given above.  Darklot takes a range of observation numbers and
the observation number of an associated dark exposure and subtracts the
dark current image from the observations and scales the result to
DN/sec/coadd reading the on-chip exposure time and the number of coadd
from the observation header.  The output dark subtracted files are named
via a output filename prefix, the range of observation numbers input and
the suffix letter 'd'.  For example, dark subtracting observations 20-25
from the current {\sc IRCAM1/2} container file (defined by the command
setfile), with an output filename prefix of im\_ would result in dark
subtracted images with names im\_20d, im\_21d\ldots  etc to im\_25d.
\item[To dark subtract a series of {\sc IRCAM3} (RO) images use the command
rodarklot.:]
\item[Usage :] used to dark subtract a series of {\sc IRCAM1/2} images from container
file.
\item[Associated commands :] rodarklot, setfile
\item[Short version of command :] -
\item[Invocation :]

\verb+  darklot<cr> +\end{description}

\hrule \subsection*{$\bullet$ deglot}
\begin{description}
\item[Description :] deglitches a series of images defined by a name prefix, a range
of observation numbers and a name suffix.  See above for definition of the
operation of the ``lot'' family of images.  The input images are analysed
and any pixels set to the bad pixel magic number value (-1.0e-20 in
IrcamDR) are removed by replacement with the median of the surrounding 8
pixels.  Deglot calls the rapi2d program glitch to do the work.  Bad
pixels (or hot pixels) can be set to the bad pixel magic number using the
command applymask or applymasklot (to apply a bad pixel mask image).
Deglot adds a letter 'g' to the input filenames and writes the deglitches
images to files of these names. 
\item[Usage :] useful for de-glitching a series of images using a bad pixel
mask.
\item[Associated commands :] glitch, applymask, applymasklot
\item[Short version of command :] -
\item[Invocation :]

\verb+  deglot<cr> +\end{description}

\hrule \subsection*{$\bullet$ disp}
\begin{description}
\item[Description :] this command takes as input two raw observation numbers, the
second is subtracted from the first and the result is displayed on the
current graphics device.  The two observations can be object and sky or 
two objects with spatial offsets between them.  Once the difference
image is displayed the option is presented to the user to do aperture
photometry on any sources present.  The parameters of the raw
observations are reads from the header of the ro files and are used when
photometry is performed to get counts/sec for application of the zeropoint
currently defined in the system.  On-line at {\sc UKIRT} disp reads default
zeropoints (the magnitude corresponding to 1DN/sec).  Off-line users
should defined zeropoints using standard star observations and aperture 
photometry and put them into the system using the command setvar.
\item[Usage :] useful for quick look display of object-sky images and simple
aperture photometry on result.
\item[Associated commands :] setvar, pho, pho2, pho3, stdred, stred
\item[Short version of command :] -
\item[Invocation :]

\verb+  disp<cr> +or \verb+ 
disp 45 46<cr> +

\begin{itemize}

\item {\sl 45 } is the observation number of the object image
\item {\sl 46 } is the observation number of the sky image
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ dispick}
\begin{description}
\item[Description :] using cursor selected pixels on the current image displayed on
the current graphics device, dispick extracts a sub-area of an images and
creates a separate image to contain it.  The user selects the bottom-left
and top-right corners of the rectangular area to be extracted and dispick
calls the rapi2d action pickim to extract the defined area.  The output
image name containing the sub-area selected is named by the user.
\item[Usage :] useful to interactively extract and store a sub-area of an image
into a new image.
\item[Associated commands :] dispick
\item[Short version of command :] -
\item[Invocation :]

\verb+  dispick<cr> +or \verb+ 
dispick 42<cr> +
or \verb+ 
dispick 0<cr> +

\begin{itemize}
\item {\sl 42 } is the observation number of the image to be displayed
and have sub-area extracted from
\item {\sl 0 } will prompt you for the full name of image to be displayed
and have sub-area extracted from
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ellipse}
\begin{description}
\item[Description :] plots a ellipse at a user-defined position in an image. The
ellipse is plotted on a user-selected pixel (selected by the pixel x,y
coordinates 1,1 being the bottom-left corner of the image) in the image
and is of a user-defined major axis (in arcseconds) and eccentricity. To
set the arcsecond/pixel scale in the image use the command setps.
\item[Usage :] useful to plot an ellipse centred on a pixel of an image (e.g. an
IRAS error ellipse).
\item[Associated commands :] cellipse, line\_width, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  ellipse<cr> +or \verb+ 
ellipse 47 201 10 0.982 42.3<cr> +

\begin{itemize}

\item {\sl 47 201 } are the x,y pixel coordinates at which the ellipse
is plotted
\item {\sl 10 } is the major axis of the ellipse in arcseconds
\item {\sl 0.982 } is the eccentricity of the ellipse
\item {\sl 42.3 } is the position angle of the ellipse (e or n)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ flat2}
\begin{description}
\item[Description :] flat2 takes as input two images and with optional normalization
to a median of unity, flat-fields the first with the second and the
second with the first.  The output images have the same name as the input
images with a letter 'f' added.  This is a useful command for
flat-fielding if you have two images of a compact object (e.g. a star) at
two different spatial offsets.  The images should be dark subtracted
using darklot or rodarklot (depending on whether you are dealing with
data from {\sc IRCAM1/2} or {\sc IRCAM3}) and then self flat-fielded using flat2. The
normalization to unity for the image to be divided into the object image
is determined by the rapi2d action stats.  The division is performed
using the rapi2d action div.
\item[Usage :] useful to flat-field two images a,b a with b and b with a.  a and
b could be say, two images of a star with a spatial offset between them.
\item[Associated commands :] stats, div
\item[Short version of command :] -
\item[Invocation :]

\verb+  flat2<cr> +or \verb+ 
flat2 im\_50d im\_51d 1<cr> +

\begin{itemize}

\item {\sl im\_50d im\_51d } are the two images to be flat-fielded by
each other
\item {\sl 1 } means normalize flat-field in each case
(0 would mean don't normalize flat-fields)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ flatlot}
\begin{description}
\item[Description :] flat-fields a series of images defined by a name prefix, a
range of observation numbers and a name suffix.  See above for the
definition of the operation of the ``lot'' family of images.  flatlot asks
for an image to be used as a flat-field and also whether that images
should be normalized to a median of unity.  It then divides the
flat-field images (normalized if requested) into the series of object
images and adds the letter ``f'' to the input image name for the output
flat-fielded images.  The input images should be dark subtracted using
the commands darklot or rodarklot (depending on whether you are reducing
{\sc IRCAM1/2} or {\sc IRCAM3} data).  The median of the flat-field image, used for
normalization to a median of unity, is calculated using the rapi2d action
stats.  The flat-fielding is performed using the rapi2d action div.
\item[Usage :] use this to flat-field a number of images with the same
flat-field image.
\item[Associated commands :] stats, div
\item[Short version of command :] -
\item[Invocation :]

\verb+  flatlot<cr> +\end{description}

\hrule \subsection*{$\bullet$ getcm}
\begin{description}
\item[Description :] returns to the user the current calculated image display max,min
scaling values.  The calculated max,min scaling values are defined by the
last image display command used to display an image e.g. nsigma, plot,
ranplot, vargrey, etc.
\item[Usage :] This command is useful when you have plotted an image using say,
nsigma display, and you want to know what the actual max,min scaling
values are for a specific sigma-level.
\item[Associated commands :] nsigma, cnsigma, plot, cplot, ranplot, cranplot,
vargrey, cvargrey
\item[Short version of command :] -
\item[Invocation :]

\verb+  getcm<cr> +\end{description}

\hrule \subsection*{$\bullet$ getoff}
\begin{description}
\item[Description :] gets the ra,dec spatial offsets from the header of a series of
raw ro {\sc IRCAM3} images.  The ra,dec spatial offset are shown on the screen
and also written to an ascii file called ro.off.  This file can be used
in such commands as remos (to re-mosaic a set of images) or jitreg (to
refine the offsets and correct for telescope drifting and pointing
changes.
\item[Usage :] check spatial offsets of set of observations.
\item[Associated commands :] remos, jitreg
\item[Short version of command :] -
\item[Invocation :]

\verb+  getoff<cr> +\end{description}

\hrule \subsection*{$\bullet$ getrast}
\begin{description}
\item[Description :] gets the size (in raster units or device pixels) of the current
graphics device. The size is printed to the screen.  Some of the graphic
display routines in IrcamDR require that the plotting location on the
screen be defined in terms of the device raster units rather than a users
world coordinates.  There one should think of the plotting/graphics device
as having world coordinates in x,y from 1,1 to xmax,ymax where xmax and
ymax are returned by getrast.
\item[Usage :] check size of imaging window in raster units.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  getrast<cr> +\end{description}

\hrule \subsection*{$\bullet$ glitchmark}
\begin{description}
\item[Description :] this command allows interactive removal of bad/hot pixels
from an image.  an image should be displayed on the current graphics
device and once glitchmark is invoked it displays the cursor on the image
and asks the user to select with the cursor all the pixels that are to be
defined as needing de-glitching (i.e. hot and bad pixel or undesirable
features).  The user click the cursor off the image displayed (on the
background to the image but still within the current graphics device
display area) to terminate pixel selection.  Once this has been done the
selected pixels coordinates (1,1 bottom left corner of image 256,256 top
right corner of {\sc IRCAM3} image) are written to a user-named ascii file and
the user is asked if this list of bad/hot pixels is to be applied to a
specific image.  If the user wants to apply the list of bad/hot pixels to
an image he/she input a name and a name for the output image and
glitchmark calls the rapi2d action glitch to replace all identified
bad/hot pixels by the median of the 8 surrounding pixels.
\item[Usage :] identify bad/hot pixels interactively.
\item[Associated commands :] glitch
\item[Short version of command :] -
\item[Invocation :]

\verb+  glitchmark<cr> +\end{description}

\hrule \subsection*{$\bullet$ grid}
\begin{description}
\item[Description :] plots a x,y (ra,dec) grid on an image displayed on the current
graphics device.  The spacing of the grid lines are in arcseconds and the
arcsecond/pixel scale is defined by the command setps.  The grid starts
at the first pixel in x and y (bottom left corner) of the image (this is
a feature that is due to be eliminated so that the grid can originate at
any pixel in the image).  The x and y spacing are independent and can
take different values (e.g. 15" in ra (1 sec of time) and 10" in dec
say).  The width of the line used to draw the grid is defined by the
command line\_width.
\item[Usage :] puts grid of user-defined spacing on image displayed.
\item[Associated commands :] setps, line\_width
\item[Short version of command :] -
\item[Invocation :]

\verb+  grid<cr> +or \verb+ 
grid 15 10<cr> +

\begin{itemize}

\item {\sl 15 10 } are the x,y spacing of grid in arcseconds
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ hardcopy}
\begin{description}
\item[Description :] plots last image displayed or last line graphics displayed or
combination of the two to a hardcopy device (generally a file e.g. a
Postscript file).  Hardcopy presented you with a menu that allows you to
select what you want hard copying.  The hardcopy output device is defined
by the command sethard.  hardcopy closes plotting to the current graphics
device and opens it on the hardcopy device and plots the output desired
and then re-opens plotting to the previous graphics device.
\item[Usage :] produces paper copy of current graphics.
\item[Associated commands :] sethard, hardlot
\item[Short version of command :] ha
\item[Invocation :]

\verb+  hardcopy<cr> +or \verb+ 
hardcopy 3<cr> +

\begin{itemize}
\item {\sl 3} means plot last image to hardcopy device
\item {\sl 1} would mean plot last line graph)
\item {\sl 2} would mean plot last contour map + last vector map
\item {\sl 4} would mean plot last image + last contour map
\item {\sl 5} would mean plot last image + last vector map
\item {\sl 6} would mean plot last image + last contour map + last vector map)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ hardlot}
\begin{description}
\item[Description :] makes hardcopies of a series of images defined by a name
prefix, range of observation numbers, and a name suffix.  allows user to
choose the plot method (nsigma, plot, ranplot, vargrey) and their
associated parameters.  also allows the user to plot a border (surround)
around images.  The hardcopies are written to one output file but come
out on separate pages of the hardcopy device.
\item[Usage :] produces paper copies of series of observations/images.
\item[Associated commands :] hardcopy, sethard
\item[Short version of command :] -
\item[Invocation :]

\verb+  hardlot<cr> +\end{description}

\hrule \subsection*{$\bullet$ io2ro}
\begin{description}
\item[Description :] command to convert {\sc IRCAM3} i and o primitive data files (produced
by the data acquisition system) into user-friendly ro files (processed by
IrcamDR.  The i and o files are automatically converted to ro files
on-line at the telescope and these are what the user generally goes away
from JaC with.  However, if archive data is required, this command is
needed since only i and o files are archived to DaT and read-write CDs.
\item[Usage :] converts raw integrations/observation files to reduced
observation files for reduction by IrcamDR.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  io2ro<cr> +\end{description}

\hrule \subsection*{$\bullet$ jitreg}
\begin{description}
\item[Description :] this command calculated accurate spatial offsets between
consecutive images in a sequence or, for example, a mosaic, and writes
them to an ascii file for later use.  jitreg takes as input an ascii file
with the actual telescope spatial offsets (in arcseconds) used to take
the mosaic image and once the user has identified a common feature (star)
that appears in aLL mosaic tiles, jitreg looks at the correct spatial
offsets in each image and refines the spatial offsets to be accurate.
jitreg works on a series of images defined by a name prefix, a range of
observation number and a name suffix.  It will work best on processed
i.e. reduced images (e.g. reduced with stred for example).  jitreg uses
the centroid of the feature (star) to calculate accurate spatial offsets
between images.  The offsets written to the output ascii file are all
relative to the location of the object in the first image in the sequence
and are in arcseconds.  The output ascii file can be used in the command
remos to re-mosaic together a series of images.
\item[Usage :] used to refine spatial offsets between mosaic tiles when a
feature (star) appears in all mosaic tiles.
\item[Notes :] use accoff to get spatial offsets of a sequence of images in a
mosaic pattern (i.e. with large offsets to survey a large area of sky).
Use coff for a sequence of images taken at supposedly the same spatial
position. Use jitreg for a sequence of images taken with a small jitter
offset between them.
\item[Associated commands :] setps, histo, coff, jitreg, stred, remos
\item[Short version of command :] -
\item[Invocation :]

\verb+  jitreg<cr> +\end{description}

\hrule \subsection*{$\bullet$ lagain}
\begin{description}
\item[Description :] plots the last line graphics plot (e.g. cut, contour map, vector
map) again.  
\item[Usage :] useful when refining parameters for a line plot, you can display
the plot (cut, contour, vec) on the current graphics device, clear the
screen (clear), change the parameters (setcut, setcont, setvec) and
re-display the line plot using lagain.
\item[Associated commands :] cut, contour, vec, setcut, setcont, setvec, clear
\item[Short version of command :] lag
\item[Invocation :]

\verb+  lagain<cr> +\end{description}

\hrule \subsection*{$\bullet$ limag}
\begin{description}
\item[Description :] calculates limiting magnitudes of an image given a zeropoint
value (set with command setvar), a filter, exposure time of image (in
sec), and a sub-area size (in pixels). Command limag looks at current
image displayed and within the rectangular sub-area (the position of
which is defined by cursor input and the size defined by user input
pixels sizes in x and y) which should be position on sky (i.e. without
any astronomical objects included) calculates statistical values (e.g.
mean, standard deviations etc). From the 1-sigma standard deviation
within the sub-area, limag calculates the 1-, 5-, 10- and 100- sigma
limiting magnitudes per pixel, per sq arcsecond and per 3" aperture.
\item[Usage :] calculated limiting magnitude of image from sky noise.
\item[Associated commands :] stats, cstats, histo
\item[Short version of command :] -
\item[Invocation :]

\verb+  limag<cr> +or \verb+ 
limag 20<cr> +

\begin{itemize}

\item {\sl 20 } is the x and y sub-area size (in pixels) for stats
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ line}
\begin{description}
\item[Description :] plots a straight line between two user-defined positions in an
image.  The line is plotted from pixel selected by their x,y pixel
coordinates within the current image (1,1 is the bottom-left corner of
image, 256,256 is the top-right corner of an {\sc IRCAM3} image).  The line
width used is defined by the command line\_width.
\item[Usage :] draws line on image displayed.
\item[Associated commands :] cline, line\_width
\item[Short version of command :] -
\item[Invocation :]

\verb+  line<cr> +or \verb+ 
line 10 21 157 210<cr> +

\begin{itemize}

\item {\sl 10 21 } are the x,y start pixels for the line
\item {\sl 157 210 } are the x,y end pixels for the line
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ line\_width}
\begin{description}
\item[Description :] defined the thickness of any line graphics plotted within
IrcamDR.  The factor entered is a multiple of the default (1 unit) line
width.
\item[Usage :] useful for hardcopy production of line graphics (contours, vector
maps etc).  a good setting for hardcopies is typically 2 or 3.
\item[Associated commands :] -
\item[Short version of command :] lw
\item[Invocation :]

\verb+  line\_width<cr> +or \verb+ 
line\_width 3<cr> +

\begin{itemize}

\item {\sl 3 } is the new line width/thickness

\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ linecol}
\begin{description}
\item[Description :] sets the colour (immediately) of any line graphics plotted on
the current graphics device.  Colours are selected from the standard set
referred to as (WRGBYPCS [W=white, R=red, G=blue, B=blue, Y=yellow,
P=purple, C=cyan, S=pink and N=black]).  The setting of the line graphics
colour is only temporary since any new line graphics will change the line
colour to its own default colour.
\item[Usage :] useful to change line graphics colour when making a presentation
slide/picture from the device screen.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  linecol<cr> +or \verb+ 
linecol r<cr> +

\begin{itemize}

\item {\sl r } is red, the new colour of the line graphics
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ mcursor}
\begin{description}
\item[Description :] displays N cursors consecutively on the current graphics device
(assuming it supports cursoring) and returns the pixel location within
the current image and the pixel value at that location. If you click the
mouse off the current image a value of -9999 is returned indicating that
the pixel chosen does not exist.  mcursor gives you the option to
specify at the start the number of cursors you want or to keep hitting
the return key to get another one.
\item[Usage :] puts up multiple cursors for pixel inquiries.
\item[Associated commands :] cursor
\item[Short version of command :] mc
\item[Invocation :]

\verb+  mcursor<cr> +or \verb+ 
mcursor 5<cr> +

\begin{itemize}

\item {\sl 5} is the number of cursors displayed consecutively
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ medlot}
\begin{description}
\item[Description :] medlot subtracts the median value from a sub-area of an image
from the whole image.  It works on a series of images whose names are
defined by a name prefix, a series of observation numbers and a name
suffix. See above for the definition of the operation of the ``lot'' family
of images.  The median value is calculated using the rapi2d action stats
The sub-area of the image in which the median is calculated is defined by
its start and end x,y pixel coordinates 1,1 is the bottom-left corner of
the image, 256,256 is the top-right corner of an {\sc IRCAM3} image.  The
output images have the same names as the input images but with the letter
'm' added, thus, if im\_50dfzm was the input image name (with prefix im\_, a
number range 50-54 say, and a suffix dfzm) then the output image would be
im\_50dfzmm.
\item[Usage :] sky subtraction in flat-fielded image.
\item[Associated commands :] stats
\item[Short version of command :] -
\item[Invocation :]

\verb+  medlot<cr> +\end{description}

\hrule \subsection*{$\bullet$ mofflot}
\begin{description}
\item[Description :] calculates accurate spatial and dc level offsets between
consecutive images in a series of image from, say, a mosaic.  mofflot
uses the rapi2d action moff.  The image sequence is defined by a name
prefix, a range of observation numbers and a name suffix.  See above for
the definition of the operation of the ``lot'' family of images.  mofflot
requires an ascii telescope spatial offset (in arcseconds) which could be
created using the command getoff from the raw ro files of a spatial
mosaic.  
\item[Usage :] calculating dc and spatial offsets between mosaic tiles.
\item[Associated commands :] jitreg, accoff, coff
\item[Short version of command :] -
\item[Invocation :]

\verb+  mofflot<cr> +\end{description}

\hrule \subsection*{$\bullet$ morensigma}
\begin{description}
\item[Description :] replots the last nsigma image display using a different
sigma level.  See command nsigma for details of the nsigma image display
method.
\item[Usage :] repeats last nsigma image display with new sigma-level.
\item[Associated commands :] nsigma, cnsigma
\item[Short version of command :] moren, mn
\item[Invocation :]

\verb+  morensigma<cr> +or \verb+ 
morensigma 10<cr> +

\begin{itemize}

\item {\sl 10} is the new sigma level for the nsigma display of the last
image plotted
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ moreplot}
\begin{description}
\item[Description :] replots the last plot image display using a different max,min
scaling values.  See command plot for details of the plot image display
method.
\item[Usage :] repeats last plot image display with new max,min.
\item[Associated commands :] plot, cplot
\item[Short version of command :] morep, mp
\item[Invocation :]

\verb+  moreplot<cr> +or \verb+ 
moreplot 200 1000<cr> +

\begin{itemize}

\item {\sl 200 1000 } are the new min and max scaling values for the plot
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ moreranplot}
\begin{description}
\item[Description :] replots the last ranplot image display using a different
range value.  See command ranplot for details of the ranplot display
method.
\item[Usage :] repeats last ranplot image display with new range.
\item[Associated commands :] ranplot, cranplot
\item[Short version of command :] morer
\item[Invocation :]

\verb+  moreranplot<cr> +or \verb+ 
moreranplot 200<cr> +

\begin{itemize}

\item {\sl 200 } is the new range scaling parameter for the plot
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ morevargrey}
\begin{description}
\item[Description :] replots the last vargrey image display using a different
pair of variable index scaling parameters.  See command vargrey for
details of the vargrey scaling method.
\item[Usage :] repeats last vargrey image display with new parameters.
\item[Associated commands :] vargrey, cvargrey
\item[Short version of command :] morev
\item[Invocation :]

\verb+  morevargrey<cr> +or \verb+ 
morevargrey 60 20<cr> +

\begin{itemize}

\item {\sl 60 } is the new percentage intensity cut value

\item {\sl 20 } is the new colour index cut value 
(the bottom 60\% of the intensity range of the image  is
mapped onto the bottom 20\% of the colour indices).

\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ mos2}
\begin{description}
\item[Description :] mosaics two images together using an interactive selection of
common points.  The two images are displayed on the current graphics
device side-by-side.  The user is asked to selected a common feature
(star) in the right-hand image and then the same feature in the
left-hand image. The peak pixel in a small box centred at those
locations is used to calculate the spatial offsets between the images.
Once this has been done, the user has the option to try and the mosaic
of the two images, the result is displayed on the graphics device and
saved with image name mos2.  The mosaicing part of mos2 is performed
by the rapi2d action mosaic2.
\item[Usage :] test mosaic two overlapping images.
\item[Associated commands :] mosaic2, mosaic, quilt
\item[Short version of command :] -
\item[Invocation :]

\verb+  mos2<cr> +or \verb+ 
mos2 im1 im2<cr> +

\begin{itemize}

\item {\sl im1 and im2 } are the names of the two images to be analysed
 and mosaiced together
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ nomag}
\begin{description}
\item[Description :] command to tell the system that {\sc IRCAM3} does not have an external
magnifier attached to the cryostat.  This command therefore sets the
pixel scale (arcseconds/pixel) to 0.286"/pixel.
\item[Usage :] sets pixel scale to 0.286".
\item[Associated commands :] x2mag, x5mag
\item[Short version of command :] -
\item[Invocation :]

\verb+  nomag<cr> +\end{description}

\hrule \subsection*{$\bullet$ nsigma}
\begin{description}
\item[Description :] an image display command to display on the current graphics
device a user-defined image stored in Starlink NDF format.  The scaling
of the image display (sometimes referred to as the cut or max,min levels)
is determined by a parameter called the sigma level and is input by the
user.  The max,min levels of the image display is determined to be n
standard deviations above and below the mean of the image; the standard
deviation is that from all the pixels in the image.  The value of n is
input by the user.  Thus, a 5-sigma display using nsigma plots the image
with max,min equal to m+5*s,m-5*s, respectively where m is the mean (or
average) of the pixels in the image and s is the standard deviation of
those pixels about the mean.  The sigma level input can by fractional
e.g. it could be 0.1 or 0.057 or 10 or 100 or 50.3 etc.  If the sigma
level is input to be 0 then the user is prompted for the upper and lower
sigma level to be used. This terminology means that instead of in the
above example, the max,min level being 5 standard deviations both above
and below the mean, the user can chose the sigma levels independently
thus, could define the max,min values to be m+10*s,m-1*s, respectively.
Under this version of the command (the alternative is just called nsigma)
the position the image is plotted on the graphics device is determined by
the x,y raster coordinates on the current graphics device (cnsigma plots
the image at the cursor position). The size of the image on the current
graphics device is determined by the value of the image magnification
defined by the command setmag.  a magnification of 0 indicates that the
program auto-scales the image size to fill 80\% of the current graphics
device. Fractional magnification are allowed so that images larger than
the size of the current graphics device can be displayed.
\item[Usage :] plots an image with nsigma scaling.
\item[Associated commands :] cnsigma, moren, clear, plot, cplot, ranplot,
cranplot, vargrey, cvargrey, setmag, again, setps, setnum, setcen,
surround.
\item[Short version of command :] ns
\item[Invocation :]

\verb+  nsigma<cr> +or \verb+ 
nsigma 42<cr> +
or \verb+ 
nsigma 0<cr> +

\begin{itemize}
\item {\sl 42 } is the observation number of the image to be plotted
\item {\sl 0 } will prompt you for the full name of image to be plotted
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ oadd}
\begin{description}
\item[Description :] wraparound routine to add (using rapi2d action add) two images
together.  The o at the start of the command indicates processing of two
raw observation (ro) images referred to by their observation number
rather than their full name.
\item[Usage :] adds to observations together.
\item[Associated commands :] osub, odiv, omult, add, sub, div, mult
\item[Short version of command :] -
\item[Invocation :]

\verb+  oadd<cr> +or \verb+ 
oadd 42 43<cr> +

\begin{itemize}

\item {\sl 42 43 } are the two images referred to by their observation
 numbers to be added together
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ocadd}
\begin{description}
\item[Description :] wraparound routine to add (using rapi2d action cadd) constant to
an image. The o at the start of the command indicates processing of 
raw observation (ro) images referred to by their observation number
rather than their full name.
\item[Usage :] adds a constant to an observation.
\item[Associated commands :] ocsub, ocdiv, ocmult, cadd, cdiv, cmult
\item[Short version of command :] -
\item[Invocation :]

\verb+  ocadd<cr> +or \verb+ 
ocadd 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
 is to have a constant added to it.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ocdiv}
\begin{description}
\item[Description :] wraparound routine to divide (using rapi2d action cdiv) an image
by a constant. The o at the start of the command indicates processing of
raw observation (ro) images referred to by their observation number
rather than their full name.
\item[Usage :] divides an observation by a constant.
\item[Associated commands :] ocadd, ocmult, ocsub, add, mult, sub
\item[Short version of command :] -
\item[Invocation :]

\verb+  ocdiv<cr> +or \verb+ 
ocdiv 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
is being divided by constant.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ocmult}
\begin{description}
\item[Description :] wraparound routine to multiple (using rapi2d action cmult) an
image by a constant. The o at the start of the command indicates
processing of raw observation (ro) images referred to by their
observation number rather than their full name.
\item[Usage :] multiples an observation by an constant.
\item[Associated commands :] ocadd, ocdiv, ocsub, add, div, sub
\item[Short version of command :] -
\item[Invocation :]

\verb+  ocmult<cr> +or \verb+ 
ocmult 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
is being multiplied by a constant.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ocstats}
\begin{description}
\item[Description :] wraparound routine to calculate statistics at a cursor defined
position in an image within a user-defined rectangular sub-area.  Uses
rapi2d action stats. The o at the start of the command indicates
processing of raw observation (ro) images referred to by their
observation number rather than their full name.
\item[Usage :] gets sub-area statistics from an observation.
\item[Associated commands :] cstats, stats
\item[Short version of command :] -
\item[Invocation :]

\verb+  ocstats<cr> +or \verb+ 
ocstats 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
 is being analysed.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ocsub}
\begin{description}
\item[Description :] wraparound routine to subtract (using rapi2d action csub) a
constant from an images. The o at the start of the command indicates
processing of raw observation (ro) images referred to by their
observation number rather than their full name.
\item[Usage :] subtracts a constant from an observation.
\item[Associated commands :] ocadd, ocdiv, ocmult, cadd, cdiv, cmult
\item[Short version of command :] -
\item[Invocation :]

\verb+  ocsub<cr> +or \verb+ 
ocsub 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
  is having a constant subtracted from it.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ odist}
\begin{description}
\item[Description :] calculates the distance and position angle between two cursor
selected points in the current image displayed on the graphics device.
The ra and dec of the points are calculated for the second point from the
values given for the first point by the command setnum (ra dec option).
\item[Usage :] calculates distance between two pixels in am image.
\item[Associated commands :] dist, cent2
\item[Short version of command :] -
\item[Invocation :]

\verb+  odist<cr> +\end{description}

\hrule \subsection*{$\bullet$ odiv}
\begin{description}
\item[Description :] wraparound routine to divide (using rapi2d action div) two images
together. The o at the start of the command indicates processing of two
raw observation (ro) images referred to by their observation number
rather than their full name.
\item[Usage :] divides two observations.
\item[Associated commands :] osub, oadd, omult, add, sub, div, mult
\item[Short version of command :] -
\item[Invocation :]

\verb+  odiv<cr> +or \verb+ 
odiv 42 43<cr> +

\begin{itemize}

\item {\sl 42 43 } are the images referred to by their observation number
 that are being divided.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ohisto}
\begin{description}
\item[Description :] wraparound routine to calculate statistical information (using
rapi2d action histo) in a sub-area of an image. The o at the start of the
command indicates processing of raw observation (ro) images referred to
by their observation number rather than their full name.
\item[Usage :] returns sub-area statistics from observation.
\item[Associated commands :] histo, stats
\item[Short version of command :] -
\item[Invocation :]

\verb+  ohisto<cr> +or \verb+ 
ohisto 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
  is being analysed.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ olook}
\begin{description}
\item[Description :] wraparound routine to print to screen sub-area pixel values
(using rapi2d action look) from an image. The o at the start of the
command indicates processing of raw observation (ro) images referred to
by their observation number rather than their full name.
\item[Usage :] inspects values in sub-area of observation.
\item[Associated commands :] look
\item[Short version of command :] -
\item[Invocation :]

\verb+  olook<cr> +or \verb+ 
olook 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
  is being analysed.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ omult}
\begin{description}
\item[Description :] wraparound routine to multiple (using rapi2d action mult) two
images together. The o at the start of the command indicates processing
of two raw observation (ro) images referred to by their observation
number rather than their full name.
\item[Usage :] multiples two images together.
\item[Associated commands :] oadd, odiv, osub, add, div, sub
\item[Short version of command :] -
\item[Invocation :]

\verb+  omult<cr> +or \verb+ 
omult 42 43<cr> +

\begin{itemize}

\item {\sl 42 43 } are the images referred to by its observation numbers
 that  are being multiplied together.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ostats}
\begin{description}
\item[Description :] wraparound routine to calculate statistical information (using
rapi2d action stats) in a sub-area of an image. The o at the start of the
command indicates processing of raw observation (ro) images referred to
by their observation number rather than their full name.
\item[Usage :] returns statistics on sub-area of observation.
\item[Associated commands :] stats, cstats
\item[Short version of command :] -
\item[Invocation :]

\verb+  ostats<cr> +or \verb+ 
ostats 42<cr> +

\begin{itemize}

\item {\sl 42 } is the image referred to by its observation number that
  is being analysed.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ osub}
\begin{description}
\item[Description :] wraparound routine to subtract (using rapi2d action sub) two
images together. The o at the start of the command indicates processing
of two raw observation (ro) images referred to by their observation
number rather than their full name.
\item[Usage :] subtracts two observation images.
\item[Associated commands :] oadd, odiv, omult, add, sub, div, mult
\item[Short version of command :] -
\item[Invocation :]

\verb+  osub<cr> +or \verb+ 
osub 42 43<cr> +

\begin{itemize}

\item {\sl 42 43 } are the images referred to by their observation
 number that  are being analysed.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ pclose}
\begin{description}
\item[Description :] closes plotting to the current graphics device in preparation
for re-opening a different (or even the same) graphics device.
\item[Usage :] closes plotting to current workstation/device.
\item[Associated commands :] popen
\item[Short version of command :] -
\item[Invocation :]

\verb+  pclose<cr> +\end{description}

\hrule \subsection*{$\bullet$ pencol}
\begin{description}
\item[Description :] sets the colour of one user selected colour table pen to a
user-defined colour.  Colours are referred to by letters, WRGBYPCSN
[W=white, R=red, G=blue, B=blue, Y=yellow, P=purple, C=cyan, S=pink and
N=black]).  The pen is selected by a number between the min and max
allowed for the current graphics device.
\item[Usage :] changes colours of one pen on current device.
\item[Associated commands :] penint
\item[Short version of command :] -
\item[Invocation :]

\verb+  pencol<cr> +or \verb+ 
pencol 0 B<cr> +

\begin{itemize}

\item {\sl 0 } is the pen number (0=background pen) to have colour set
\item {\sl B } is the colour (blue) to set pen to
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ penint}
\begin{description}
\item[Description :] sets the colour of one user selected colour table pen to a
user-defined colour.  Colours are referred to by the intensity of the
three (RGB) guns used to device colours.  The intensities are defined to
be between 0 and 1 (0=nothing, 1=full on). The pen is selected by a number
between the min and max allowed for the current graphics device.
\item[Usage :] changes colours of one pen on current workstation/device.
\item[Associated commands :] pencol
\item[Short version of command :] -
\item[Invocation :]

\verb+  penint<cr> +or \verb+ 
penint 0 1.0 0.5 0.2<cr> +

\begin{itemize}

\item {\sl 0 } is the pen number (0=background pen) to have colour set
\item {\sl 1.0 } is the intensity of the red gun (0-1)
\item {\sl 0.5 } is the intensity of the green gun (0-1)
\item {\sl 0.2 } is the intensity of the blue gun (0-1)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ pho}
\begin{description}
\item[Description :] performs aperture photometry on an image.  pho prompts for an
aperture size (in arcseconds) to be used and defaults to the pre-defined
size defined by the command setvar.  The default image to be used is the
last one displayed on the current graphics device.  Other required input
is the exposure time of the image in seconds (the default is 1.0 since
users will tend to work on reduced images scaled to an equivalent
exposure time of 1 sec; this is done by darklot, rodarklot or stred), and
the filter of the observations.  The filter is required since pho uses
pre-defined zeropoints for each filter set with the command setvar. pho
asks you to select an location for the 'star' aperture using the cursor
and draws a circle of the defined size at that location. It then asks you
to select a 'sky' aperture again with the cursor.  The signal in these
two identically sized aperture is used to calculate the signal from the
object alone which is then converted to a magnitude using the zeropoint.
\item[Invocation :]

\verb+  pho<cr> +or \verb+ 
pho Y<cr> +
\end{description}

\hrule \subsection*{$\bullet$ pho2}
\begin{description}
\item[Description :] performs aperture photometry on an image.  pho2 prompts for two
aperture sizes (in arcseconds) to be used and defaults to the pre-defined
sizes defined by the command setvar.  The two aperture sizes refer to the
star aperture diameter and the sky annulus diameter that immediately
surrounds the star aperture. The default image to be used is the last one
displayed on the current graphics device.  Other required input is the
exposure time of the image in seconds (the default is 1.0 since users
will tend to work on reduced images scaled to an equivalent exposure time
of 1 sec; this is done by darklot, rodarklot or stred), and the filter of
the observations.  The filter is required since pho2 uses pre-defined
zeropoints for each filter set with the command setvar. pho2 asks you to
select a location for the 'star' aperture and 'sky' annulus using the
cursor and it draws circles of the defined sizes at that location. The
signal in the star aperture and sky annulus is used to calculate the
signal from the object alone which is then converted to a magnitude using
\item[Invocation :]

\verb+  pho2<cr> +or \verb+ 
pho2 Y<cr> +
\end{description}

\hrule \subsection*{$\bullet$ pho3}
\begin{description}
\item[Description :] performs aperture photometry on an image.  pho3 prompts for three
aperture sizes (in arcseconds) to be used and defaults to the pre-defined
sizes defined by the command setvar.  The three aperture sizes refer to
the star aperture diameter and the inner and outer sky annulus diameter.
The default image to be used is the last one displayed on the current
graphics device.  Other required input is the exposure time of the image
in seconds (the default is 1.0 since users will tend to work on reduced
images scaled to an equivalent exposure time of 1 sec; this is done by
darklot, rodarklot or stred), and the filter of the observations.  The
filter is required since pho3 uses pre-defined zeropoints for each filter
set with the command setvar. pho3 asks you to select a location for the
'star' aperture and 'sky' annulus using the cursor and it draws circles
of the defined sizes at that location. The signal in the star aperture
and sky annulus is used to calculate the signal from the object alone
which is then converted to a magnitude using the zeropoint.  On
\item[Invocation :]

\verb+  pho3<cr> +or \verb+ 
pho3 Y<cr> +
\end{description}

\hrule \subsection*{$\bullet$ picklot}
\begin{description}
\item[Description :] extracts a sub-area from a series of images whose names are
defined by a prefix, a range of numbers and a suffix (see above for the
definition of the operation of the ``lot'' family of images) and writes
the sub-area to separate independent images.  picklot calls the rapi2d
action pickim.  picklot allows to to select the centre pixel of the
sub-area to be extracted and stored separately with the cursor (on the
current image displayed) and you then select the size of the image
extracted via keyboard input of the x,y pixel size.  alternatively, the
user can input the x,y start pixel for the extracted sub-area and then the
x,y size (in pixels) of the extracted sub-area.  The output images are
stored in images of the same name as the input images but with a letter
'p' added e.g. prefix=im\_, start number=50, end number=54, suffix=dfzm,
would extract a sub-area from images im\_50dfzm, im\_51dfzm etc and write
the sub-areas to images im\_50dfzmp. im\_51dfzmp, etc.  If the user enters
a command line parameter with value Y then that is taken as wanting to
centre the sub-area on a peak pixel close to the cursor selected point.
If a second command line parameter is entered as value Y then picklot can
allow the selection of the centre of each sub-area using the cursor in
each image from which a sub-area is being extracted.  If either of the
above two parameters is N or undefined on the command line then that
option is turned off.
\item[Usage :] extracts area of image to separate image.
\item[Associated commands :] dispick, pickim
\item[Short version of command :] -
\item[Invocation :]

\verb+  picklot<cr> +or \verb+ 
picklot Y Y<cr> +

\begin{itemize}

\item {\sl first Y } switches on centring of sub-area on local peak pixel
\item {\sl second Y } switch on cursor selection of sub-area centre in
 each image (rather than just in first image of series).
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ plot}
\begin{description}
\item[Description :] plots an image on the current graphics device using linear max,min
scaling.  The plot is scaled between the two values set using the
command setmm i.e. the max and min signal level in the image that is to
be mapped onto the range of colour/greyscale pens available.  plot image
displays can be re-plotted with different scaling parameters by either
using the command moreplot (morep) or setmm/again.
\item[Usage :] plot is useful when making hardcopies since you can set the
minimum signal level to just below the sky and the maximum to some
appropriate value above the sky.  This produces a plot where the sky is
close to white on paper and gives good contrast (as opposed to
hardcopying nsigma plots) of features against background.
\item[Associated commands :] cplot, nsigma, ranplot, vargrey, moreplot, again,
setmm
\item[Short version of command :] pl
\item[Invocation :]

\verb+  pl<cr> +or \verb+ 
pl 42<cr> +
or \verb+ 
pl 0<cr> +

\begin{itemize}
\item {\sl 42} is the observation number of the raw ro image to be
plotted
\item if {\sl 0 } is entered here then plot prompts for the full name
 of the image to be plotted
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ plotglitch}
\begin{description}
\item[Description :] plots a series of images whose full image names are input by
the user, and performs interactive bad/hot pixel selection and subsequent
de-glitching on the images.  The bad/hot pixels are identified on the
image, which is displayed on the current graphics device, by cursor
selection.  The output images with bad/hot pixels removed have the same
names as the input images but with the letter 'g' added.  The user can
use the command setarea to plot just a subsection of the current image so
that individual bad/hot pixels can be selected unambiguously with the
cursor.
\item[Usage :] interactive bad/hot pixel removal on sequence of images.
\item[Associated commands :] glitch, glitchmark, setarea
\item[Short version of command :] -
\item[Invocation :]

\verb+  plotglitch<cr> +\end{description}

\hrule \subsection*{$\bullet$ plotlot}
\begin{description}
\item[Description :] plot a series of images, whose names are defined by a prefix, a
range of numbers and a suffix. See above for the definition of the
operation of the ``lot'' family of images.  The images can be displayed
using the nsigma or plot method and can have one of a number of things
executed on them i.e. cursoring, statistics in sub-area, or aperadd
aperture photometry.  By default, the user has to hit the return key
between each image in the display sequence.  If the user puts anything as
a command line parameter then this disables the return and the images are
plotted consecutively as quickly as possible.  This is useful for a
pseudo-movie display to scan through a series of images.
\item[Usage :] plots a lot of images using plot max,min scaling.
\item[Associated commands :] nsigma, plot
\item[Short version of command :] -
\item[Invocation :]

\verb+  plotlot<cr> +or \verb+ 
plotlot N<cr> +

\begin{itemize}

\item {\sl N } is the command line parameter (this can be anything
  at all) which disables the necessity to hit return between
image displays.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ pol2}
\begin{description}
\item[Description :] aperture polarimetry command for dual-beam polarization images
taken with {\sc IRCAM3} and IRPOL2 using Wollaston prism and (possibly) focal
plane mask. The images required by pol2 are the four images taken at
different rotational positions of the warm IRPOL2 half-wave plate i.e. at
positions 0 degrees, 45 degrees, 22.5 degrees and 67.5 degrees (in that
specific order).  Two images of each object (star for example) will be
present on each image due to the splitting of the orthogonal components
of polarization by the Wollaston prism.  pol2 displays the first (0
degrees) image on the current graphics device and asks the user to select
with the cursor the southern-most of the two images of the object (star)
that he/she wants aperture polarization measurements of.  pol2 then
calculates the sky subtracted signal in both orthogonal polarization
components in each of the four images at the different waveplate
positions using the obsrap action aperphot and calculates the Stokes
parameters Q,U,I and the percentage polarization polarization and
associated position angle (in the instrumental coordinate system) using
the polrap action polly2.  The default apertures used to calculate the
object signal and associated sky contribution for each object are defined
by the command setvar and are those used by the command disp.  Three
apertures are defined, a 'star' aperture diameter, and the inner and
outer sky annulus diameter. The apertures are prompted for but the
defaults values are set with setvar. If pol2 receives a command line
parameter then it will automatically optimize the aperture position on
the peak pixel in the local region around the cursor selected pixel
location.  If you are using standard J, H or K filters or the narrow band
(nb) L filter then pol2 knows (empirically) what the x,y (ra,dec)
displacements are between the o-ray and e-ray images (the two orthogonal
polarization state images on each polarization image).  If you are using
any other filter then you must enter the displacements in pixels.  It
would be best to calculate these values prior to running pol2 using
nsigma to display the image and cent2 to work out accurate centroided
offsets between the two images.
\item[Usage :] pol2 is useful on-line to get estimates of the level of
polarization (if any) you are measuring and its reproducibility.  On
faint sources (radio galaxies for example) 9-point jitter mosaics (with
say, 5-8 arcsecond offsets) should be taken at each of the four waveplate
position and each mosaic reduced with the command stred.  The output from
stred can then be used in pol2.
\item[Associated commands :] setvar, stred
\item[Short version of command :] -
\item[Invocation :]

\verb+  pol2<cr> +or \verb+ 
pol2 Y<cr> +

\begin{itemize}

\item {\sl Y } (or anything else for that matter) means optimize the
 polarization aperture position on the peak pixel in the
 local region around the cursor selected pixel position.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ polreg}
\begin{description}
\item[Description :] registers and trims (removes undefined edges after shifting) a
set of four polarization images taken at the four waveplate positions for
a polarization measurement e.g. 0 degs, 45 degs, 22.5 degs, and 67.5
degs.  polreg asks for the names of the four images, displays the first
on the current graphics device, asks the user to select via cursor input
the common feature (star) in all four images, calculates accurate
(centroid) position of the source in the four images (using the rapi2d
action centroid), shifts the images to the average of the four positions
(using the rapi2d action shift) and trims the undefined edges left after
the shifting (using the rapi2d action pickim).  The output images are
generally of a smaller size then the input images due to the trimming of
the undefined edges after the shift.  The output image names are the same
as the input image names with the letter 'r' added to the end, thus, if
the input images were called pol0, pol45, pol22 and pol67 then the output
registered images would be called pol0r, pol45r, pol22r and pol67r.
\item[Usage :] registers spatially polarization images at 4 waveplate positions.
\item[Associated commands :] centroid, shift, pickim
\item[Short version of command :] -
\item[Invocation :]

\verb+  polreg<cr> +\end{description}

\hrule \subsection*{$\bullet$ popen}
\begin{description}
\item[Description :] opens plotting to a user-defined graphics device.  The devices
are referred to by an integer number given in the list presented to the
user upon invocation of the command popen.  The most common device is an
X-windows plotting window called GKS\_3800.  If the X-windows window
exists (say, created from Unix via the IrcamDR command ixcs, ixcm and
ixcl for small, medium and large plotting windows, respectively) then
that window is used by IrcamDR/plt2d (the graphics tasks within IrcamDR).
If the X-windows window does not exist then it is created for you.
Plotting can be closed using the command pclose.  This is needed when
switching between output graphics devices.  The command hardcopy does
this closing and opening for for you (the hardcopy device is defined by
the command sethard).
\item[Usage :] opens plotting to a new workstation/device.
\item[Associated commands :] pclose, sethard, ixcs, ixcm, ixcl (last three from
Unix).
\item[Short version of command :] -
\item[Invocation :]

\verb+  popen<cr> +or \verb+ 
popen 1<cr> +

\begin{itemize}

\item {\sl 1 } is the graphics device id number, 1  is the X-windows
 base window
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ranplot}
\begin{description}
\item[Description :] plots an image using a range scaling value input by the user.
The scaling max,min values are determined by the program to be + (max)
and - (min) the range value on the mean of the image i.e. max =
mean+range, min = mean-range. The image centre is defined by pixel input
and defaults to the centre of the graphics device. The size of the image
on the current graphics device is determined by the value of the image
magnification defined by the command setmag.  a magnification of 0
indicates that the program auto-scales the image size to fill 80% of the
current graphics device.  Fractional magnification are allowed so that
images larger than the size of the current graphics device can be
displayed.
\item[Usage :] plots an image with range scaling on mean signal.
\item[Associated commands :] cranplot, morer, clear, nsigma, plot, vargrey, 
setmag, setcen, again, setps, setnum, surround.
\item[Short version of command :] ran
\item[Invocation :]

\verb+  ranplot<cr> +or \verb+ 
ranplot 42<cr> +
or \verb+ 
ranplot 0<cr> +

\begin{itemize}
\item {\sl 42 } is the observation number of the image to be plotted
\item {\sl 0} will prompt you for the full name of image to be plotted
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ remos}
\begin{description}
\item[Description :] re-mosaics together a series of tile images that form a larger
mosaic image.  The images to be mosaiced together would generally be
reduced images e.g. dark subtracted, flat-fielded etc, the output from
the command stred for example.  The image names of the images to be
-remosaiced together are defined by a name prefix, a range of observation
numbers and a name suffix as in the ``lot'' family of images (see above).
remos takes the input images and re-scales them, via dc subtraction, to
have matching sky (dc) levels in overlap regions (using the obsrap action
automos).  remos then applies the bad pixel mask to the images (using the
obsrap action applymask) to mask off bad/hot pixels and then it
re-mosaics the images together using the rapi2d action quilt.
\item[Usage :] useful when refining spatial offsets between tiles of a mosaic
using jitreg, accoff or coff for example.  Use one of these and then use
the output file created to re-mosaic the tiles using remos.
\item[Associated commands :] stred, jitreg, accoff, coff, quilt
\item[Short version of command :] -
\item[Invocation :]

\verb+  remos<cr> +\end{description}

\hrule \subsection*{$\bullet$ rflot}
\begin{description}
\item[Description :] rotates and flips a series of images whose names are defined by a
prefix, a range of numbers and a suffix. See above for the definition of
the operation of the ``lot'' family of images.  The rotation is defined in
degrees clockwise and the flip is either about a horizontal axis (i.e.
north-south) or about a vertical axis (i.e. east-west).  The rotation is
performed using the rapi2d action rotate.  The flip is performed using
the rapi2d action flip.  The output images are of the same name as the
input images but with the letters 'rf' added to them, thus im\_50dfzm
would be im\_50dfzmrf after rotation and flipping.
\item[Usage :] changes orientation of an image (say, ne to top-left).
\item[Associated commands :] rotate, flip
\item[Short version of command :] -
\item[Invocation :]

\verb+  rflot<cr> +\end{description}

\hrule \subsection*{$\bullet$ rocent}
\begin{description}
\item[Description :] calculates accurate offsets (using rapi2d action centroid)
between the same feature (star) in a series of images specified with
their full name.  rocent plots the images one-by-one and asks the user to
select with the cursor the common feature (star) and it then calculates a
centroid of those features and writes the results pixel to the screen and
an ascii file called rocent.dat (results in terms of accurate pixel
positions for the features). rocent also writes an ascii file called
rocent.off which contains accurate spatial arcsecond offsets of the
features from the location of the feature in the first image in the
series.  additionally, rocent creates an ascii file called rocent.im
which contains a list of the images entered into in rocent for
centroiding.  This can be used to re-mosaic the series of images
together, for example.
\item[Usage :] useful when wanting to determine the motion of an object over a
series of images (i.e. due to telescope tracking problems or oscillations
etc).  also useful to create a spatial offset file (in arcseconds) for
re-mosaicing a series of tiles of a mosaic together using remos or quilt
or mosaic etc.  The files rocent.im and rocent.off can be fed into
crequilt which creates a quilt style ascii file which can be fed into
quilt for mosaicing images together.
\item[Associated commands :] centroid, remos, quilt, crequilt
\item[Short version of command :] -
\item[Invocation :]

\verb+  rocent<cr> +\end{description}

\hrule \subsection*{$\bullet$ rodarklot}
\begin{description}
\item[Description :] rodarklot dark subtracts a series of raw {\sc IRCAM3} format
individual images with names viz: ro950412\_12, ro940412\_13 etc.
Description of the ``lot'' series of procedures that work via a name
prefix, a range of observation numbers and a name suffix is given above.
Rodarklot takes a range of observation numbers and the observation number
of an associated dark exposure and subtracts the dark current image from
the observations and scales the result to DN/sec/coadd reading the
on-chip exposure time from the observation header.  The ro images are
pre-scaled in the aLICE Transputer system to represent 1 coadd.  The
output dark subtracted files are named via a output filename prefix, the
range of observation numbers input and the suffix letter 'd'.  For
example, dark subtracting observations 20-25 from the current {\sc IRCAM3}
image name format (defined by the command setfile), with an output
filename prefix of im\_ would result in dark subtracted images with names
im\_20d, im\_21d\ldots  etc to im\_25d.
\item[Usage :] dark subtracts a series of {\sc IRCAM3} raw (ro) images using a
specified dark image.  To dark subtract a series of {\sc IRCAM1/2} container
file images use the command darklot.
\item[Associated commands :] darklot, setfile
\item[Short version of command :] -
\item[Invocation :]

\verb+  rodarklot<cr> +\end{description}

\hrule \subsection*{$\bullet$ roindex}
\begin{description}
\item[Description :] produces an ascii file containing the basic observational
parameters of a series of raw (ro) {\sc IRCAM3} data images.  The user entered
the range of observations numbers to be scanned and roindex extracts the
observational parameters from the ro files and write the results to the
file.  Once complete, the ascii file it typed to the screen.  The UT date
of the ro files used in roindex (and in general) is set using the command
setfile.
\item[Usage :] produces list of observational parameters from ro image range.
\item[Associated commands :] ropar, rout, getoff, setfile
\item[Short version of command :] -
\item[Invocation :]

\verb+  roindex<cr> +or \verb+ 
roindex 24 37<cr> +

\begin{itemize}

\item {\sl 24 37 } are the start and end observation numbers to be
 indexed
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ romed}
\begin{description}
\item[Description :] median filters a series of raw (ro) {\sc IRCAM3} images.  The images
are defined by a range of observation numbers and a appropriate dark is
also required.  The dark is first subtracted from the raw ro images
before they are median filtered.  The resultant median filtered image is
named by the user and is itself normalized to a median (over the whole
area of the image) of unity.  
\item[Usage :] romed is useful when wanting to create a separate sky flat-field
image from a set of sky jitter mosaic observations.  The median filtered
output image can be used in such commands as stred instead of stred
median filtering the object images and using that as a flat-field.
\item[Associated commands :] rodarklot, med3d, setfile, stred
\item[Short version of command :] -
\item[Invocation :]

\verb+  romed<cr> +or \verb+ 
romed 24 5 23 skyflat<cr> +

\begin{itemize}

\item {\sl 24 } is the start observation number of the series to be
 median filtered
\item {\sl 5 } is the number of images in the series to be median
 filtered
\item {\sl 23 } is the observation number of the dark to be used
\item {\sl skyflat } is the name of the output normalized median
 filtered image
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ropar}
\begin{description}
\item[Description :] extracts the basic observational parameters from one raw (ro)
{\sc IRCAM3} observation file.  The values used to acquire that observation are
written to the screen only.  The observation is defined by its
observation number and the UT date set with the command setfile.
\item[Usage :] useful to check the parameters used for a specific observation.
\item[Associated commands :] roindex, rout, getoff, setfile
\item[Short version of command :] -
\item[Invocation :]

\verb+  ropar<cr> +or \verb+ 
ropar 42<cr> +

\begin{itemize}

\item {\sl 42 } is the observation number of the image to be accessed
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ rotlot}
\begin{description}
\item[Description :] rotates a series of images by an arbitrary amount.  The series
of images are defined by a prefix, a range of numbers and a suffix. See
above for the definition of the operation of the ``lot'' family of images.
The rotation is performed by the rapi2d action rotate and the value is
entered in degrees clockwise.  The output images have the same names as
the input images but with the letter 'r' added to them.
\item[Usage :] rotates a sequence of images.
\item[Associated commands :] rotate, rflot
\item[Short version of command :] -
\item[Invocation :]

\verb+  rotlot<cr> +\end{description}

\hrule \subsection*{$\bullet$ rout}
\begin{description}
\item[Description :] extracts the UT time information from a series of raw (ro) {\sc IRCAM3}
(or old format {\sc IRCAM1/2}) data images.  The UT time is written to an ascii
file called rout.dat.  The raw images to be processed are defined by an
observation number range and the UT date defined by the command setfile.
\item[Usage :] returns UT time on a sequence of ro images.
\item[Associated commands :] ropar, roindex, getoff, setfile
\item[Short version of command :] -
\item[Invocation :]

\verb+  rout<cr> +or \verb+ 
rout 40 42<cr> +

\begin{itemize}

\item {\sl 40 42 } are the start and end observation number for
 extraction of the UT time information
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ scaledark}
\begin{description}
\item[Description :] scales dark exposures from {\sc IRCAM1/2} old style container
files. scaledark scales the exposure time from one value (the one used to
take the dark) to another value (generally one close to the one used to
take the dark).
\item[Usage :] useful if you forgot to take a dark of a specific exposure time
but you have one close to it in exposure length.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  scaledark<cr> +\end{description}

\hrule \subsection*{$\bullet$ scalelot}
\begin{description}
\item[Description :] scales a series of images, whose names are defined by a
prefix, a range of numbers and a suffix. See above for the definition of
the operation of the ``lot'' family of images.  The required input is the
exposure time in seconds and the number of coadds (always 1 for {\sc IRCAM3}
data).  scalelot scales the images by division to unit exposure time and
unit coadds using the rapi2d action cdiv.
\item[Usage :] scales a sequence of images.
\item[Associated commands :] scaledark, cdiv
\item[Short version of command :] -
\item[Invocation :]

\verb+  scalelot<cr> +\end{description}

\hrule \subsection*{$\bullet$ see}
\begin{description}
\item[Description :] command to measure the FWHM of a stellar image using the KaPPa
action psf.  see will take an observation number as input (and then uses
the appropriate raw (ro) image (using the UT date set by setfile), it
will also take the full image name if the user wants to work on processed
images.  The image input by the user is displayed on the current graphics
device and the cursor is then displayed.  The user has to select N stars
in the image (psf averages the seeing profile over a number of images)
and when the stars have been selected the user must click off the image
(but on the background to the graphics window) to terminate star
selection.  The star positions are fed into psf which fits the profiles
with a 2D gaussian profile.  psf (hence the command see) returns the mean
axis ratio and axis orientation of the star (since the images may not be
circular) together with the FWHM of the profile (in pixels and
arcseconds) and the gamma of the profile. The conversion from FWHM in
pixels to arcseconds is done using the value of arcseconds/pixels set
using the command setps.  psf also plots the radial profile from the
stellar image together with the best fit profile found.  This plotting is
done by default to the X-windows window called GKS\_3800.
\item[Usage :] returns fwhm of stellar images in arcseconds.
\item[Associated commands :] psf, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  see<cr> +or \verb+ 
see 42<cr> +
or \verb+ 
see 0<cr> +

\begin{itemize}
\item {\sl 42 } is the observation number of the raw image to be analysed
\item {\sl 0 } means the user wants to enter full name of the image to
 be analysed.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setarea}
\begin{description}
\item[Description :] defined the area (or sub-area) of an image displayed on the
current graphics device when the commands nsigma, plot, ranplot, vargrey
(and their associated cursor commands e.g. cnsigma) are invoked.  The
user can tell the software to just display a sub-image from the image
give rather than displaying the whole image as is the default.  The
sub-image is defined by an x,y start pixel and a sub-area size (in
pixels).  To switch off sub-area display the user must run setarea again
and select the full image option.
\item[Usage :] sets area of an image to be plotted with nsigma, plot, ranplot,
vargrey etc image display commands.
\item[Associated commands :] nsigma, plot, ranplot, vargrey
\item[Short version of command :] -
\item[Invocation :]

\verb+  setarea<cr> +\end{description}

\hrule \subsection*{$\bullet$ setcen}
\begin{description}
\item[Description :] defines the position of the centre of an image on the current
graphics device when it is displayed using any of the IrcamDR image
display commands e.g. nsigma, plot, ranplot, vargrey etc.  The centre of
the image is defined in terms of the device raster (pixel) units, these
are the physical size of the graphics device in device pixels and are
returned from within IrcamDR by the command getrast.  Once execute,
subsequent images will be displayed centred on the input location.  Note
that auto-sizing image using a magnification of 0 will likely not work
well here so users should use the command setmag to define an appropriate
image magnification for images plotted at a location other than on th4e
centre of the array.
\item[Usage :] useful to plot several images on one display device. Users should
use the command getrast to determine the raster (pixel) size of the
current graphics display device and then use setcen (or setquad) to
define a new centre location for subsequent image display.
\item[Associated commands :] setmag, nsigma, plot, ranplot, vargrey, setquad
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcen<cr> +or \verb+ 
setcen 128 192<cr> +

\begin{itemize}

\item {\sl 128 192 } are the x,y raster unit pixels for the centre of
 subsequent image displays
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setcomori}
\begin{description}
\item[Description :] defines the orientation of subsequent comment strings written
to the current graphics device using the commands wrcom and wrccom.  The
orientation defines whether, for example, text is written horizontally or
vertically and starting at the bottom writing upwards downwards etc.
Horizontal-right is the default and produces normal direction and
orientation text.
\item[Usage :] defines orientation of text written with wrc and wrcc.
\item[Associated commands :] wrcom, wrccom
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcomori<cr> +or \verb+ 
setcomori 3<cr> +

\begin{itemize}

\item 3 makes subsequent comment strings write vertically from
 the right
\item {\sl 1-4 } are horizontal-right, horizontal-left, vertical-right
 and vertical-left
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setcont}
\begin{description}
\item[Description :] defines the parameters associated with a contour line plot
executed by the command contour.  The parameters definable with setcont
are the contour level definition method, the contour number, the contour
base and increment, the contour colours, the annotation plotted, the tick
mark start and interval (calling command setnum) and the position of the
contour map on the current graphics device.  setcont has to be executed
once before a contour map can be plotted.  the line thickness use in the
contour map is defined by the command line\_width.
\item[Usage :] sets contour levels to be plotted (amongst other things) using
command contour.
\item[Associated commands :] contour, line\_width, setnum, setps, cont\_title,
contoff
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcont<cr> +\end{description}

\hrule \subsection*{$\bullet$ setcontic}
\begin{description}
\item[Description :] defines whether small or large tick marks are plotted on
contour maps and annotation produced by the command surround.  The tick
marks are the fiducial marks along both x and y axes of the image (ra and
dec) and small tick marks are just of small length while large tick marks
form a complete grid across the image.  The width of the line used is set
with the command line\_width.  Tick marks are defined using the command 
setnum.
\item[Usage :] defines contour axis tick mark length.
\item[Associated commands :] setnum, line\_width, contour, surround, ticklen
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcontic<cr> +or \verb+ 
setcontic s<cr> +

\begin{itemize}
\item {\sl s } means plot small tick marks
\item {\sl f } would mean plot full - grid - tick marks
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setcur}
\begin{description}
\item[Description :] defines where cursor selection of an image position in cnsigma,
cplot, cranplot, and cvargrey refers to i.e. the image centre at the
cursor selected point or the bottom-left or top-right corner of the image
at the cursor selected point.  
\item[Usage :] useful when positioning several images on one display area with a
small magnification i.e. not auto-scaling 0.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcur<cr> +\end{description}

\hrule \subsection*{$\bullet$ setcurmark}
\begin{description}
\item[Description :] defined whether a small cross is plotted when a point/pixel
is selected with the cursor under commands like cursor, mcursor,
glitchmark, ccircle, cbox etc.  The user can switch on and off the
plotting of the small cross marking the cursor position.
\item[Usage :] defines marking of cursor selected points in image.
\item[Associated commands :] cursor, mcursor, glitchmark, cbox, ccircle, ccross,
cellipse, cline
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcurmark<cr> +or \verb+ 
setcurmark 2<cr> +

\begin{itemize}

\item {\sl 2 } means do not plot a cross at cursor pixel
\item {\sl 1 } would mean do plot a cross at cursor pixel)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setcut}
\begin{description}
\item[Description :] defines the parameters associated with a cut (or ccut) through
an image to produce a line graph of intensity vs. position.  parameters
that can be defined include the cut line or marker type, the intensity
axis scaling method, the annotation plotted, and the size and position of
the plot on the current graphics device.  setcut has to be executed once
before a cut or ccut can be produced.  The line thickness of the cut is
set with the command line\_width.
\item[Usage :] defines how a line cut through an image is plotted.
\item[Associated commands :] cut, ccut, line\_width
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcut<cr> +\end{description}

\hrule \subsection*{$\bullet$ setcutaxrat}
\begin{description}
\item[Description :] defines the axis ratio y/x of cut plots produced by the
commands cut and ccut.  a value of 1 means the cuts will be plotted in a
square box, values < 1 will give a longer x axis, values > 1 will give a
longer y axis.
\item[Usage :] defines cut axis ratio on current workstation/device.
\item[Associated commands :] setcut, cut, ccut, line\_width
\item[Short version of command :] -
\item[Invocation :]

\verb+  setcutaxrat<cr> +or \verb+ 
setcutaxrat 2.5<cr> +

\begin{itemize}

\item {\sl 2.5 } is the new cut axis ratio y/x value
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setfile}
\begin{description}
\item[Description :] defines what type of ircam data files are to be processed and
analysed, old type {\sc IRCAM1/2} container files or new type {\sc IRCAM3} ro files.
setfile also defines the {\sc IRCAM1/2} container filename or the UT date for
to ro filename prefix.  Once setfile has been executed (it is run
automatically on startup of IrcamDR but it can also be run any time from
within IrcamDR to chance the current settings), users can refer to raw
images by their observation number alone e.g. setfile n 950714<cr> would
allow you to plot observation number 42 in image ro950714\_42.sdf by the
command ns 42<cr>.
\item[Usage :] defines raw (ro) image UT date or old container file prefix.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  setfile<cr> +or \verb+ 
setfile n 950714<cr> +

\begin{itemize}

\item {\sl n } means use new {\sc IRCAM3} type image names
\item {\sl o } would mean use old {\sc IRCAM1/2} type images names)
\item {\sl 950714 } is the UT date for the new {\sc IRCAM3} type raw ro images
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setfont}
\begin{description}
\item[Description :] selects which font is used when plotting text on the current
graphics device.  The font is selected by the associated GKS font number.
This command does not seem to work under Unix, it used to work under VMS;
font number 106 was a good quality fancy font but all that is produced
under Unix is the basic simple line font regardless of GKS font number
given.  This is to be investigated further.
\item[Usage :] defines font for text on images.
\item[Associated commands :] wrcom, wrccom
\item[Short version of command :] -
\item[Invocation :]

\verb+  setfont<cr> +\end{description}

\hrule \subsection*{$\bullet$ sethard}
\begin{description}
\item[Description :] defines the hardcopy device used to produce hardcopies of
images and line graphics using the command hardcopy.  The hardcopy
devices are referred to by an integer number and are (these days) mostly
Postscript devices (normal Postscript, encapsulated Postscript, colour
Postscript etc).  This command should be executed once prior to any
hardcopy production using IrcamDR.  The IrcamDR software defaults to
Postscript (portrait) as the hardcopy output device if this command has
not been executed.  The Postscript output is written to ascii files on
disk and under Unix these files are called fort.1, fort.1.1, fort.1.2 etc
for the first and subsequent Postscript output files created.  The user
has to do the printing of these files to their own Postscript printer
manually.
\item[Usage :] defines hardcopy device to use in hardcopy command.
\item[Associated commands :] hardcopy
\item[Short version of command :] -
\item[Invocation :]

\verb+  sethard<cr> +or \verb+ 
sethard 14<cr> +

\begin{itemize}

\item {\sl 14 } is output to a Postscript (portrait mode) file
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setmag}
\begin{description}
\item[Description :] sets the magnification used to display images on the current
graphics device.  The magnification is a real number and refers to the
size of the image on the graphics device wrt to the window area available.
a magnification of 0 tells the software to auto-scale the image to fill
80% of the available display area.  This is the default.  
\item[Usage :] defines image magnification for image display.
\item[Associated commands :] nsigma, plot, ranplot, vargrey
\item[Short version of command :] -
\item[Invocation :]

\verb+  setmag<cr> +or \verb+ 
setmag 1<cr> +

\begin{itemize}

\item {\sl 1 } is the new image scaling magnification factor
\item {\sl 0 } would mean auto-scale to fill 80\% of the display  area
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setmax}
\begin{description}
\item[Description :] sets the maximum intensity value mapped onto the maximum colour
index (pen) on the current graphics device under the image display
command plot.  The minimum intensity value is set with the command
setmin.  Both these parameters can be set together with the command
setmm.
\item[Usage :] defines maximum intensity in plot image display.
\item[Associated commands :] setmin, setmm, plot
\item[Short version of command :] -
\item[Invocation :]

\verb+  setmax<cr> +or \verb+ 
setmax 1023<cr> +

\begin{itemize}

\item {\sl 1023 } is the intensity level mapped onto the maximum colour
 index for the current graphics display device
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setmin}
\begin{description}
\item[Description :] sets the minimum intensity value mapped onto the minimum colour
index (pen) on the current graphics device under the image display
command plot.  The maximum intensity value is set with the command
setmax.  Both these parameters can be set together with the command
setmm.
\item[Usage :] defines minimum intensity in plot image display.
\item[Associated commands :] setmax, setmm, plot
\item[Short version of command :] -
\item[Invocation :]

\verb+  setmin<cr> +or \verb+ 
setmin 25<cr> +

\begin{itemize}

\item {\sl 25 } is the intensity level mapped onto the minimum colour
 index for the current graphics display device
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setmm}
\begin{description}
\item[Description :] executes both setmax and setmin to set the maximum and minimum
intensity values to be mapped onto the maximum and minimum colour indices
for the current graphics display device under the command plot.
\item[Usage :] runs both setmax and setmin.
\item[Associated commands :] setmin, setmax, plot
\item[Short version of command :] -
\item[Invocation :]

\verb+  setmm<cr> +or \verb+ 
setmm 0 1023<cr> +

\begin{itemize}

\item {\sl 0 and 1023 } are the intensity values mapped onto the minimum
 and maximum colour indices available for the current
 graphics display device for the command plot
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setnum}
\begin{description}
\item[Description :] defines the axis annotation used in surround (for images) and
contour and vector maps.  The annotation consists of a border around the
graphics and user-defined tick marks (user-defined x,y start positions
and x,y intervals).  The tick marks can represent arcsecond offsets from
a selected image pixel or ra,dec positions from that same position.
setnum therefore defines the parameters required to produce these image
annotations.  The arcsecond/pixel scale has to be set using the command
setps before the command setnum is executed so that the correct offsets
in arcseconds or seconds of time/arcseconds can be produced.
\item[Usage :] defines axis annotation setup for surround annotation.
\item[Associated commands :] setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  setnum<cr> +\end{description}

\hrule \subsection*{$\bullet$ setnumori}
\begin{description}
\item[Description :] defines the orientation of y-axis annotation numbers on
annotation plotted around images using the command surround or on
contour/vector maps.  The two possibilities are horizontal so that the
numbers can be read normally or vertically so that the numbers are
written along the y-axis; the latter is the most useful when additional
axis comments/title strings are given.
\item[Usage :] defines number orientation in surround axis annotation.
\item[Associated commands :] surround, contour, vec, setfont, setnumsca
\item[Short version of command :] -
\item[Invocation :]

\verb+  setnumori<cr> +\end{description}

\hrule \subsection*{$\bullet$ setnumsca}
\begin{description}
\item[Description :] defines the size of numeric annotation on the axes of images
produced by the command surround or around contour/vector maps produced
by the commands contour and vec.  The input parameter is a scaling factor
which if $<$ 1 means you get larger number and if $>$ 1 you get smaller
numbers.  
\item[Usage :] defines number size in surround axis annotation.
\item[Associated commands :] surround, contour, vec, setfont, setnumori
\item[Short version of command :] -
\item[Invocation :]

\verb+  setnumsca<cr> +or \verb+ 
setnumsca 2<cr> +

\begin{itemize}

\item {\sl 2 } means the numbers on the axes will be 2x smaller than the
 default size.
 a value of 0.5 would give numbers 2x larger
 than the default size
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setpolcol}
\begin{description}
\item[Description :] defines the colours of the polarization vectors plotted using
the command vec.  The vectors can be all the same colour or, if there are
enough colour indices (pens) available on the current graphics device
(e.g. 256), different polarization levels/ranges can have different
colours. For example, 0-10\% could be white, 11-20\% could be red, 21-30\%
could be green, 31-40\% could be yellow and everything above 41% could be
blue.  This helps delineate regions of similar polarization in vector
maps.
\item[Usage :] defines polarization vector colours for multi-colour vector plot.
\item[Associated commands :] vec, setvec
\item[Short version of command :] -
\item[Invocation :]

\verb+  setpolcol<cr> +\end{description}

\hrule \subsection*{$\bullet$ setps}
\begin{description}
\item[Description :] defines the arcsecond/pixel scale of the images being
process/analysed.  This value input is a real number and is the
arcseconds per pixel in the data.  setps has to be executed before a
border with ticks marks in arcseconds offsets from a specific location
(or ra,dec values) are plotted using the command surround (or
automatically in contour and vec).  On startup of IrcamDR, the pixel
scale for {\sc IRCAM3} images without an external magnifier (i.e. 0.286"/pixel
is automatically defined).
\item[Usage :] defines pixel scale for setnum etc.
\item[Associated commands :] setnum
\item[Short version of command :] -
\item[Invocation :]

\verb+  setps<cr> +or \verb+ 
setps 0.286<cr> +

\begin{itemize}

\item {\sl 0.286 } is the arcsecond/pixel value to be set
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setquad}
\begin{description}
\item[Description :] allows the user to display images in the four quadrants of an
image/graphics display device, i.e. top-right (=1), top\_left (=2),
bottom-left (=3) and bottom-right (=4).  The quadrant is set using an
integer value 1-4 (see above).  The magnification of the images (set
using setmag) may also need to be adjusted since the images will need to
be displayed smaller to fit into a quadrant of the current graphics
device.  setquad with the argument 5 means reset image display to be on
the centre position of the current graphics device.
\item[Usage :] defines quadrant image display option.
\item[Associated commands :] setmag, setcen
\item[Short version of command :] sq
\item[Invocation :]

\verb+  setquad<cr> +or \verb+ 
setquad 4<cr> +

\begin{itemize}

\item 4 means plot images in the bottom-right quadrant of the
 current image/graphics display device
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setradec}
\begin{description}
\item[Description :] defines the ra,dec of the origin point of axes offsets plotted
using the command surround or under contour and vec plots.  The ra,dec
are entered in the standard manner with commas separating each of the
components (e.g. degrees, arcminutes, arcseconds).  Once the ra,dec has
ben set the user can define the origin and interval of the axes tick
marks using the command setnum.  
\item[Usage :] defines ra and dec for surround image axis annotation.
\item[Associated commands :] setps, setnum, setcomori
\item[Short version of command :] -
\item[Invocation :]

\verb+  setradec<cr> +\end{description}

\hrule \subsection*{$\bullet$ setstd}
\begin{description}
\item[Description :] defines the reduction/analysis setup for the automatic
processing and photometry command stdred.  The parameters required are
the number of images in a photometric sequence (at different spatial
offsets), the diameter of the star, inner and outer sky apertures to be
used, the sigma level for nsigma display of the images, whether to reduce
raw (ro) images or do photometry on reduced images only, whether to do
photometry on the individual reduced images plus the mosaiced image or
just the mosaic image, whether to median filter the object images to
create a flat-field or use a separate flat-field (if use a separate
flat-field then the user can input the names of the dark subtracted,
normalized to unity flat-field for each waveband, J, H, K, nbL, Lp, nbM).
\item[Usage :] defines how standard stars photometry mosaics are reduced and
analysed in stdred.
\item[Associated commands :] stdred
\item[Short version of command :] -
\item[Invocation :]

\verb+  setstd<cr> +\end{description}

\hrule \subsection*{$\bullet$ setvar}
\begin{description}
\item[Description :] defines a variety of IrcamDR variables, specifically, the
arcsecond/pixel scale, the magnification used for the command disp, the
sigma-level used for nsigma image display in command disp, the star and
inner,outer sky annulus diameters for command pho3 (and others), and the
zeropoints for J, H, K, nbL, Lp, and nbM.
\item[Usage :] defines numerous variables for image analysis.
\item[Associated commands :] disp, pho, pho2, pho3, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  setvar<cr> +\end{description}

\hrule \subsection*{$\bullet$ setvargrey}
\begin{description}
\item[Description :] defines the parameters for vargrey/cvargrey image display.
The two parameters required are the percentage X of the intensity to be
mapped onto the percentage of the colour indices Y.  See vargrey
description for more details.
\item[Usage :] defines vargrey image scaling parameters.
\item[Associated commands :] vargrey, cvargrey
\item[Short version of command :] setvg
\item[Invocation :]

\verb+  setvargrey<cr> +or \verb+ 
setvargrey 20 80<cr> +

\begin{itemize}

\item 20 80 means map the lower 20% of the intensity range onto
 the lower 80% of the colour indices

\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setvec}
\begin{description}
\item[Description :] defines the parameters needed for a polarization vector map line
plot using the command vec.  The parameters required by setvec are the
vector map magnification (0 for auto-sizing to 80% of the display area),
the polarization position angle correction value to rotate the
polarization from the instrumental to equatorial coordinate systems, the
vector density (1 means plot a vector at every pixel in the image, 2
means plot a vector at every other pixel in the image etc), the length of
100% polarization in units of pixels, whether you want annotation around
the vector map plot (annotation means axes, tick marks, axis annotation),
how you want to position the vector map on the current graphics display
device, and the colours used to produce the vector map plot (see
setpolcol for more details).
\item[Usage :] defines how vector plots using command vec are displayed.
\item[Associated commands :] vec, setpolcol, setps
\item[Short version of command :] -
\item[Invocation :]

\verb+  setvec<cr> +\end{description}

\hrule \subsection*{$\bullet$ shift2}
\begin{description}
\item[Description :] shifts via linear interpolation (using rapi2d action shift) two
images to an average position.  The user can either input the accurate
positions of the same feature (star) in the two images or, by putting
anything as a command line parameter, use the cursor to select the common
feature (star) in the two images. In the latter case, the accurate
positions of the features are calculated using the rapi2d action
centroid.  shift2 also calculates the residuals after shifting between
the two features.
\item[Usage :] registers two images to same spatial position.
\item[Associated commands :] shift, shift3
\item[Short version of command :] -
\item[Invocation :]

\verb+  shift2<cr> +or \verb+ 
shift2 Y<cr> +

\begin{itemize}

\item {\sl Y } means use cursor selection of the common feature (star)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ shift3}
\begin{description}
\item[Description :] shifts via linear interpolation (using rapi2d action shift)
three images to an average position.  The user can either input the
accurate positions of the same feature (star) in the three images or, by
putting anything as a command line parameter, use the cursor to select
the common feature (star) in the three images. In the latter case, the
accurate positions of the features are calculated using the rapi2d action
centroid.  shift3 also calculates the residuals after shifting between
the three features.
\item[Usage :] registers three images to same spatial position.
\item[Associated commands :] shift, shift2
\item[Short version of command :] -
\item[Invocation :]

\verb+  shift3<cr> +or \verb+ 
shift3 Y<cr> +

\begin{itemize}

\item {\sl Y }  means use cursor selection of the common feature (star)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ skysub4}
\begin{description}
\item[Description :] subtracts the median value in a sub-area in each of the four
images from the image itself.  This command is useful for sky subtracting
the four images taken at the four different waveplate positions in
polarization observations.  The images are defined by their full name and
the first is displayed on the current graphics device.  The user selects
the sub-area to be used as the statistics area for the median calculation
(i.e. on sky for example) using the cursor, he/she selects the
bottom-left corner and top-right corner of the sub-area with the cursor.
The median is calculated using the rapi2d action stats and the value
found in each image is subtracted from the image itself using the rapi2d
action csub.  The output images are named the same as the input images
but with the letter 's' added to them.
\item[Usage :] subtracts sky from 4 images, usually images at four waveplate
positions in polarimetry mode.
\item[Associated commands :] stats, csub
\item[Short version of command :] -
\item[Invocation :]

\verb+  skysub4<cr> +\end{description}

\hrule \subsection*{$\bullet$ splitlot}
\begin{description}
\item[Description :] splitlot splits images from a series of images, whose names
are defined by a prefix, a range of numbers and a suffix (see above for
the definition of the operation of the ``lot'' family of images), into four
separate images each containing one quadrant of the original image. Thus,
for a 256x256 {\sc IRCAM3} image named im\_50dfzm, splitlot would create four
output images called im\_50dfzma, im-50dfzmb, im\_50dfzmc and im\_50dfzmd
each containing one quadrant of the original image viz: a contains data
from pixel 1,1 (bottom-left corner of image) to 128,128, b contains data
from pixel 129,1 to 256,128, c contains data from pixel 129,1 to 256,128
and d contains data from pixel 129,129 to 256,256.  The extraction of the
sub-areas into separate images is performed using the rapi2d action
pickim. 
\item[Usage :] This is useful for very large images from other sources (say CCD
images or large scale mosaic images) and makes the data more manageable.
\item[Associated commands :] pickim
\item[Short version of command :] -
\item[Invocation :]

\verb+  splitlot<cr> +\end{description}

\hrule \subsection*{$\bullet$ stdproc}
\begin{description}
\item[Description :] creates an ICL procedure file for the automatic reduction of a
complete nights {\sc IRCAM3} data with pre-defined stellar photometry extracted
and stored.  stdproc runs an IrcamDR fortran 77 program called crestd
which analyses the raw observation (ro) index file (created by the figaro
jac utility {\sc IRCAM3}list which is run automatically at the end of each
nights observing) whose name is of the form ro950714.lis.  This file has
all the information about each observation taken stored in a one line per
observation summary.  stdproc via crestd analyses this file and creates
an ICL batch file called crestd.ICL which will contain the necessary
commands to fully reduce mosaics of specified objects and extract
photometric information on stellar sources within the individual images
and the final mosaic image.  The data reduction and photometric
information extraction is performed by the command stdred (see below).
The ascii ICL batch file created by stdproc for subsequent data reduction
will automatically execute the stdred setup procedure setstd before
reducing any images.  The program crestd will queue for reduction user
specified objects.  It looks for a file called objects.list in the current
directory and if it finds one it will look in their for the object names
or object name prefixes to be reduced.  By default, if no objects.list
file is found, crestd will queue image mosaics with object names starting
with the letters 'fs' or 'hd' i.e. generally standard stars.  Users can
enter their own names into an objects.list file so, for example, an
objects.list file could contain lines like,
\begin{verbatim}
cyg
ngc
fs
hd
gl
s
-sky
\end{verbatim}
and hence, all image mosaics with object names starting with the given
letters will be queued for reduction using stdred.  The -sky entry allow
the user to tell crestd not to reduce images beginning with the letters
sky even though, on the previous line, he/she has told the program to
reduce all image mosaics beginning with the letter s.  Once stdproc has
run, it will ask if you want to execute the file crestd.icl.   If you do
not want to execute it immediately then you can do so at a later date
using the ICL command 
\begin{verbatim}
load crestd.icl
\end{verbatim}
\item[Usage :] executes automatic reduction of nights single star photometry
mosaic data sets.
\item[Associated commands :] stdred
\item[Short version of command :] -
\item[Invocation :]

\verb+  stdproc<cr> +
\end{description}

\hrule \subsection*{$\bullet$ stdred}
\begin{description}
\item[Description :] command to fully process/reduce a set of {\sc IRCAM3} images forming a
mosaic.  also, stdred will extract photometric information from the
reduced images.  stdred was written to reduce and analyse standard star
data from the {\sc UKIRT} faint standard definition program but can be used on
any set of data given the appropriate setup.  Setup of stdred is
performed using the command setstd.  stdred takes the following steps in
reducing image mosaics, i) dark subtracts the images, ii) creates a
median filtered flat-field from the images (optional, user can use a
separate sky flat-field - option defined in setstd), iii) applies the
flat-field to the dark subtracted images, iv) airmass corrects the images
to unit airmass (optional, user can switch airmass correction on/off in
stdred itself), v) dc sky level offsets between mosaic tiles are
calculated using the obsrap action automos and applied to the images -
corrections are dc subtractions only, vi) the bad/hot pixels are masked
out using a bad pixel magic number (the value used in IrcamDR is
-1.0e-20), vii) the tiles are mosaiced together using the rapi2d action
quilt.  Bad/hot pixels masked out in v above are replaced by good pixels
from overlapping images, vii) photometry is extracted from the images
(either the individual tile images plus the final mosaiced image or just
the final mosaiced image).  Photometry is setup in setstd.  Users can
perform photometry on the stellar source located near the centre of the
first image in the mosaic (and at the offset position in the mosaic
tiles) or he/she can select the source for photometry using the cursor.
the results are written to the screen and, more importantly, appended to
the file stdred\_photometry.results in the current directory.  This give a
complete set of information on the images and the photometry extracted.
at present, only one source per image can have auto-photometry performed
on it.  The option to select more than one source per image is under
development.

Dark selection --- stdred assumes you took a dark exposure immediately
prior to the last sequence of J images taken (it assume you took dark, N
J images of a standard, N H images of the standard, then N K images of
the standard).  It therefore looks at the image N-1 if the current
sequence of images are using the J filter, N*2-1 if the current series of
images are using the H filter, and N*3-1 if the current series of images
are using the K filter.  If the above image is not a dark, stdred will
prompt the user for the dark observation number.:]

{\bf stdred}  can also be used to perform photometry on an already processed
image. It will then write the results to the same output ascii file in
the same format as when analysing raw images reduced in stdred.  To
define whether to perform photometry on raw (stdred processed) images or
already reduced images use the command setstd.:]
\item[Usage :] reduces single star photometry mosaic image sets as defined by
setstd.
\item[Associated commands :] stdproc, setstd
\item[Short version of command :] -
\item[Invocation :]

\verb+  stdred<cr> +or \verb+ 
stdred 42 3 41<cr> + or 
\begin{verbatim}
stdred im\_50dfzm K 0.286 1.34 1+
\end{verbatim}
\begin{itemize}

\item {\sl 42 } is the start observation number of the mosaic series
\item {\sl 3 } is the number of images in the mosaic series
\item {\sl 41 } is the dark to be used in the reduction.
\item {\sl im\_50dfzm } is the reduced image to perform photometry on
\item {\sl K } is the filter used to take the data in image
\item {\sl 0.286 } is the pixel scale in arcseconds/pixel
\item {\sl 1.34 } is the airmass at which the image was taken
\item {\sl 1 } means use peak positive features for aperture centering
 (2 would mean use peak negative features for aperture
 centering)
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ stlot}
\begin{description}
\item[Description :] subtracts a constant (sky for example) and thresholds a series of
images whose names are defined by a prefix, a range of numbers and a
suffix. See above for the definition of the operation of the ``lot'' family
of images.  The median signal in a user-defined sub-area of the image
(defined by cursor selection) is subtracted from the whole image and then
the images is thresholded e.g. all pixels with values < 10-sigma below 0
(the median value in the sub-area after constant subtraction) are set to
zero.  The output images are called the same as the input images but have
the letters 'st' added to their name.
\item[Usage :] sky subtracts and thresholds a series of images.
\item[Associated commands :] stats, histo, csub, thresh
\item[Short version of command :] -
\item[Invocation :]

\verb+  stlot<cr> +\end{description}

\hrule \subsection*{$\bullet$ stred}
\begin{description}
\item[Description :] command to fully process/reduce a set of {\sc IRCAM3} images forming a
mosaic. stred takes the following steps in reducing image mosaics, i)
dark subtracts the images, ii) creates a median filtered flat-field from
the images (optional, user can use a separate sky flat-field), iii)
applies the flat-field to the dark subtracted images, iv) airmass
corrects the images to unit airmass (optional, user can switch airmass
correction on/off in stred itself), v) dc sky level offsets between
mosaic tiles are calculated using the obsrap action automos and applied
to the images - corrections are dc subtractions only, vi) the bad/hot
pixels are masked out using a bad pixel magic number (the value used in
IrcamDR is -1.0e-20), vii) the tiles are mosaiced together using the
rapi2d action quilt.  Bad/hot pixels masked out in v above are replaced
by good pixels from overlapping images.
\item[Note :] the output images from stred are scaled to unit exposure time.
\item[Usage :] reduces imaging mosaics completely.
\item[Associated commands :] stred
\item[Short version of command :] -
\item[Invocation :]

\verb+  stred<cr> +\end{description}

\hrule \subsection*{$\bullet$ strehl}
\begin{description}
\item[Description :] used to calculate strehl coefficients for stellar images.  used
mostly for images taken with the 2x or 5x magnifier in say, shift-and-add
mode of {\sc IRCAM3}.  strehl works on raw (ro) images (like those produced by
shift-and-add mode).  It takes as a parameter the observation number of
the image to be analysed (the UT date for the ro filename definition is
set in setfile or on IrcamDR sunup).  The strehl coefficient is dependent
on the filter and pixel scale used and actually refers to the closeness
to theoretical the peak signal to total signal in a stellar image comes.
a value is returned from strehl (the Strehl ratio) and this is a
fractional value referring to the observed to theoretical comparison.
\item[Usage :] determines strehl value of stellar imaging observation generally
using external magnifiers in shift-and-add mode.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  strehl<cr> +or \verb+ 
strehl 42<cr> +

\begin{itemize}

\item {\sl 42 } is the observation number of the raw (ro) image input
 into strehl for analysis
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ surround}
\begin{description}
\item[Description :] displays a border and tick marks/numbers around the image
currently displayed on the graphics device.  The tick marks are defined
using the command setps and setnum; setps defined the arcsecond/pixel
scale while setnum defines the tick mark start position along the image
axes and the interval between them.  The thickness of the image border
and tick marks are defined by the command line\_width.
\item[Usage :] plots axis annotation around current image as defined by setnum
command.
\item[Associated commands :] setps, setnum, line\_width
\item[Short version of command :] sur
\item[Invocation :]

\verb+  surround<cr> +\end{description}

\hrule \subsection*{$\bullet$ tickio}
\begin{description}
\item[Description :] defines whether tick marks produced by the command surround or
under contour or vector map plots (using commands contour and vec) are
plotted inside or outside the border around the image/plot.
\item[Usage :] defines tick mark position in surround axis annotation.
\item[Associated commands :] surround, setps, setnum, contour, vec
\item[Short version of command :] -
\item[Invocation :]

\verb+  tickio<cr> +or \verb+ 
tickio 1<cr> +

\begin{itemize}

\item {\sl 1 } means plot tick marks inside border box
\item {\sl 2 } would mean plot tick marks outside border box
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ ticklen}
\begin{description}
\item[Description :] defines whether small or large tick marks are plotted on
contour maps and annotation produced by the command surround.  The tick
marks are the fiducial marks along both x and y axes of the image (ra and
dec) and small tick marks are just of small length while large tick marks
form a complete grid across the image.  The width of the line used is set
with the command line\_width.  Tick marks are defined using the command
setnum.
\item[Usage :] defines tick mark length in surround image annotation.
\item[Associated commands :] setnum, line\_width, contour, surround, ticklen
\item[Short version of command :] -
\item[Invocation :]

\verb+  ticklen<cr> +or \verb+ 
ticklen 1<cr> +

\begin{itemize}

\item {\sl 1 } means plot small tick marks
\item {\sl 2 } 2 would mean plot full - grid - tick marks
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ tomag}
\begin{description}
\item[Description :] converts images in intensity (DN/second) to magnitudes per pixel
and per square arcsecond using input zeropoints.  user-specifies full
name of input image, and both output images.
\item[Usage :] useful when converting linear intensity images to magnitudes for
colour (e.g. J-K) calculations.  Images are best thresholded (thresh)
before conversion to eliminate low, noisy levels. 
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  tomag<cr> +\end{description}

\hrule \subsection*{$\bullet$ tslot}
\begin{description}
\item[Description :] thresholds and scales a series of images whose names are defined
by a prefix, a range of numbers and a suffix. See above for the
definition of the operation of the ``lot'' family of images.  The user has
the option to scale so that the intensity range becomes 0-255 or to a
user-defined range of values.  The images input first are analysed and
the median value in the images is subtracted off the images, Next, pixels
below zero are set to zero and then the new (modified) max,min range in
the data is scaled to be 0,255 or whatever the user has input).
The output images are of the same name as the input images but with the
letters 'ts' added to the names.
\item[Usage :] thresholds and scales a series of images.
\item[Associated commands :] histo, stats, csub, thresh, cdiv
\item[Short version of command :] -
\item[Invocation :]

\verb+ 
tslot<cr> +\end{description}

\hrule \subsection*{$\bullet$ vans}
\begin{description}
\item[Description :] plots an vector array image from shift-and-add data on the current
image display device.  Vector array images define the motion of the peak
pixel over the bid-area of the array during a shift-and-add exposure.
Vector array images are stored as i images (raw integrations) and hence,
vans plots the i images associated with the (ro) shift-and-add image on
the image display.  For example, the vector array images associated with
the raw observation image ro950412\_10 would be i950410\_10\_1v.
\item[Usage :] plots a vector array image from shift-and-add imaging.
\item[Associated commands :] strehl
\item[Short version of command :] -
\item[Invocation :]

\verb+  vans<cr> +or \verb+ 
vans 10<cr> +

\begin{itemize}

\item {\sl 10 } is the observation number of the vector array image
 to be displayed
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ vargrey}
\begin{description}
\item[Description :] Plots an image on the current graphics device using variable
index scaling.  Variable index scaling maps a percentage of the dynamic
range in the image onto a different percentage of the colour table range
available. This mean that one could get the bottom N% of the intensity
range in an image mapped onto the bottom M% of the colours; this for
example, will significantly enhance the visibility of the low level
features in the image.  a specific example of cvargrey plotting would be,
if you want to map the bottom 20% of the intensity range in an image onto
the bottom 80% of the colour indices (available pens) available.  Let us
assume that the range of signal in your image is 100 to 1000 counts and
the range of colour indices is 1 to 64 (i.e. the graphic display window
was created with 64 colour indices).  The bottom 20% of the intensity
range in the image would be 100-280 counts (min+0.2*(max-min)).  The
bottom 80% of the colour indices would be ~1-51 pens.  Hence, in a
cvargrey plot the range of colours covering pens 1 through 51 would
represent the intensity range 100-280 while the range of colours covering
pens 52-64 would represent the intensity range 282-1000.  Clearly this
will enhance the visibility of the low level features since more colours
(pens) will be used to show the low intensity levels. vargrey plots the
image with its centre located at the device coordinates input by the
user.  Generally this is the centre of the graphics display device.  The
variable index scaling parameters are set using the command setvargrey.
\item[Usage :] displays an image using vargrey scaling.
\item[Associated commands :] cvargrey, setvargrey, morevargrey, plot, cplot, 
nsigma, cnsigma, ranplot, cranplot, setmag, \ldots 
\item[Short version of command :] vg
\item[Invocation :]

\verb+  vargrey<cr> +or \verb+ 
vargrey 23<cr> +

\begin{itemize}

\item {\sl 23 } is the observation number of the image to be plotted
 using vargrey scaling
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ vec}
\begin{description}
\item[Description :] plots a polarization vector map from either images of percentage
polarization and position angle or Q and U Stokes parameters.  The setup
for the vector map plot is performed by the command setvec.  The
polarization images are formed from the four intensity waveplate position
images for single-beam (IRPOL1) data by polcal and for dual-beam data by
polcal2 (not yet written).  The thickness of the lines plotted by vec are
defined by the command line\_width.
\item[Usage :] plots a vector map of polarization data.
\item[Associated commands :] setvec, line\_width
\item[Short version of command :] -
\item[Invocation :]

\verb+  vec<cr> +\end{description}

\hrule \subsection*{$\bullet$ vec\_title}
\begin{description}
\item[Description :] defines the title string for the top line of a vec
polarization vector map plot.  The title string can be any text sting and
it can also be set in the command setvec.
\item[Usage :] defines title for vector plot using command vec.
\item[Associated commands :] setvec, vec
\item[Short version of command :] -
\item[Invocation :]

\verb+  vec_title<cr> +or \verb+ 
vec_title 'This is the title string'<cr> +
\end{description}

\hrule \subsection*{$\bullet$ wraplot}
\begin{description}
\item[Description :] corrects a series of images whose names are defined by a
prefix, a range of numbers and a suffix (see above for the definition of
the operation of the ``lot'' family of images) for 16-bit wrap-around.
wraplot adds a user-defined number to all pixel values in an image below
a user-defined intensity.  To correct for 16-bit wrap-around (whereby
image pixel data is stored as 16-bit numbers and values larger than
16-bits are made negative values) wraplot should add 65536 to all number
in an image less than 0 (i.e. all the negative numbers).
\item[Usage :] some optical CCD data images have this problem and have to be
corrected for 16-bit wrap-around.
\item[Associated commands :] -
\item[Short version of command :] -
\item[Invocation :]

\verb+  wraplot<cr> +\end{description}

\hrule \subsection*{$\bullet$ wrccom}
\begin{description}
\item[Description :] write a comment (text) string on the current graphics device.
The position of the string on the graphics screen is determined cursor
selection of the centre of the string.  wrccom allows you to specify not
only the string content but also the size of the characters, the
orientation of the comment string and the font used (font selection here
and under setfont doesn't seem to work under Unix ICL GKS graphics as it
did under VMS, this is under investigation).
\item[Usage :] writes comments (text) on current workstation/device using cursor
selection of centre of string.
\item[Associated commands :] wrcom
\item[Short version of command :] wrcc
\item[Invocation :]

\verb+  wrccom<cr> +\end{description}

\hrule \subsection*{$\bullet$ wrcom}
\begin{description}
\item[Description :] write a comment (text) string on the current graphics device. The
position of the string on the graphics screen is determined the pixel
coordinates for the centre of the string.  wrcom allows you to specify
not only the string content but also the size of the characters, the
orientation of the comment string and the font used (font selection here
and under setfont doesn't seem to work under Unix ICL GKS graphics as it
did under VMS, this is under investigation).
\item[Usage :] writes comments (text) on current workstation/device using pixel
coordinate selection of centre of string.
\item[Associated commands :] wrccom
\item[Short version of command :] wrc
\item[Invocation :]

\verb+  wrcom<cr> +\end{description}

\hrule \subsection*{$\bullet$ writelut}
\begin{description}
\item[Description :] write a colour table (lut) to the current graphics device. The
colour table (lut) is taken from the sequence col1 through col49 which
are located in the \$LIRCAMDIR IrcamDR directory.  Which colour table
(lut) to be displayed is determined by the number associated with the col
file e.g. 1 for col1, 19 for col19 etc (col19 is generally the most
useful colour table in the IrcamDR package).  The associated command
coltab writes a named colour table (lut) to the current graphics device.
\item[Usage :] writes one of col1-col49 colours tables (luts) to current
workstation/device using number along (1-49).
\item[Associated commands :] coltab
\item[Short version of command :] -
\item[Invocation :]

\verb+  writelut<cr> +or \verb+ 
writelut 19<cr> +

\begin{itemize}

\item {\sl 19 } refers to col19 which  is the colour table selected by
 the user
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ x2mag}
\begin{description}
\item[Description :] defined the arcsecond/pixel scale for IrcamDR when the 2x external
magnifier is installed on {\sc IRCAM3}.  The pixel scale defined is
0.143"/pixel which is half that of the default value 0.286"/pixel.  The
default pixel scale is selected using the command nomag.  The 5x
magnifier pixel scale is selected using the command x5mag.
\item[Usage :] defines pixel scale when using x2 external magnifier
(0.143"/pix).
\item[Associated commands :] nomag, x5mag
\item[Short version of command :] -
\item[Invocation :]

\verb+  x2mag<cr> +\end{description}

\hrule \subsection*{$\bullet$ x5mag}
\begin{description}
\item[Description :] defined the arcsecond/pixel scale for IrcamDR when the 5x external
magnifier is installed on {\sc IRCAM3}.  The pixel scale defined is
0.0572"/pixel which is one fifth that of the default value 0.286"/pixel.
The default pixel scale is selected using the command nomag.  The 2x
magnifier pixel scale is selected using the command x2mag.
\item[Usage :] defines pixel scale when using x5 external magnifier
(0.0571"/pix).
\item[Associated commands :] nomag, x2mag
\item[Short version of command :] -
\item[Invocation :]

\verb+  x5mag<cr> +\end{description}

\hrule \subsection*{$\bullet$ zaplot}
\begin{description}
\item[Description :] removes bad columns and rows from a series of images whose names
are defined by a prefix, a range of numbers and a suffix (see above for
the definition of the operation of the ``lot'' family of images).  The bad
columns and rows are defined by their column/row number and the number of
consecutive columns/rows to be replaced.  The bad columns/rows are
replaced by linear interpolation over then.  zaplot used the rapi2d
action zaplin to remove bad columns/rows.
\item[Usage :] removes bad columns/rows from a series of images.
\item[Associated commands :] zaplin
\item[Short version of command :] -
\item[Invocation :]

\verb+  zaplot<cr> +\end{description}

\subsection{IrcamDR a-task (rapi2d, obsrap, polrap) actions description}

Nb. see interface files rapi2d.ifl, obsrap.ifl and polrap.ifl for full
command line parameter usage/specification of all a-task monolith
actions.
\subsection*{}

\hrule \subsection*{$\bullet$ abcom}
\begin{description}

\item[Sescription :] combines two images, the first containing columns of data from
the odd channels of a two output array, the second containing column data
from the even channels of a two output array, into one image. Two output
arrays (like the SBRC 62x58 DRO devices) can have difference gains (and
different problems in the odd and even column channels and so the user
can use absep to separate the odd and even channels of the image/array,
work on then separately and then re-combine the odd and even channel
images into one image using abcom.
\item[Usage :] used to reconstruct an image from separate odd/even column images.
\item[Associated commands :] absep
\item[Invocation :]

\verb+  abcom<cr> +\end{description}

\hrule \subsection*{$\bullet$ absep}
\begin{description}
\item[Description :] separates an image into two images, the first will contain
columns of data from the odd channels of a two output array, the second
will contain column data from the even channels of a two output array.
Two output arrays (like the SBRC 62x58 DRO devices) can have difference
gains (and different problems in the odd and even column channels and so
the user can use absep to separate the odd and even channels of the
image/array, work on then separately and then re-combine the odd and even
channel images into one image using abcom.
\item[Usage :] separates odd/even column channels into two separate images.
\item[Associated commands :] abcom
\item[Invocation :]

\verb+  absep<cr> +\end{description}

\hrule \subsection*{$\bullet$ add}
\begin{description}
\item[Description :] adds to images together forming a new image with the result.
\item[Usage :] to add to images together.
\item[Associated commands :] sub, div, mult
\item[Invocation :]

\verb+  add<cr> +or \verb+ 
add im1 im2 im3<cr> +

\begin{itemize}

\item {\sl im1 } and {\sl im2 } are the input images to be added together
\item {\sl im3 } is the output image.
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ amcorr}
\begin{description}
\item[Description :] corrects an image intensity for the effect of atmospheric
extinction (airmass effect).  The correction is a multiplicative one and
corrects the intensity to unit airmass (i.e. the zenith).  The correction
applied takes the form of multiplying the pixel data by the result of the
equation 10**(airmass*extval/2.5) where airmass is the airmass of the
observation and extval is the extinction coefficient (in
magnitudes/airmass) for the filter used.
\item[Usage :] corrects images for atmospheric extinction (airmass effect).
\item[Associated commands :] amcorrlot
\item[Invocation :]

\verb+  amcorr<cr> +\end{description}

\hrule \subsection*{$\bullet$ annstats}
\begin{description}
\item[Description :] returns statistics in annuli of increasing diameter from a
user-defined centre position in an image.  Useful for annular stats on
say, an elliptical galaxy.  The width, eccentricity and position angle of
the annuli are also user-defined.  annstats returns the number of pixels,
the inner and outer radius, the mean and median signal, the sum and
max/min over the pixels, and the standard deviation of the pixels in the
annulus. An image is produced by annstats called annstats\_map.  This
contains a map of the annuli within which the statistics have been
calculated. Alternate annuli have values of 0 and 1 in annstats\_map. Also
output from annstats is a text (ascii) file containing the statistical
information calculated in the annuli considered.
\item[Usage :] useful for annular stats in extended objects e.g. elliptical
galaxies.
\item[Associated commands :] stats, cstats, aperadd
\item[Invocation :]

\verb+  annstats<cr> +\end{description}

\hrule \subsection*{$\bullet$ aperadd}
\begin{description}
\item[Description :] performs aperture statistics within the named image. The input
required is the name of the image to have statistics extracted from, the
x,y pixel number for the centre of the aperture to be used for statistics
calculation, the diameter of the circular statistics aperture (in
arcseconds) and the arcsecond/pixel scale within the named image. aperadd
only used pixels that lie completely within the circular bounds of the
user-defined aperture i.e. fractional pixels are not considered. The
output from aperadd is returned to the terminal and consists of: the
number of pixel in the aperture, the total intensity, the mean signal,
and the noise (standard deviation) before and after binning (by the
number of pixels in the aperture.  The noise after binning is just the
noise before binning (the standard deviation of all the pixels) divided
by the root of the number of pixels in the aperture.
\item[Usage :] useful for statistics within single circular aperture in an image.
\item[Associated commands :] aperphot, annstats, stats, cstats
\item[Invocation :]

\verb+  aperadd<cr> +\end{description}

\hrule \subsection*{$\bullet$ aperphot}
\begin{description}
\item[Description :] aperture photometry program.  aperphot takes a user-defined
aperture (location in image, size, shape) and optionally a concentric
annulus for sky, and returns photometric information from the image.  
aperphot input prompts are as in the example below:
\begin{verbatim}
 
IrcamDR > aperphot
INPIC - Image to be analysed /@JUNK/ > f39m40
Title = DISP:OBJECT-SKY
Image is 256 by 256 pixels
DATASOURCE - Source of input terminal=T or file=F /'T'/ > 
XCEN - X-centre of object aperture /128/ > 171
YCEN - Y-centre of object aperture /128/ > 52
ECC - Eccentricity of object aperture/sky annulus /0/ > <cr>
POSANG - Position angle of major axis wrt N (in degrees) /0/ > <cr>
SKYANNUL - Subtract sky in concentric annulus (Y/N) ? /YES/ > <cr>
MAJAX1 - Major axis of object aperture (in arcsec) /10/ > 5
MAJAX2 - Major axis of inner diameter of concentric sky aperture 
  (arcsec) /10/ > <cr>
MAJAX3 - Major axis of outer diameter of concentric sky aperture 
  (arcsec) /20/ > <cr>
SCALE - Pixel scale (arcsec/pixel) /1/ > .286
USEWHAT - Use MEDIAN or MEAN in sky calculation ? /'MEDIAN'/ > <cr>
USEBAD - Use bad pixel value in calculation (Y/N) ? /YES/ > <cr>
BADVAL - Bad pixel value ? /-9.9999997E-2/ > -1.0e-20

\end{verbatim}

Output from aperphot for terminal input mode (as above) is as follows:

\begin{verbatim}
STAR APERTURE
*************
Number of pixels in aperture         = 241/0
Total intensity in aperture          = 24795.99
Mean intensity over aperture         = 102.8879
Median intensity over aperture       = 51.99756
Standard deviation in aperture       = 142.035
 
SKY ANNULUS
***********
Number of GOOD/BAD pixels in annulus = 2868/0
Total intensity in annulus           = 57773.33
Mean intensity over annulus          = 20.14412
Median intensity over annulus        = 24.00037
Standard deviation over annulus      = 46.72461
 
Sky in object aperture (MEDIAN)      = 5784.088
 
Object-Sky value                     = 19011.9
 
Magnitude from absolute value        = -10.69756
 
AGAIN - Another aperture in same image (Y/N) ? /YES/ > n:
\end{verbatim}

In the example, input is given from the terminal.  Alternatively input
can be made to aperphot in batch mode from a text (ascii) file.  An
example of the format of the ascii file is as below:

\begin{verbatim}
* test file for aperphot file input
* a starred line is a comment line anywhere in the file
128 156 0.2 45.0 1 10.0 15.0 20.0 0.286 1 1 -1.0e-20
* another comment line...
197 51 0.11 37.0 1 5.0 12.0 18.0 0.286 0 0 -1.0e-20
\end{verbatim}

where, for the first numeric input line, 128 156 are the x,y pixel
location of the centre of the aperture/annulus, 0.2 45 are the
aperture/annulus eccentricity and position angle (e of n), 1 means
subtract sky from a concentric sky annulus (0 would mean do not subtract
sky) 10 15 20 are the star aperture diameter, and the inner and outer sky
annulus diameters (arcseconds), 0.286 is the pixel scale in arcsec/pixel,
1 means use the median in the sky annulus for sky subtraction (0 would
mean use the mean value instead), 1 means do not use pixels with a magic
(bad) value (0 would mean consider all pixels regardless of value), and
-1.0e-20 is the magic (bad) pixel value to be used.

aperphot can write output (in file mode) to the terminal, a text (ascii)
file or both.  The output file for the above input test file is as below:
\begin{verbatim}
X  Y  E  POS  D1  D2  D3  N1  BN1  N2  BN2  TOT1  TOT2  TOT3  MAG
* test file for aperphot file input
* a starred line is a comment line anywhere in the file
128.0 156.0 0.20 45.0 10.0 15.0 20.0 941 0 1656 0 25095 24991  104 -5.042
* another comment line...
197.0  51.0 0.11 37.0  5.0 12.0 18.0 241 0 1736 0  8803 10423 1620 -8.024
\end{verbatim}
The output file from aperphot is named by adding a letter 'a' to the
prefix of the input filename viz:] if the input text file was called
ngc2071.inp then the output file would be called ngc2071a.inp.  The
output file contains the same comment lines as the input file.  The first
line of the output file contains what the various output columns mean
viz

\item[Usage :] useful for aperture photometry in images especially in batch
mode.
\item[Associated commands :] aperadd
\item[Invocation :]

\verb+  aperphot<cr> +\end{description}

\hrule \subsection*{$\bullet$ aperpol}
\begin{description}
\item[Description :] aperture polarimetry program similar to aperphot.  Takes four
images as input, one at each of the four half-waveplate positions
required for polarimetry observations i.e. 0, 45, 22.5 and 67.5 degrees
from datum.  The aperture/sky annulus input is as in aperphot.
Additional input required is the position angle correction factor for
transformation from instrumental to equatorial coordinate systems, and
the electrons/DN in the image.  aperpol works in both interactive
terminal mode and in batch mode.  The batch file text file has the extra
parameter included, an example of which is:

\begin{verbatim}
* test file for aperpol file input
* a starred line is a comment line anywhere in the file
128 156 0.2 45.0 1 10.0 15.0 0.286 1 1 -1.0e-20 27.2 6.0
* another comment line...
197 51 0.11 37.0 1 5.0 12.0 0.286 0 0 -1.0e-20 27.2 6.0
\end{verbatim}

The additional parameters are 27.2 an example of the coordinate system
transformation for the position angle, and 6.0 the electrons/DN in the
image.  Note that aperpol only has two aperture/annulus input parameters,
the diameter of the star aperture and the outer diameter of the
concentric sky annulus.

The output text file from aperpol is very similar to the one from
aperphot but contains the polarization values instead of the photometric
values. 

Note : the polarization error calculated in aperpol is incorrect if your
images have more than 1 coadded exposure.  The input electrons/DN
converts the photon shot-noise on the signal in the aperture to an
associated error but this is only value (for {\sc IRCAM3}) is you have 1 coadd
since more than one coadd would give lower shot-noise even though the
counts in the image are the same ({\sc IRCAM3} averages coadds unlike {\sc IRCAM1/2}
which added the coadd images together).  To get the correct photon
shot-noise for the polarization calculated you must divide the
electrons/DN value input by the root of the number of coadds.  Also, if
you have averages several separate images to get a final set of four
waveplate position images you must also scale the electrons/DN value by
the root of the number of images averaged to make the final set of
images.

\item[Usage :] aperture polarimetry on point-sources
\item[Associated commands :] polly, polly2, polcal, polcal2
\item[Invocation :]

\verb+  aperpol<cr> +\end{description}

\hrule \subsection*{$\bullet$ applymask}
\begin{description}
\item[Description :] applies a bad pixel mask (image with 0's for good pixels and
1's for bad pixels) to an image.  In applymask, the word 'apply' means that
all identified bad pixels in the bad pixel mask are set to a magic number
(-1.0e-20 in IrcamDR).  The output is an image with these bad pixels set
to the magic number.
\item[Usage :] identifies bad/hot pixels in an image for subsequent mosaic
removal by replacement.
\item[Associated commands :] mosaic, quilt, makemask
\item[Invocation :]

\verb+  applymask<cr> +\end{description}

\hrule \subsection*{$\bullet$ asciilist}
\begin{description}
\item[Description :] creates a text (ascii) file containing the pixel values of
all pixels in the input image.  There are two possible formats for the
output ascii file, the first has as the first line the number of pixels
in x and y in the image and then on subsequent lines has a list of pixel
values starting from pixel 1,1 (bottom-left corner) and incrementing
fastest in x.  The second format has three columns of numbers, column one
is the x pixel location of the pixel, column two is the y pixel location
of the pixel and column three is the pixel value itself.  The output
ascii file is named by the user.
\item[Usage :] can be used for data conversion between different formats
\item[Associated commands :] -
\item[Invocation :]

\verb+  asciilist<cr> +\end{description}

\hrule \subsection*{$\bullet$ automos}
\begin{description}
\item[Description :] program to automatically correct dc level offsets (sky changes)
between a set of images in a mosaic.  automos takes as input i) a list of
images, one per line, in a text (ascii) file, ii) a list of telescope
spatial offsets (in arcseconds), again, one per line in a text (ascii)
file.  Also required as input are the pixel scale (arcseconds/pixel),
whether to use the median, mean or mode as the value considered in
overlap regions, and the number of iterations to use in calculating the
correction values for each image (to obtain a ``flat'' sky).  automos first
works out the chosen value (median, mean, mode) in each overlap region
(the overlap regions are defined by the spatial offsets and image sizes)
and then works out the optimum correction for each overlap region. It
then applies a fraction of that correction to each image overlap value
(median, mean, mode) and repeats the process until the specified number
of iterations has been reached.  The user has the option to apply the
final corrections values to the input images creating new output images
with the same name as the input images but with the letter ``z'' added the
the names.
\item[Usage :] used to correct mosaic images for dc sky level changes between
tiles.
\item[Associated commands :] -
\item[Invocation :]

\verb+  automos<cr> +\end{description}

\hrule \subsection*{$\bullet$ binup}
\begin{description}
\item[Description :] bins an input image by a user-specified factor in x and y.  The
user-specified factor can be different in x and y.  Binning means that
pixels are averaged (hence reducing the spatial resolution but increasing
the signal:noise) and the output image is smaller in extent by the
binning factors.  Two output images are created by binup, the first is
the binned output image of lower spatial resolution, the second is an
image of the standard deviations over the binned region.  This is useful
to give an idea of the scatter of values over an image.  
\item[Usage :] used to increase s
\item[Associated commands :] compave, compadd, manic, sqorst
\item[Invocation :]

\verb+  binup<cr> +\end{description}

\hrule \subsection*{$\bullet$ block}
\begin{description}
\item[Description :] block applies a block smooth to an image.  Pixels in the output
image are therefore less noisy than in the input image.  The input
parameter to block is the pixel size of the block smooth applied.  The
larger the pixel size the more severe the smoothing.
\item[Usage :] smooths an image
\item[Associated commands :] gauss
\item[Invocation :]

\verb+  block<cr> +\end{description}

\hrule \subsection*{$\bullet$ cadd}
\begin{description}
\item[Description :] adds a user-defined constant to every pixel in an image.  
\item[Usage :] can be used to correct dc level of image for sky subtraction
\item[Associated commands :] cmult, cdiv, csub
\item[Invocation :]

\verb+  cadd   <cr> +\end{description}

\hrule \subsection*{$\bullet$ calcol}
\begin{description}
\item[Description :] used to calculate a colour (e.g. J-K, H-K etc) image from two
magnitude images (e.g. a J magnitude/sq arcsec image and a K magnitude/sq
arcsec image).  calcol takes a threshold value and only considers pixels
in each image which have magnitude values brighter than the threshold in
both.  This helps eliminates noise due to poor signal:noise region being
considered.  Filter specific magnitude images can be created using the
IrcamDR command tomag which converts intensity images to magnitude images
using an input zeropoint.  For calcol to work correctly, the two filter
images need to be shifted to a common centre (using say, the IrcamDR
command shift2) before running calcol.
\item[Usage :] creates a colour image from two magnitude images.
\item[Associated commands :] tomag, shift2
\item[Invocation :]

\verb+  calcol<cr> +\end{description}

\hrule \subsection*{$\bullet$ cdiv}
\begin{description}
\item[Description :] divides all pixels in an input image by a constant value. 
\item[Usage :] scales an image by division.
\item[Associated commands :] cadd, cmult, csub
\item[Invocation :]

\verb+  cdiv<cr> +\end{description}

\hrule \subsection*{$\bullet$ centroid}
\begin{description}
\item[Description :] centroid calculates an accurate centroid position of a stellar
source or stellar-like feature in an image.  It takes as input a guess of
the position of the object and then calculates the accurate position.
\item[Usage :] useful in determining spatial offsets between images in a mosaic.
\item[Associated commands :] cent1, cent2
\item[Invocation :]

\verb+  centroid<cr> +\end{description}

\hrule \subsection*{$\bullet$ chpix}
\begin{description}
\item[Description :] chpix changes the value of a user-defined pixel or pixels within
an image.  The pixel is defined by its x and y pixel coordinates (1,1 is
the bottom-left corner of the image).  The new value for the pixel is
defined by the user also.
\item[Usage :] changing the counts in a bad/hot pixel.
\item[Associated commands :] zaplin, glitchmark, glitch
\item[Invocation :]

\verb+  chpix<cr> +\end{description}

\hrule \subsection*{$\bullet$ cmult}
\begin{description}
\item[Description :] multiplies every pixel in an image by a constant value.  
\item[Usage :] scaling images.
\item[Associated commands :] cadd, cdiv, csub
\item[Invocation :]

\verb+  cmult<cr> +\end{description}

\hrule \subsection*{$\bullet$ colcycle}
\begin{description}
\item[Description :] colcycle creates a colour table (lut) which contains another
pre-defined colour table (lut) n time where n is defined by the user.
Thus, a colour table that goes from black to white cycled 3 times would
go from black to white then black to white then black to white.  The
input colour table is defined by the user (IrcamDR colour tables are in
the directory \$LIRCAMDIR).  The output colour table is named by the user.
IrcamDR colour tables are NDF images with dimensions 3,256 the 3 refers
to RGB colour intensities.  The range of values for each colour (pen) is
0-1.  IrcamDR colour tables are the same format as figaro luts and are
interchangeable.
\item[Usage :] stretches display of an image by displaying multiple colour
tables.
\item[Associated commands :] coltab, writelut, crecolt
\item[Invocation :]

\verb+  colcycle<cr> +\end{description}

\hrule \subsection*{$\bullet$ colmed}
\begin{description}
\item[Description :] colmed median filters down the columns of an image and produces
a Nx1 output image (where N is the original x dimension of the input
image) with containing the median values for each column.  The user can
define an exclusion region (a range of rows) which is not included in the
median calculation, hence, if there is a bright object near the centre of
the array, that region can be excluded.
\item[Usage :] can be useful for removing residual background structure in an
image.  Use colmed to define the column structure via the median value in
the column then ygrow to grow the Nx1 image to NxM where N and M are the
original x and y dimensions of the input image.  The result can be
subtracted from the original image using the command sub.
\item[Associated commands :] ygrow, sub, rowmed, xgrow
\item[Invocation :]

\verb+  colmed<cr> +or \verb+ 
colmed image1 out1 y 50 150<cr> +

\begin{itemize}

\item {\sl image1 } is the input NxM image
\item {\sl out1 } is the output Nx1 image containing the medians
\item {\sl y } means use an exclusion region (n would mean no exclusion
 region)
\item {\sl 50 150 } are the range of rows in each column to be excluded
 from the median calculation
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ compadd}
\begin{description}
\item[Description :] reduces the x,y dimensions of an image by an integer amount
using pixel addition to form new (larger) pixels.  The scaling factor
used is input by the user and is the same for both x and y.
\item[Usage :] used to increase s:n in an image by reducing spatial resolution
\item[Associated commands :] compave, compick, compress, binup, manic, sqorst
\item[Invocation :]

\verb+  compadd<cr> +\end{description}

\hrule \subsection*{$\bullet$ compave}
\begin{description}
\item[Description :] reduces the x,y dimensions of an image by an integer amount
using pixel averaging to form new (larger) pixels.  The scaling factor
used is input by the user and is the same for both x and y.
\item[Usage :] used to increase s:n in an image by reducing spatial resolution
\item[Associated commands :] compadd, compick, compress, binup, manic, sqorst
\item[Invocation :]

\verb+  compave<cr> +\end{description}

\hrule \subsection*{$\bullet$ compick}
\begin{description}
\item[Description :] reduces the x,y dimensions of an image by an integer amount
using pixel selection to form new (larger) pixels.  The scaling factor
used is input by the user and is the same for both x and y.  By pixel
selection, we mean that say, every second or third pixel is put in the
output image rather than those pixels being summed or averaged.
\item[Usage :] used to decrease size of image but retains original s:n
\item[Associated commands :] compadd, compave, compress, binup, manic, sqorst
\item[Invocation :]

\verb+  compick<cr> +\end{description}

\hrule \subsection*{$\bullet$ compress}
\begin{description}
\item[Description :] reduces the x,y dimensions of an image by an integer amount
using pixel averaging to form new (larger) pixels.  The scaling factor
used is input by the user and is the same for both x and y.
\item[Usage :] used to decrease size of image and improve s:n by degrading
spatial resolution
\item[Associated commands :] compadd, compave, compick, binup, manic, sqorst
\item[Invocation :]

\verb+  compress<cr> +\end{description}

\hrule \subsection*{$\bullet$ crecolt}
\begin{description}
\item[Description :] creates an IrcamDR/figaro type colour table (lut) by selecting
colours (from standard colour list) and pens (between 1-250).  The output
colour table image (ndf) is named by the user.  The IrcamDR released
colour tables (col1-49) were all created with crecolt.  Colour tables
created with crecolt can also be used in the latest figaro (ndf)
application called colour.
\item[Usage :] creates user-specific colour tables (luts)
\item[Associated commands :] -
\item[Invocation :]

\verb+  crecolt<cr> +\end{description}

\hrule \subsection*{$\bullet$ creframe}
\begin{description}
\item[Description :] used to create a test image with either gaussian distribution
of stars, random numbers (0-1 or min-max), noise with user-specified
sigma and mean, poissionian noise about mean, ramps (left to right, right
to left, top to bottom or bottom to top) with user-defined range, flat
(constant value) or blank, images.  Useful to test software or simulate
real data.
\item[Usage :] useful to create images for testing software or simulating data
\item[Associated commands :] -
\item[Invocation :]

\verb+  creframe<cr> +\end{description}

\hrule \subsection*{$\bullet$ crequilt}
\begin{description}
\item[Description :] creates an ascii (text) file in the correct format for input
into the mosaic assembly IrcamDR program quilt.  crequilt takes as input
an ascii (text) file with a list of N image names, an ascii (text) file
with a list of N spatial offsets (as used to take the data i.e. fed to
the telescope - first line should be 0 0 e.g. the original of the mosaic
with subsequent offsets relative to that), the pixel scale used, and a
title string for the quilt file.  The name of the output quilt format
file is also specified by the user.
\item[Usage :] creates quilt format mosaic files from image list file and
telescope offset list file
\item[Associated commands :] quilt
\item[Invocation :]

\verb+  crequilt<cr> +\end{description}

\hrule \subsection*{$\bullet$ csfit}
\begin{description}
\item[Description :] fits a centro-symmetric polarization pattern to a polarization
map image pair (percentage polarization, polarization position angle) as
created by the IrcamDR programs polcal and polcal2.  The fitting allows
the user to define a region of the input images to be scanned pixel by
pixel for the centre of the centro-symmetric polarization pattern and
also the minimum percentage polarization level to be considered in the
fit (values of p below that specified level are not considered since they
likely to too small a s:n).  The sum of the squares of the residuals are
calculated over the map for each location of the centre point of the
pattern and the one with the best-fit (smallest residuals) is considered
the best-fit centro-symmetric pattern.  The polarization position angle
image will have to have the position angles transformed to be on the
equatorial coordinate system prior to input into csfit.  This can be
achieved using the command cadd and thetafix.  
\item[In the IrcamDR software, the percentage polarization image has values
between 0 and 100% and the polarization position angle image has values
between 0 and 180 degrees.:]
\item[Usage :] statistically determines the source of the radiation in a
polarization map
\item[Associated commands :] polcal, polcal2, csgen
\item[Invocation :]

\verb+  csfit<cr> +\end{description}

\hrule \subsection*{$\bullet$ csgen}
\begin{description}
\item[Description :] generates a centro-symmetric polarization position angle image
with a user-defined centre (pixel).  The output is a polarization
position angle image with values of theta in the equatorial coordinate
system, between 0 and 180 degrees.
\item[In the IrcamDR software, the percentage polarization image has values
between 0 and 100% and the polarization position angle image has values
between 0 and 180 degrees.:]
\item[Usage :] useful to compare observations with theoretical results
\item[Associated commands :] csfit, polcal, polcal2, thetafix
\item[Invocation :]

\verb+  csgen<cr> +\end{description}

\hrule \subsection*{$\bullet$ csub}
\begin{description}
\item[Description :] subtracts a constant from each pixel in an image.  The result of
the subtraction is stored in the output image.
\item[Usage :] sky subtraction, dc-level correction etc.
\item[Associated commands :] cadd, cmult, cdiv
\item[Invocation :]

\verb+  csub<cr> +\end{description}

\hrule \subsection*{$\bullet$ defgrad}
\begin{description}
\item[Description :] analyses an input image and defines an output image containing
a gradient defined from the first and last N columns or rows of the input
image.  The median value of the pixels in each column or row in the
defined range of columns or rows is taken at both the top and bottom (for
columns) or right and left (for rows) and the values of all pixels along
columns or rows are set by linear interpolation between these end values.
The output image can be subtracted form the input image to remove any
background gradients in the input image.
\item[Usage :] removes background gradients along columns or rows in an image
\item[Associated commands :] colmed, rowmed
\item[Invocation :]

\verb+  defgrad<cr> +\end{description}

\hrule \subsection*{$\bullet$ devfcs}
\begin{description}
\item[Description :] devfcs calculates the deviation of a pixel in an polarization
position angle image (calculated using polcal or polcal2) from
centro-symmetry with the centre of the centro-symmetric pattern generated
defined by the user.  Hence, once the centre of a pattern is known (in
terms of the pixel position in an image) using, say, the command csfit,
the deviation of a position angle from centro-symmetry at any other pixel
position in the image can be calculated using that information and the
pixel position to be studied.
\item[Usage :] tells user deviation from centro-symmetry of pixels in a
polarization map
\item[Associated commands :] csfit, csgen
\item[Invocation :]

\verb+  devfcs<cr> +\end{description}

\hrule \subsection*{$\bullet$ dist}
\begin{description}
\item[Description :] given two pixels in an image and the pixel scale, dist calculates
the offsets between in arcseconds and also the ra,dec of the second
position given the ra,dec of the first.  Some doubt that dist actually
works correctly for all position angles of the two pixel positions in
terms of ra,dec (you need to check it yourself).
\item[Usage :] calculate offset and position (ra,dec) of second point in image
given position (ra,dec) of first point
\item[Associated commands :] cent2
\item[Invocation :]

\verb+  dist<cr> +\end{description}

\hrule \subsection*{$\bullet$ div}
\begin{description}
\item[Description :] Divides an image by another image pixel by pixel.  The two images
are named by the user and the output is also named by the user.
\item[Usage :] manual flat-fielding for example.
\item[Associated commands :] add, mult, sub
\item[Invocation :]

\verb+  div<cr> +\end{description}

\hrule \subsection*{$\bullet$ exp10}
\begin{description}
\item[Description :] take every pixel in an image as the exponent x in the calculation
10**x.  The output image represents the result of the calculation.
\item[Usage :] -
\item[Associated commands :] expe, expon
\item[Invocation :]

\verb+  exp10<cr> +\end{description}

\hrule \subsection*{$\bullet$ expe}
\begin{description}
\item[Description :] take every pixel in an image as the exponent x in the calculation
e**x.  The output image represents the result of the calculation.
\item[Usage :] -
\item[Associated commands :] exp10, expon
\item[Invocation :]

\verb+  expe<cr> +\end{description}

\hrule \subsection*{$\bullet$ expon}
\begin{description}
\item[Description :] take every pixel in an image as the exponent x in the calculation
y**x where y is input by the user. The output image represents the result
of the calculation.
\item[Usage :] -
\item[Associated commands :] exp10, expe
\item[Invocation :]

\verb+  expon<cr> +\end{description}

\hrule \subsection*{$\bullet$ fcoadd}
\begin{description}
\item[Description :] coadds (sums and averages) a sequence of ndf images.  The
sequence can be defined as a filename prefix, range of numbers and
filename suffix, or a list of named images.  The result is therefore the
average of the set of images input and is named by the user.
\item[Usage :] summing/averaging a set of images to increase s
\item[Associated commands :] add
\item[Invocation :]

\verb+  fcoadd<cr> +\end{description}

\hrule \subsection*{$\bullet$ findpeak}
\begin{description}
\item[Description :] finds the peak signal/flux in a user-defined sub-area if an
image, The sub-area is defined by its start x,y pixel coordinates and the
x,y box size (in pixels).  The peak value and location of the peak value
is returned to the user.
\item[Usage :] finding stars, for example.
\item[Associated commands :] cstats
\item[Invocation :]

\verb+  findpeak<cr> +\end{description}

\hrule \subsection*{$\bullet$ flip}
\begin{description}
\item[Description :] flip flips an image either horizontally (H) or vertically (V). An
horizontal flip flips around a vertical axis through the centre of the
image.  A vertical flip flips an image through a horizontal axis through
the centre of the image.  The output image is named by the user.
\item[Usage :] putting n to the top and e to the left in some images
\item[Associated commands :] -
\item[Invocation :]

\verb+  flip<cr> +or \verb+ 
flip im1 h out1<cr> +

\begin{itemize}

\item {\sl im1 } is the input image
\item {\sl h } is a horizontal flip (v would be a vertical flip)
\item {\sl out1 } is the output image
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ gauss}
\begin{description}
\item[Description :] smooths an image using a gaussian filter.  The sigma of the
gaussian used is defined by the user (in terms of pixels).  The area that
the gaussian works over (the area around each pixel considered) is also
input by the user.
\item[Usage :] smoothing images, increasing s
\item[Associated commands :] block
\item[Invocation :]

\verb+  gauss<cr> +or \verb+ 
gauss im1 1.5 7 out1<cr> +

\begin{itemize}

\item {\sl im1 } is the input image to be smoothed
\item {\sl 1.5 } is the sigma of the gaussian applied
\item {\sl 7 } is thearea around each pixels gaussian considers
\item {\sl out1 } is the output smoothed image
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ gaussth}
\begin{description}
\item[Description :] as gauss but only smooths pixels that have a signal smaller
than a user-specified value.  This allows users to smooth low signal (low
surface brightness) areas and not smooth bright objects/regions.
\item[Usage :] smooth faint features, not brighter object
\item[Associated commands :] gauss
\item[Invocation :]

\verb+  gaussth<cr> +or \verb+ 
gaussth im1 1.5 7 8000 out1<cr> +

\begin{itemize}

\item {\sl im1 } is the input image to be smoothed
\item {\sl 1.5 } is the sigma of the gaussian applied
\item {\sl 7 } is the area around each pixels gaussian considers
\item {\sl 8000 } is the threshold below which pixels are smoothed
\item {\sl out1 } is the output smoothed image
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ glitch}
\begin{description}
\item[Description :] removes bad/hot pixels or changes the value of any other pixel
in a user named image.  glitch has three modes of determining the pixel
values to be modified, first they can be listed in an ascii (text) file
with the pixel coordinates one per line with each line containing x y
pixel coordinates (e.g. 10 20 for pixel 10,20), second they can be input
from the terminal by the user one by one, and third glitch will perform
an auto-search and consider any pixel with a user-specified value (a
magic number say) as bad.  The default IrcamDR magic number value is
-1.0e-20.  Auto-search is useful for removing the fixed bad pixels after
the bad pixel mask has been applied using the IrcamDR command applymask.
glitch removes bad/hot pixels by replacement of them by the median value
of the 8 surrounding pixels.  The modified image is written to a user
named output image.
\item[Usage :] removing bad/hot pixels or fudging data
\item[Associated commands :] glitchmark, applymask
\item[Invocation :]

\verb+  glitch<cr> +\end{description}

\hrule \subsection*{$\bullet$ histeq}
\begin{description}
\item[Description :] performs an histogram equalization of an image and writes the
output to a new image.  An histogram equalization is a technique for
enhancing faint features in an image, for example.  A histogram of the
equalized image will have the same number of pixels in each intensity
range whereas in the input image the originally measured intensity
structure will be present.
\item[Usage :] enhancement of faint features wrt bright features
\item[Associated commands :] -
\item[Invocation :]

\verb+  histeq<cr> +\end{description}

\hrule \subsection*{$\bullet$ histgen}
\begin{description}
\item[Description :] generates a histogram of an image using user-defined number of
bins and max,min range.  The output is an image of dimensions Nx2 where N
is the number of bins specified.  The row of numbers are the number of
pixels in the bin while the second row of numbers are the bin centre
intensities.  The image can be converted to ascii (text) using the
command asciilist.
\item[Usage :] produces histogram of an image
\item[Associated commands :] asciilist
\item[Invocation :]

\verb+  histgen<cr> +\end{description}

\hrule \subsection*{$\bullet$ histo}
\begin{description}
\item[Description :] returns statistics on any image or sub-area of any image.  The
statistics include the max,min value and the location of the max,min
values in the image together with the mean, median and mode of the pixels
in the image.
\item[Usage :] statistics
\item[Associated commands :] stats, cstats
\item[Invocation :]

\verb+  histo<cr> +or \verb+ 
histo im1 10 20 30 40<cr> +

\begin{itemize}

\item {\sl im1 } is the image for statistical analysis
\item {\sl 10 20 } are the start x,y coordinates of the sub-area
\item {\sl 20 30 } are the x,y size of the sub-area
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ hotshot}
\begin{description}
\item[Description :] automatic search and removal of bad/hot pixels using a sigma
cut method.  hotshot take in a user-defined image and several other
parameters defining the search sensitivity.  The first two parameters are
the x and y box size for the search, usually 3x3 is what is required.
This is the size of the sub-area of the array considered around the
current pixel when forming the standard deviation for the identification
of bad/hot pixels.  The next parameter is the sigma-level of the search.
The default value is 3.  This parameter means that bad/hot pixels are
identified when their intensity is more than 3-sigma (assuming the
default is taken) from the mean of the surrounding N pixels where N is
defined by the x,y box size (N=8 for a 3x3, the pixel under consideration
is not considered in the mean std calculation).  The next parameter is a
threshold intensity value so that only pixels with values less than the
input threshold are considered at even possibly bad/hot.  This parameter
helps keep star peaks from being removed by hotshot in the auto-search.
The final parameter defines whether to replace a bad/hot pixel by the
mean or median of the pixels in the x,y search box.  Once the parameters
of the search are defined, hotshot scans the image and determines how
many pixels satisfy the badness criteria.  This number is relayed to the
user.  Next, hotshot removes those pixels and re-scans the resulting
image for additional bad/hot pixels.  This iterative search stops when
either i) the number of bad/hot pixels is less than 10% of the original
number of bad/hot pixels, ii) when the number of bad pixels increases
between iterations rather than decreases, or iii) the number of bad/hot
pixels in the first scan of the image is zero.

It is useful to subtract the result of hotshot from the input image to
hotshot since this gives you a map of the bad/hot pixels removed.

\item[Usage :] removes isolated bad/hot pixels or cosmic ray events, for
example.
\item[Associated commands :] glitch, glitchmark
\item[Invocation :]

\verb+  hotshot<cr> +\end{description}

\hrule \subsection*{$\bullet$ imcomb}
\begin{description}
\item[Description :] imcomb takes two images are input (images must be same
dimensions) and creates an output image which has a user-defined bad
sub-area of the first image replaced with the same sub-area from the
second image.  This allows users to replace a bad regions of one image
with a good region of another image and create a new output image with
the result.  imcomb scales by addition, the region of the second image to
be transplanted into the first image where the sum added is determined by
the median of the pixels surrounding the region to be implanted.
\item[Usage :] puts one image inside another.
\item[Associated commands :] -
\item[Invocation :]

\verb+  imcomb<cr> +\end{description}

\hrule \subsection*{$\bullet$ index}
\begin{description}
\item[Description :] index produces an ascii (text) of observational parameters for
the old style {\sc IRCAM1/2} ircam container files.  The output ascii file is
named by the user.
\item[Usage :] produces an index listing of old ircam container file
observations.
\item[Associated commands :] -
\item[Invocation :]

\verb+  index<cr> +\end{description}

\hrule \subsection*{$\bullet$ insetb}
\begin{description}
\item[Description :] insetb sets the pixel values with a user-defined sub-area of an
image to a user-defined value.  The sub-area within which to set the
values is defined by its x,y start pixel coordinates and the x,y box size
in pixels.  The output image has the sub-area values set to the value
chosen by the user.  
\item[Usage :] can set a region (box) of an image to a magic number
\item[Associated commands :] insetc, outsetb, outsetc
\item[Invocation :]

\verb+  insetb<cr> +\end{description}

\hrule \subsection*{$\bullet$ insetc}
\begin{description}
\item[Description :] insetc sets the pixel values with a user-defined circular area
of an image to a user-defined value.  The circle within which to set the
values is defined by its x,y pixel coordinates and a radius in pixels.
The output image has the sub-area values set to the value chosen by the
user.
\item[Usage :] can set a region (circle) of an image to a magic number
\item[Associated commands :] insetb, outsetb, outsetc
\item[Invocation :]

\verb+  insetc<cr> +\end{description}

\hrule \subsection*{$\bullet$ intlk}
\begin{description}
\item[Description :] prints an integer representation of any sub-area of any image to
the terminal.  Useful to inspect regions of images. 
\item[Usage :] identification of bad pixels or star positions?
\item[Associated commands :] look
\item[Invocation :]

\verb+  intlk<cr> +\end{description}

\hrule \subsection*{$\bullet$ jsdclean}
\begin{description}
\item[Description :] under development.  Will eventually deconvolve psf from images
using modified clean algorithm developed from James Dunlop (JSD) of ROE.
\item[Usage :] removal of psf from images for enhanced spatial resolution.
\item[Associated commands :] 
\item[Invocation :]
\end{description}

\hrule \subsection*{$\bullet$ laplace}
\begin{description}
\item[Description :] applies a laplacian convolution as an edge detector to an This
routine works out the Laplacian of an input image and subtracts it from
the original image to create a new output image. This can be done an
integer number of times, as given by an input parameter. This operation
can be thought of as a convolution by

\begin{verbatim}
                          -N   -N   -N
                          -N   +8N  -N
                          -N   -N   -N
\end{verbatim}

where N is the integer number of times the Laplacian is subtracted. This
convolution is used as a unidirectional edge detector. Areas where the
input image is flat come out as zero in the output.
\item[Usage :] edge detection
\item[Associated commands :] -
\item[Invocation :]

\verb+  laplace<cr> +\end{description}

\hrule \subsection*{$\bullet$ lincont}
\begin{description}
\item[Description :] applies a linearization algorithm to the images in an old
{\sc IRCAM1/2} format container file.  The linearization itself is the
application of a 5th order polynomial to make the signal vs. integration
time curve linear.  The process reads linearization coefficients from a
ascii (text) file, by default called lincoeff.list.  The linearization of
{\sc IRCAM1/2}3 data changes in July 1988 and so different linearization
coefficients are used for data before and after that time.  The ascii
files in the \$LIRCAMDIR directory called lincoeff\_fpa118\_prejul88.list,
lincoeff\_fpa118\_prejul88\_ndr.list, lincoeff\_fpa118\_postjul88.list,
lincoeff\_fpa118\_postjul88\_ndr.list, lincoeff\_fpa175.list, and
lincoeff\_fpa175\_ndr.list should be used depending on the time of
observations, the array in use, and whether ndr readout was being used.
All this info in in the header of the ircam container file and can be
accessed using the index command. An example of the format of a
linearization coefficient file is:

\begin{verbatim}
Title - IRCAM linearization coefficients - FPA175 - Post 01-Jun-1989 NDR
-1.985e-6
0.0
0.0
25000.0
50000.0
\end{verbatim}

\item[Usage :] linearizes image in an old {\sc IRCAM1/2} format container file.
\item[Associated commands :] linimag\_ndr
\item[Invocation :]

\verb+  lincont<cr> +\end{description}

\hrule \subsection*{$\bullet$ linimag}
\begin{description}
\item[Description :] linearizes individual images from an old {\sc IRCAM1/2} style
container file.  Linearization is as in lincont command above.
\item[Usage :] linearization of {\sc IRCAM1/2} data images
\item[Associated commands :] lincont
\item[Invocation :]

\verb+  linimag\_ndr<cr> +\end{description}

\hrule \subsection*{$\bullet$ log10}
\begin{description}
\item[Description :] takes the log to the base 10 of all the pixels in an image and
writes the result to an output image named by the user.
\item[Usage :] intensity-magnitude conversion
\item[Associated commands :] loge, logar
\item[Invocation :]

\verb+  log10<cr> +\end{description}

\hrule \subsection*{$\bullet$ logar}
\begin{description}
\item[Description :] takes the log to a user-defined base of all the pixels in an
image and writes the result to an output image named by the user.
\item[Usage :] -
\item[Associated commands :] loge, log10
\item[Invocation :]

\verb+  logar<cr> +\end{description}

\hrule \subsection*{$\bullet$ loge}
\begin{description}
\item[Description :] takes the log to the base e of all the pixels in an image and
writes the result to an output image named by the user.
\item[Usage :] -
\item[Associated commands :] logar, log10
\item[Invocation :]

\verb+  loge<cr> +\end{description}

\hrule \subsection*{$\bullet$ look}
\begin{description}
\item[Description :] look writes the pixel values for a user-defined sub-area of an
image to the terminal. The sub-area is defined by the x,y start pixel and
the x,y sub-area size in pixels.
\item[Usage :] inspection of images and features
\item[Associated commands :] intlk
\item[Invocation :]

\verb+  look<cr> +\end{description}

\hrule \subsection*{$\bullet$ makebad}
\begin{description}
\item[Description :] scan an input image and creates a glitch style bad pixel list
using an n-sigma cut on the image.  The n-sigma cut (where n is input by
the user) determines a bad pixel to be any pixel that has a value larger
or smaller than n-sigma (1-sigma is the standard deviation of all the
pixels in the image) on the mean of the whole image.  Useful to work on
flat-fields or darks to determine bad/hot pixels in an image.  The output
ascii (text) file is in the format accepted by the program glitch and has
one title line and then a list of x y pixel coordinates for the bad/hot
pixels identified.
\item[Usage :] creating bad pixel lists
\item[Associated commands :] makemask
\item[Invocation :]

\verb+  makebad<cr> +\end{description}

\hrule \subsection*{$\bullet$ makeglitch}
\begin{description}
\item[Description :] makeglitch converts a bad pixel mask image into a bad pixel
ascii (text) list file in the format accepted by the program glitch.  The
mask can be created by the program makemask or any other way; good pixels
have the value 0 and bad pixels have the value 1.  
\item[Usage :] converting a bad pixel mask to bad pixel list file
\item[Associated commands :] makemask, makebad, glitch
\item[Invocation :]

\verb+  makeglitch<cr> +\end{description}

\hrule \subsection*{$\bullet$ makemask}
\begin{description}
\item[Description :] scan an input image and creates a bad pixel mask image using
an n-sigma cut on the image.  The n-sigma cut (where n is input by the
user) determines a bad pixel to be any pixel that has a value larger or
smaller than n-sigma (1-sigma is the standard deviation of all the pixels
in the image) on the mean of the whole image.  Useful to work on
flat-fields or darks to determine bad/hot pixels in an image.  The output
image has good pixels set to 0 and bad/hot pixels set to 1.  The mask can
be applied to an image using the command applymask.  Once applied, the
bad pixels defined by the mask can be removed by either mosaicing (quilt,
mosaic) or replacement by the median of the surrounding pixels using
glitch.
\item[Usage :] creating bad pixel masks
\item[Associated commands :] makebad, makeglitch, applymask
\item[Invocation :]

\verb+  makemask<cr> +\end{description}

\hrule \subsection*{$\bullet$ manic}
\begin{description}
\item[Description :] To write all or part of a 1, 2 or 3 dimensional NDF image to an
output image of 1, 2 or 3 dimensions. Windows may be set in any of the
dimensions of the input image. All or part of the input image may be
projected on to any of the rectangular planes or axes of the input before
being written to an output image; or a 1 or 2 dimensional image may be
grown to more dimensions to fill an output image. Many output images,
each of a different configuration if required, may be extracted from a
single input image with one call to the routine.
\item[Usage :] re-sizing, dimensioning of images
\item[Associated commands :] compadd, compave, compress, binup, sqorst
\item[Invocation :]

\verb+  manic<cr> +\end{description}

\hrule \subsection*{$\bullet$ manycol}
\begin{description}
\item[Description :] takes n input IrcamDR colour tables (luts) and combines them by
placing them in the input sequence given in an output colour table with
suitable interpolation.  Allows the user to combine several colour
tables.
\item[Usage :] colour table manipulation
\item[Associated commands :] coltab, crecolt, writelut
\item[Invocation :]

\verb+  manycol<cr> +\end{description}

\hrule \subsection*{$\bullet$ med3d}
\begin{description}
\item[Description :] med3d median filters through a stack of image to produce a final
image that contains median of each input pixel in the stack.  The stack
of input images are input using an ascii (text) file with the image names
listed one per line.  med3d has various parameters associated with
monitoring what is taking place and also (at the end) an option to
normalize the output image to have a median (over all the pixels in it)
of unity.  This is very useful when using med3d to produce a flat-field
image which should have a median of unity.  The output median filtered
image is named by the user.
\item[Usage :] creating median filtered flat-fields
\item[Associated commands :] -
\item[Invocation :]

\verb+  med3d<cr> +\end{description}

\hrule \subsection*{$\bullet$ median}
\begin{description}
\item[Description :] median filters (spatially) an image.  median filters the input
image with a Weighted Median Filter ( WMF ) of a type defined by the
user, MODE = -1, or selected from some predefined types, MODE = 0 to 7.
If the WMF is to be user defined then the parameters for the weighting
function, CORNER, SIDE and CENTRE, will be requested. A stepsize,
STEP, has to be specified, this determines the spacing of the elements
of the weighting function. The weighting function has the form :

\begin{verbatim}
               CORNER  .   SIDE   .  CORNER
                  .          .           .
                SIDE   .  CENTRE  .   SIDE
                  .          .           .
               CORNER  .   SIDE   .  CORNER
\end{verbatim}

The . indicates that the weights are separated by (STEP-1) zeros. A
threshold, DIFF, for replacement of a value by the median can be set. If
the absolute value of the difference between the actual value and the
median is less than DIFF the replacement will not occur. The way in which
the image boundary is dealt with is given by BOUND, the choices are pixel
replication or a reflection about the edge pixels of the image. The WMF
can be repeated NUMIT times before the filtered version is written to the
output image.
\item[Usage :] spatial filtering of an image
\item[Associated commands :] -
\item[Invocation :]

\verb+  median<cr> +\end{description}

\hrule \subsection*{$\bullet$ moff}
\begin{description}
\item[Description :] This routine determines the best x,y spatial and d.c. sky offsets
for a pair of mosaic images.  Starting from guessed initial offsets, the
best fit is calculated by minimising the mean square difference between
the values measured at (supposedly) the same point on the sky in the two
images.
\item[Usage :] mosaicing image tiles in a mosaic 
\item[Associated commands :] mosaic, quilt, csub, accoff ...
\item[Invocation :]

\verb+  moff<cr> +\end{description}

\hrule \subsection*{$\bullet$ mosaic}
\begin{description}
\item[Description :] Up to 50 non-congruent images may be input, along with their
relative offsets from the first image, and these are then mosaiced
together into one (usually larger) output frame. Where the frames
overlap, a mean value is inserted into the output image. Bad pixels are
optionally handled - bad data in one input may be replaced by good data
from another.  All the input images have to be of the same size in
mosaic.
\item[Usage :] mosaicing tiles from a mosaic
\item[Associated commands :] quilt, moff, accoff \ldots 
\item[Invocation :]

\verb+  mosaic<cr> +\end{description}

\hrule \subsection*{$\bullet$ mosaic2}
\begin{description}
\item[Description :] same as mosaic but mosaics just two images together.  The input
images can be of different dimensions in mosaic2.
\item[Usage :] mosaicing two images together
\item[Associated commands :] mosaic, quilt
\item[Invocation :]

\verb+  mosaic2<cr> +\end{description}

\hrule \subsection*{$\bullet$ moscor}
\begin{description}
\item[Description :] determines bet dc level correction between two overlapping
images. The spatial offsets between the two images are entered (in
pixels) and the dc level offset (using the median or mean) is calculated
in the overlap region.  moscor can test the mosaicing and also correct
the second input image with the dc level correction calculated.
\item[Usage :] mosaicing tiles of a mosaic
\item[Associated commands :] mosaic, accoff, moff, quilt \ldots
\item[Invocation :]

\verb+  moscor<cr> +\end{description}

\hrule \subsection*{$\bullet$ mult}
\begin{description}
\item[Description :] multiples the first input image by the second input image putting
the result in the output image.
\item[Usage :] multiplying two images together
\item[Associated commands :] add, div, sub
\item[Invocation :]

\verb+  mult<cr> +or \verb+ 
mult im1 im2 out1<cr> +

\begin{itemize}

\item {\sl im1 } and {\sl im2 } are the input images
\item {\sl out1 } is the output image
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ numb}
\begin{description}
\item[Description :] calculates the number of pixels in an image with values greater
than an input value.
\item[Usage :] -
\item[Associated commands :] -
\item[Invocation :]

\verb+  numb<cr> +\end{description}

\hrule \subsection*{$\bullet$ obsext}
\begin{description}
\item[Description :] extracts individual observation images from an old format
{\sc IRCAM1/2} container file.  The individual images are put into separate
ndf output images.
\item[Usage :] image extraction from a old format {\sc IRCAM1/2} container file
\item[Associated commands :] -
\item[Invocation :]

\verb+  obsext<cr> +\end{description}

\hrule \subsection*{$\bullet$ obslist}
\begin{description}
\item[Description :] lists one user-defined item in the header of all the
observations in an old format {\sc IRCAM1/2} container file.  The list if
written to the terminal and optionally to an ascii file.
\item[Usage :] lists one item in header of observations
\item[Associated commands :] -
\item[Invocation :]

\verb+  obslist<cr> +\end{description}

\hrule \subsection*{$\bullet$ oefix}
\begin{description}
\item[Description :] fixes the odd and even channel dc offset problem encountered with
the old 62x58 {\sc IRCAM1/2} (dual-channel readout) array cameras.  The odd and
even channels are extracted and the medians of the pixels in them are
calculated.  The dc offset between the median of the odd channel pixels
and the median of the even channel pixels is added to the even channel
and the array odd/even channel structure is re-assembled into the output
file.  
\item[Usage :] correct odd/even channel problem in {\sc IRCAM1/2}
\item[Associated commands :] -
\item[Invocation :]

\verb+  oefix<cr> +\end{description}

\hrule \subsection*{$\bullet$ outsetb}
\begin{description}
\item[Description :] outsetb sets the pixel values outside a user-defined sub-area
of an image to a user-defined value.  The sub-area outside of which the
pixels are set is defined by its x,y start pixel coordinates and the x,y
box size in pixels.  The output image has the pixels outside the sub-area
set to the value chosen by the user.
\item[Usage :] can set pixels outside region (box) of an image to a magic number
\item[Associated commands :] outsetc, insetb, insetc
\item[Invocation :]

\verb+  outsetb<cr> +\end{description}

\hrule \subsection*{$\bullet$ outsetc}
\begin{description}
\item[Description :] outsetc sets the pixel values outside a user-defined circle in
an image to a user-defined value.  The circle outside of which the pixels
are set is defined by its x,y centre pixel coordinates and the diameter
in pixels.  The output image has the pixels outside the circle set to the
value chosen by the user.
\item[Usage :] can set pixels outside region (circle) of an image to a magic
number
\item[Associated commands :] outsetb, insetb, insetc
\item[Invocation :]

\verb+  outsetc<cr> +\end{description}

\hrule \subsection*{$\bullet$ pickim}
\begin{description}
\item[Description :] extracts a sun-area of any input image and puts a it in the
output image as a stand-alone image.  The sub-area is defined by the 
x,y start pixels (1,1 is the bottom left corner of the image) and the
x,y sub-area size in pixels.  
\item[Usage :] extracting useful sub-areas of images from larger images
\item[Associated commands :] dispick
\item[Invocation :]

\verb+  dispick<cr> +\end{description}

\hrule \subsection*{$\bullet$ pixdupe}
\begin{description}
\item[Description :] expands the x,y dimensions of any image by pixel duplication.
The output image is expanded by an integer factor, say for example 2,
and will have x,y dimensions 2x that of the input image.  No interpolation
takes place, the pixels are merely duplicated N times where N is input by
the user.
\item[Usage :] expanding image sizes
\item[Associated commands :] -
\item[Invocation :]

\verb+  pixdupe<cr> +\end{description}

\hrule \subsection*{$\bullet$ polcal}
\begin{description}
\item[Description :] calculates polarization images (normalized Stokes parameters
Q,U, percentage polarization and polarization position angle P, theta,
total intensity I, polarized and unpolarized intensity PI UPI, and the
percentage polarization and position angle shot-noise error Pe, thetaE).
polcal takes 4 input images (one at each of the 4 waveplate position for
a polarization observation - 0, 45, 22.5 and 67.5 degrees) and calculates
the polarization images from them.
\item The percentage polarization error image and associated polarization
position angle image require the user to enter the electrons/DN gain
factor for the original intensity images.  If your data is an average of
numerous coadds then the value entered should be the original gain factor
divided by the square root of the number of coadds (or separate averaged
images) since to calculate the accurate shot-noise error associated with
the polarization image one needs to use an equivalent signal for all the
coadds added together.  This is compensated by dividing the gain factor
by the root of the number of coadds/image.

{\bf polcal} operates on polarization images taken with the OLD irpol system
i.e. four images one at each of the four waveplate position (0, 45, 2.5,
67.5 degrees from datum) using a cold polarizer rather than the current
Wollaston prism.  To analyse data from irpol using the Wollaston prism
use the command polcal2.
\item[Usage :] calculates polarization images from processed intensity image
for irpol + polarizer (old format) combination
\item[Associated commands :] polcal2
\item[Invocation :]

\verb+  polcal<cr> +\end{description}

\hrule \subsection*{$\bullet$ polly}
\begin{description}
\item[Description :] calculates polarization parameters (Q,U,P,Theta,I,PI,UPI,PE,TE)
from four input intensity (numeric) values.  The four intensity values
should be at the four waveplate positions required for a polarization
observation i.e. 0, 45, 22.5 and 67.5 degrees from datum.  polly works
for numeric values taken from images taken with a waveplate/polarizer
combination i.e. irpol1+polarizer (no Wollaston prism).  Use polly to for
intensity values taken from an irpol2+Wollaston prism data set.
\item[Usage :] calculates polarization from input intensity values
\item[Associated commands :] polly2, polcal, polcal2
\item[Invocation :]

\verb+  polly<cr> +\end{description}

\hrule \subsection*{$\bullet$ polly2}
\begin{description}
\item[Description :] same as polly but for intensity values taken from images taken
at the four waveplate positions using irpol2 and Wollaston prism.  The
user has to enter 8 values (rather than four for polly) since the o- and
e- rays are imaged separately using the Wollaston prism.
\item[Usage :] calculates polarization parameters from input intensity values
\item[Associated commands :] polly, polcal2, polcal, polsep, polthresh2
\item[Invocation :]

\verb+  polly2<cr> +\end{description}

\hrule \subsection*{$\bullet$ polsep}
\begin{description}
\item[Description :] separates the four regions of a image taken using the irpol2
polarimeter with the Wollaston prism/focal plane mask at one of the four
required waveplate positions.  The four regions are the o- and e- rays
for the two spatial different areas of sky imaged using the mask.  The
four regions are put into four separate images which can then be
processed further using polcal2 on each spatial regions sequentially.
polsep will need to be run on all four different waveplate position image
to get the 8 images per spatial position required for polcal2 analysis.
\item[Usage :] creates separate images with o- e- rays of the two spatial
positions imaged using the Wollaston prism/focal plane mask in a new
polarimetry observation
\item[Associated commands :] polcal2, polly2, polthresh2
\item[Invocation :]

\verb+  polsep<cr> +\end{description}

\hrule \subsection*{$\bullet$ polshot}
\begin{description}
\item[Description :] calculates polarization shot-noise error on a polarization
observation using irpol1 with the internal cold polarizer (i.e. not the
Wollaston prism).  The shot-noise is the polarization error due to photon
counting statistics and is there the smallest error associated with a
polarization observation.  The four input images, one at each of the four
waveplate positions (0, 45, 22.5, 67.5 degrees) are required to
calculates the shot-noise error.  The user should be aware that the total
intensity in each of the four waveplate positions is needed not the
intensity scaled to dn/sec i.e. with the coadds/image combinations
removed by averaging.

{\bf polshot} is not too useful since errors in this mode are dominated by
measurement errors like sky transparency changes over the four waveplate
positions.
\item[Usage :] calculates shot-noise polarization on a waveplate+polarizer
observation.
\item[Associated commands :] polcal, polthresh
\item[Invocation :]

\verb+  polshot<cr> +\end{description}

\hrule \subsection*{$\bullet$ polthresh}
\begin{description}
\item[Description :] thresholds a set of 4 images each taken at one of four
waveplate positions (0, 45, 22.5, 67.5 degrees) in a polarization
observation using irpol+internal cold polarizer (i.e. not the Wollaston
prism).  The user enters a threshold intensity level which the all four
pixels at the same spatial position on the array have to be above if
polarization is to be calculable.  If any one of the four intensity
pixels have values less than the threshold the output pixel in the all
four output images is set to zero.  This thresholding allows only pixels
with good s:n to be utilized in polarization calculations in polcal. The
user should experiment with the threshold level (in the sky subtracted
reduced polarization images) to see when the faint features of nebulosity
say, become noisy.
\item[Usage :] thresholds a set of irpol+polarizer polarization data
\item[Associated commands :] polcal
\item[Invocation :]

\verb+  polthresh<cr> +\end{description}

\hrule \subsection*{$\bullet$ pow}
\begin{description}
\item[Description :] raises each pixel to the power x where x is input by the user. The
calculation involved is (pixel value)**x where x is the input exponent.
\item[Usage :] -
\item[Associated commands :] -
\item[Invocation :]

\verb+  pow<cr> +\end{description}

\hrule \subsection*{$\bullet$ quilt}
\begin{description}
\item[Description :] quilt assembles mosaic tiles into a final mosaic image.  quilt is
very similar to the IrcamDR command mosaic but quilt takes its input from
an ascii (text) file rather from the terminal/user.  An example of the
form of the quilt input text file is:

\begin{verbatim}
test quilt file
image1
   5
     13.9860    13.9860
    -13.9860   -13.9860
image2
    -13.9860    13.9860
image3
    -13.9860   -13.9860
image4
     13.9860   -13.9860
image5
     13.9860    13.9860:]
\end{verbatim}

where line 1 is a title string, line 2 the number of image tiles in the
mosaic (5), line 3 the maximum spatial offsets in ra,dec, line 4 the
minimum spatial offsets in ra,dec, line 5 the 2nd image in the mosaic,
line 6 the spatial offsets (in pixels) between the 1st image and the 2nd
image, line 7 the 3rd image in the mosaic, line 8 the spatial offsets (in
pixels) between the 1st image and 3rd image, line 9 the 4th image in the
mosaic, line 10 the spatial offsets (in pixels) between the 1st image and
4th image in the mosaic, line 11 the 5th image in the mosaic and line 12
the spatial offsets between the 1st image and 5th image in the mosaic.
The spatial offsets in pixels are x,y with x and y increasing up and
right, respectively.

The best way to create a quilt file however, is to use the command
crequilt described above.  This command takes in simple ascii files and
creates the more complex quilt mosaic ascii file.

\item[Usage :] mosaicing image tiles from a mosaic together
\item[Associated commands :] mosaic, mosaic2, accoff etc.
\item[Invocation :]

\verb+  quilt<cr> +\end{description}

\hrule \subsection*{$\bullet$ radim}
\begin{description}
\item[Description :] produces a radially expanded image from any user-defined point in
an image.  A radially expanded image is one in which, from the pixel
chosen by the user, values along radii from that point to a user-defined
extent (in pixels) are written sequentially to an image, each radial cut
(in 1 degree increments) corresponds to one column of the output image,
thus, the output image is 360xN pixels in size, the 360 corresponding to
the 360 degrees around the centre pixel and the N being the user-defined
extent of the radial cut along each radius.
\item[Usage :] expanding a radial cut on a linear axis.
\item[Associated commands :] -
\item[Invocation :]

\verb+  radim<cr> +\end{description}

\hrule \subsection*{$\bullet$ root}
\begin{description}
\item[Description :] takes the square root of the input image and stores the result in
the output image.
\item[Usage :] sometimes helps decrease dynamic range and aids data display
\item[Associated commands :] add, div, mult, sub, pow, cadd, cdiv, cmult, csub,
expe, exp10, expon, log10, loge, logar
\item[Invocation :]

\verb+  root<cr> +\end{description}

\hrule \subsection*{$\bullet$ rotate}
\begin{description}
\item[Description :] rotates an image by a user-defined amount (in degrees)
clockwise. The output image is re-sampled onto the rotated coordinate
system and the output image is rotated wrt to the input image.
\item[nb. the n-s axis of {\sc IRCAM3} is mis-aligned by ~2 degrees.:]
\item[Usage :] rotation to remove n-s mis-alignment of images
\item[Associated commands :] -
\item[Invocation :]

\verb+  rotate<cr> +\end{description}

\hrule \subsection*{$\bullet$ rowmed}
\begin{description}
\item[Description :] rowmed median filters along the rows of an image and produces a
1xN output image (where N is the original y dimension of the input
image) with containing the median values for each row.  The user can
define an exclusion region (a range of columns) which is not included in
the median calculation, hence, if there is a bright object near the
centre of the array, that region can be excluded.
\item[Usage :] can be useful for removing residual background structure in an
image.  Use rowmed to define the row structure via the median value in
the rows then xgrow to grow the 1xN image to MxN where M and N are the
original x and y dimensions of the input image.  The result can be
subtracted from the original image using the command sub.
\item[Associated commands :] xgrow, sub, colmed, ygrow
\item[Invocation :]

\verb+  rowmed<cr> +or \verb+  rowmed image1 out1 y 50 150<cr> +

\begin{itemize}

\item {\sl image1 } is the input MxN image
\item {\sl out1 } is the output 1xN image containing the medians
\item {\sl y } means use an exclusion region (n would mean no exclusion
 region)
\item {\sl 50 150 } are the range of columns in each row to be excluded
 from the median calculation
\end{itemize}\end{description}

\hrule \subsection*{$\bullet$ setval}
\begin{description}
\item[Description :] sets all pixels with a user-specified value to another value
also chosen by the user.  The output image contains the modified image.
\item[Usage :] changing bad pixel magic number values, for example
\item[Associated commands :] -
\item[Invocation :]

\verb+  setval<cr> +\end{description}

\hrule \subsection*{$\bullet$ shadow}
\begin{description}
\item[Description :] this routine takes a 2d image and creates an enhanced version of
it. The enhancement is a shadow effect that causes features in an image
to appear as though they have been illuminated from the side by some
imaginary light source. The enhancement is useful in locating edges and
fine detail in an image.
\item[Usage :] enhancing image details
\item[Associated commands :] laplace
\item[Invocation :]

\verb+  shadow<cr> +\end{description}

\hrule \subsection*{$\bullet$ shift}
\begin{description}
\item[Description :] The input image is shifted, in either or both of the X and Y
axes, to produce the output image. The shifts in X and Y are either input
as absolute X and Y shifts by the user or alternatively are calculated
from the coordinates of two points provided by the user. The output image
is padded with zeros in the regions not occupied by the shifted input
image.
\item[Usage :] aligning images of same spatial region but, say, in different
filters.
\item[Associated commands :] shift2, shift3
\item[Invocation :]

\verb+  shift<cr> +\end{description}

\hrule \subsection*{$\bullet$ shsize}
\begin{description}
\item[Description :] informs the user of the dimensions of the image given.  The
dimensions are written to the terminal.
\item[Usage :] image size determination
\item[Associated commands :] -
\item[Invocation :]

\verb+  shsize<cr> +\end{description}

\hrule \subsection*{$\bullet$ sqorst}
\begin{description}
\item[Description :] changes the size (dimensions) of any input image and make them
any other user-defined value.  sqorst uses spline interpolation to change
image sizes.
\item[Usage :] changing image sizes.
\item[Associated commands :] compave, compadd, compress, binup, compick, manic
\item[Invocation :]

\verb+  sqorst<cr> +\end{description}

\hrule \subsection*{$\bullet$ stats}
\begin{description}
\item[Description :] returns statistical information on any sub-area of any image. The
area is defined by its x,y start pixel coordinate and x,y sub-area size
(in pixels).
\item[Usage :] statistical information on images.
\item[Associated commands :] histo, cstats
\item[Invocation :]

\verb+  stats<cr> +\end{description}

\hrule \subsection*{$\bullet$ stcoadd}
\begin{description}
\item[Description :] coadds (sums) a set of observation images taken from an old
format {\sc IRCAM1/2} container file.  The output image is the sum of the input
images and the input images to be coadded are defined by either a start
and end observation number or a list of observation numbers (e.g.
10,12,14, 18,24 etc).  
\item[Usage :] coadding observations from an {\sc IRCAM1/2} container file.
\item[Associated commands :] fcoadd
\item[Invocation :]

\verb+  stcoadd<cr> +\end{description}

\hrule \subsection*{$\bullet$ stepim}
\begin{description}
\item[Description :] sets user-defined ranges of intensity (or whatever the units of
the image) in the input image to specific values in the output.  An
example is that pixels with intensity values in the ranges 0-100,
101-200, 201-300 etc have, in the output images, the values 50, 150, 250,
etc.  This essentially steps an image into contour-like intervals so that
pixel vales in the range are represented by one number.  The original
idea was to step percentage polarization images to get a better idea of
where similar polarization values occurred spatially.  stepim can be
used for any image however.  The steps are defined by a base level and
interval between steps and the number of steps to make in that interval
is input also.
\item[Usage :] degrading intensity resolution to better see features.
\item[Associated commands :] -
\item[Invocation :]

\verb+  stepim<cr> +\end{description}

\hrule \subsection*{$\bullet$ sub}
\begin{description}
\item[Description :] subtracts the two input images and writes result to output image.
\item[Usage :] object-sky subtraction, say.
\item[Associated commands :] add, div, mult
\item[Invocation :]

\verb+  sub<cr> +\end{description}

\hrule \subsection*{$\bullet$ thetafix}
\begin{description}
\item[Description :] corrects polarization position angle images so that, after the
constant value offset between instrumental and equatorial coordinate
system has been added (using the command cadd), polarization position
angles lie in the correct range i.e. 0-180 degrees.  The input is just
the image containing the polarization position angle data.  The output is
the corrected polarization position angle image.
\item[Usage :] position angle range correction.
\item[Associated commands :] polcal, polcal2, cadd
\item[Invocation :]

\verb+  thetafix<cr> +\end{description}

\hrule \subsection*{$\bullet$ thresh}
\begin{description}
\item[Description :] Thresholds an image writing the result to an output image.
Thresholding means that all pixel values below a user-defined value are
set to another user-defined value and all pixel values above a third
user-defined value are set to a fourth user-defined value.
\item[Usage :] thresholding an image.
\item[Associated commands :] thresh0
\item[Invocation :]

\verb+  thresh<cr> +\end{description}

\hrule \subsection*{$\bullet$ thresh0}
\begin{description}
\item[Description :] same as thresh but sets all values below first user-defined
value and above second user-defined value to zero in output image.
\item[Usage :] sets pixels outside range to zero.
\item[Associated commands :] thresh
\item[Invocation :]

\verb+  thresh0<cr> +\end{description}

\hrule \subsection*{$\bullet$ trandat}
\begin{description}
\item[Description :] reads in an ascii (text) file with lists of pixel locations and 
intensities (whatever) and creates an NDF image from the data.  The input 
format required of the ascii file is:

\begin{verbatim}
 -40.0   40.0   1121.9
   0.0   30.0     56.3
 100.0   20.0   2983.2
 120.0   80.0    339.3     
etc...
\end{verbatim}

where each line contains x offset, y offset and intensity.  The user can
select the intra-pixel spacing, for example, pixels spaced 10 units apart
would would have the first two lines of the above example spaced in the
image by 4 pixels and 1 pixel in x and y, respectively.

\item[Usage :] format conversion from ascii to ndf image.
\item[Associated commands :] asciilist
\item[Invocation :]

\verb+  trandat<cr> +\end{description}

\hrule \subsection*{$\bullet$ trig}
\begin{description}
\item[Description :] uses each pixel in an image as the value in one of numerous
trigonometrical expressions e.g. cos(z), sin(z), tan(z), asin(z) etc,
where z is the pixel value.  The output is written to a new output image.
\item[Usage :] -
\item[Associated commands :] root, pow, expe, exp10, expon, loge, log10, logar
\item[Invocation :]

\verb+  trig<cr> +\end{description}

\hrule \subsection*{$\bullet$ wmosaic}
\begin{description}
\item[Description :] wmosaic is the same as mosaic except that the images can be
weighted in the averaging overlap regions.  This means images of
different s:n can be combined with different weights.  See mosaic for
details of the mosaicing process.  The weighting is applied using the
formula, out=(image1*weight1+image2*weight2+\ldots)/(weight1+weight+\ldots).
\item[Usage :] weighted mosaicing of tile in mosaic.
\item[Associated commands :] mosaic, quilt, wquilt
\item[Invocation :]

\verb+  wmosaic<cr> +\end{description}

\hrule \subsection*{$\bullet$ wquilt}
\begin{description}
\item[Description :] wquilt is the same as quilt except that the images can be
weighted in the averaging overlap regions.  This means images of
different s:n can be combined with different weights.  See quilt for
details of the mosaicing process. The weighting is applied using the
formula, out=(image1*weight1+image2*weight2+\ldots)/(weight1+weight+\ldots).
\item[Usage :] weighted mosaicing of tile in mosaic from ascii file.
\item[Associated commands :] mosaic, wmosaic, wquilt
\item[Invocation :]

\verb+  wquilt<cr> +\end{description}

\hrule \subsection*{$\bullet$ wrapcor}
\begin{description}
\item[Description :] this program corrects images (mostly optical CCD images) for
wrap-around caused by bit wrapping when the a to D unit of the readout
wraps around from 16-bits to -16-bits instead.  An example is data that
in actuality goes from 0-65535 but the A:D sets the values from 0-32767
then -32767-0, wrapcor adds a number to all values below a specified
number and hence, the the above example, we would add 32768 to all values
below 0.
\item[Usage :] corrects for wrap-around in image readout.
\item[Associated commands :] -
\item[Invocation :]

\verb+  wrapcor<cr> +\end{description}

\hrule \subsection*{$\bullet$ xgrow}
\begin{description}
\item[Description :] grows a 1xN image created with rowmed into a MxN image by pixel
duplication.  The output is written to the new ndf image.  See rowmed
for more details.
\item[Usage :] grows a y slice into an image for subtraction.
\item[Associated commands :] ygrow, rowmed, colmed, yadd
\item[Invocation :]

\verb+  xgrow<cr> +\end{description}

\hrule \subsection*{$\bullet$ yadd}
\begin{description}
\item[Description :] adds up the rows in an image to create an output 1xN image.  This
output image can then be grow to the original size of the input image
using xgrow.  The output can be the sum or average of the rows.
\item[Usage :] -
\item[Associated commands :] xgrow, rowmed, colmed, ygrow
\item[Invocation :]

\verb+  yadd<cr> +\end{description}

\hrule \subsection*{$\bullet$ ygrow}
\begin{description}
\item[Description :] grows an Nx1 image created with colmed into an NxM image by pixel
duplication.  The output image is written to a new ndf image.  See colmed
for more details of usage.
\item[Usage :] grows an x slice into an image for subtraction.
\item[Associated commands :] xgrow, colmed, rowmed, yadd
\item[Invocation :]

\verb+  ygrow<cr> +\end{description}

\hrule \subsection*{$\bullet$ zaplin}
\begin{description}
\item[Description :] removes bad columns and rows from an image by linear
interpolation.  The bad columns/rows are defined by their column/row
number and a number of consecutive columns/rows can be removed.  After
each range of columns/rows has been entered, the program asks if more
columns/rows are to be entered.  If not, the columns/rows entered are
removed by linear interpolation.
\item[Usage :] removal of bad columns/rows in images.
\item[Associated commands :] glitch, glitchmark
\item[Invocation :]

\verb+  zaplin<cr> +\end{description}


\section{The reduction and analysis of {\sc IRCAM3} data}
 
The sequence used at {\sc UKIRT} for the reduction of raw {\sc IRCAM3}
images is as follows:
 
\subsection{Standard imaging observation using J, H, K, nbL, or 1-2um nb filters.}

\begin{enumerate}

\item dark subtraction using dark of same on-chip exposure time as object
image(s). Commands to u
se are darklot (for {\sc IRCAM1/2} images) or rodarklot
for {\sc IRCAM3} images.
 
\item flat-field creation using either a) a median-filtered set of object
images, b) a median-filtered set of separate sky observation, or c) a
single dark subtracted sky observation (hopefully with no astronomical
features present unless object images are point sources and they do not
overlap with the features in the separate single sky image).  Commands to
use are romed or med3d (called by romed) for median-filtering object.
 
\item flat-fielding of the dark subtracted object images. Commands to use
are flatlot for flat-fielding a sequence of object images or flat2 for
flat-fielding two images one with the other.  To flat-field manually use
the commands stats (to get the median of the whole dark subtracted sky
image), cdiv (to divide the dark subtracted sky image by its median), and
div (to divide the dark subtracted object image by the dark subtracted 
scaled sky image).  
 
\item airmass correction (assuming extinction coefficients are known and
if an standard at the same airmass is not available) using the commands
amcorr or amcorrlot.
 
\item bad pixel masking using the command applymask or applymasklot.  This
sets the known bad pixels on the array to the magic number -1.0e-20.
 
\item mosaicing, if required, using mosaic, wmosaic, crequilt, quilt or
wquilt. 
 
\end{enumerate}

For many mosaic imaging application (large field or jitter mosaic
imaging), the command stred can be used to perform all these tasks
automatically.  This is the recommended method of data reduction in
IrcamDR.
 
Thermal IR imaging using L', nbM filters and 64x64 sub-array readout
 
Generally, thermal imaging with {\sc IRCAM3} will be taken in chop mode using
the {\sc UKIRT} chopping secondary.  For point sources, chopping often takes
place on the array in that the chop offset is small and the object
remains in the array image in both chop phases (A and B or OBJECT and
SKY).  It is usual to take numerous repeat chopped A and B pairs of
observations on a source in the thermal IR and then to coadd them later
with any necessary spatial alignment.  Nodding of the telescope is also
generally used to help define any thermal imbalance across the source.
 
Users should attempt to use the IrcamDR procedure chred to reduce their
chopped thermal imaging data.  This allows for multiple A and B pairs and
also for nodding if appropriate.  Once the set of chopped imaging has
been reduced - the process is just to subtract chop phases A and B for
each nod position and sum them separately giving, in nodding mode, two
output image that can be combined later - many of the other reduction
steps detailed above can be applied (say, from step iv above).
 
\subsection{Imaging polarimetry observations}
 
Users should see the internal {\sc UKIRT} software user note on polarimetry
reduction of IRCAM data.  This is available via the {\sc UKIRT}  on-line WWW
information system.


%\begin{latexonly}
%\newpage
%\twocolumn[
%\section{Index } \label{se:index}]
%\markboth{Index}{\stardocname}
%\input{sun152.ind}
%\end{latexonly}

\end{document}
