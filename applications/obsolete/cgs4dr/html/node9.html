<HEAD>
<TITLE> Files Used by the System</TITLE>
</HEAD>
<BODY  BGCOLOR=#F0EBD0>
<P><CENTER><IMG ALIGN=CENTER SRC=hline.gif><P>
<MAP NAME=cgs4map>
<AREA SHAPE=rect COORDS="32,126,138,155"  HREF="node10.html">
<AREA SHAPE=rect COORDS="143,126,252,155" HREF="node8.html">
<AREA SHAPE=rect COORDS="258,126,365,155" HREF="node1.html">
<AREA SHAPE=default HREF="sun27.html">
</MAP>
<IMG ALIGN=CENTER SRC=cgs4map.gif USEMAP="#cgs4map">
<P>
<P><IMG ALIGN=CENTER SRC=hline.gif><P></CENTER>
<H1>Files Used by the System</H1>
<P>
When the data acquisition system obtains a raw data frame from the control
system, it writes it to an integration file whose name is of the form
iyymmdd_oooo_iiii where `yymmdd' is the UT date, `oooo' the observation
number and `iiii' the integration number. Integration files are,
therefore, frames taken at a single detector position and are written to
the directory $IDIR/. If a single integration is reduced, the
result is written to a reduced integration file whose name is of the form
riyymmdd_oooo_iiii, written to the directory $RIDIR/.
<P>
In CGS4, however, the spectrum may be oversampled by combining several
integrations at different detector positions. A description of the
instrument configuration during an observation is held in an observation
file whose name is of the form oyymmdd_oooo in the directory $ODIR/.  This information is combined with the data in the integration
files to produce a reduced observation of size x * y * <em>n</em> elements
where <em>n</em> is the oversampling factor and x * y is the readout
area.  This reduced observation, whose name is of the form royymmdd_oooo,
is held in the directory $RODIR/.  The reduced observation file
contains the reduced data for a single observation.
<P>
When observing astronomical objects, individual observations may be of
OBJECT or SKY. Any number of OBJECT and SKY
observations relating to one particular astronomical object may be
combined together into a reduced group whose name is of the form
rgyymmdd_gggg, where `gggg' is a unique group number, which is the first
observation in the group as defined by the data acquisition system, held
in the directory $RGDIR/. These reduced group files contain
sky-subtracted data. These files may be manipulated further by the
automatic data reduction sequence to provide enhanced sky-subtraction for
point sources and to ratio by a standard star.  Depending upon the options
selected the prefixes _pf, _dbs, _spc, _imspc may be appended to the
reduced group filenames. For example, a group called rg920530_17 which is
divided by a standard will produce a group called rg920530_17_dbs. If
the same group is `polysky-ed', divided by a standard and a spectrum is
extracted, two files will be created named rg920530_17_pf_dbs_spc and
rg920530_17_pf_dbs_imspc. The Unix file clobbering mechanism should
ensure that only one version of each file exists at any one time.
<P>
The system will clear up any temporary files upon receipt of an ENDGROUP command in the data reduction queue. The data acquisition system
places such a command in the queue automatically but the data reduction
system does not.
<P>
The data reduction system uses two other types of file. Wavelength
calibrated CALIBR frames are held in files of type cayymmdd_oooo in
the $RODIR/ directory. Standard star observations are held in files
whose names are of the form styymmdd_gggg, held in the $RGDIR/
directory.
<P>
Note that the files contained in $IDIR/ and $ODIR/ are never
over-written whereas the files in $RIDIR/, $RODIR/ and $RGDIR/ may be over-written by re-reducing the data.
<P>
<HR><P>
<A HREF="mailto:pnd@jach.hawaii.edu">Comments?</A>
</BODY>
