#+
#  Name:
#     awkseg

#  Purpose:
#     Extract cursor instructions from screen output generated by KAPPA:SEGMENT.

#  Language:
#     awk script

#  Description:
#     This awk script suppresses the display of selected informational messages
#     produced by SEGMENT. The messages relating to the use of the cursor are 
#     printed, but others are suppressed.

#  Usage:
#     segment in1=... in2=... out=... <etc> | awk -f awkseg

#  Notes:
#     -  This script makes assumptions about the contents of the messages
#     displayed by segment. If segment is changed, this script may need to be
#     changed too.

#  Authors:
#     DSB: David Berry (STARLINK)
#     {enter_new_authors_here}

#  History:
#     2-DEC-1993 (DSB):
#        Original version.
#     {enter_changes_here}
#-
{

#  
#  Initialise a flag to indicate that the line should be printed.
      on = 1
#
#  Suppress the printing of un-wanted lines.
      if( $1 == "Using" && $3 == "co-ordinates" ) on = 0
      if( $1 == "Axis" && $4 == "non-linear" ) on = 0
      if( $0 == "the database will be wrong." ) on = 0
      if( $0 == "Use the cursor to define the vertices of the next polygon." )\
          on=0
      if( $1 == "Polygon" && $4 == "done." ) on = 0
      if( $1 == "Current" && $4 == "name:" ) on = 0
      if( $1 == "Logging" && $2 == "to" ) on = 0
      if( $1 == "Number" && $4 == "positions" ) on = 0
#
#  Print the line if it is wanted.
      if( on ) print $0
}
