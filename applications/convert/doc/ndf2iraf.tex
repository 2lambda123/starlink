\newpage
\sstroutine{
   NDF2IRAF
}{
   Converts an NDF to an IRAF image
}{
   \sstdescription{
      This application converts an NDF to an IRAF image. 
      See the Notes for details of the conversion.
   }
   \sstusage{
      ndf2iraf in out [fillbad]
   }
   \sstparameters{
      \sstsubsection{
         IN = NDF (Read)
      }{
         The input NDF data structure.  The suggested default is the
         current NDF if one exists, otherwise it is the current value.
      }
      \sstsubsection{
         FILLBAD = \_REAL (Read)
      }{
         The value used to replace bad pixels in the NDF's data array
         before it is copied to the IRAF file.  A null value ({\tt{!}}) means
         no replacements are to be made.  This parameter is ignored if
         there are no bad values.  {\tt [!]}
      }
      \sstsubsection{
         OUT = LITERAL (Write)
      }{
         The name of the output IRAF image.  Two files are produced
         with the same name but different extensions. The {\tt ".pix"} file
         contains the data array, and {\tt ".imh"} is the associated header
         file that may contain a copy of the NDF's FITS extension.
         The suggested default is the current value.
      }
   }
   \sstexamples{
      \sstexamplesubsection{
         ndf2iraf abell119 a119
      }{
         Converts an NDF called abell119 into the IRAF image comprising
         the pixel file {\tt a119.pix} and the header file {\tt a119.imh}.  
         If there are any bad values present they are copied verbatim to the
         IRAF image.
      }
      \sstexamplesubsection{
         ndf2iraf qsospe qsospe fillbad=0
      }{
         Converts the NDF called qsospe to an IRAF image comprising the
         pixel file {\tt qsospe.imh} and the header file {\tt qsospe.pix}.
         Any bad values in the data array are replaced by zero.
      }
   }
   \sstnotes{
      The rules for the conversion are as follows:
      \sstitemlist{

         \sstitem
         The NDF data array is copied to the {\tt ".pix"} file.

         \sstitem
         The NDF title is written to the header object i\_title in
         the {\tt ".imh"} header file.  There is a limit of twenty
         characters.

         \sstitem
         If there is a FITS extension in the NDF, then the elements up
         to the first END keyword of this are added to the `user area' of
         the IRAF header file.

         \sstitem
         A HISTORY record is added to the IRAF header file indicating
         that it originated in the named NDF and was converted by
         NDF2IRAF.

         \sstitem
         All other NDF components are ignored.
      }
   }
   \sstdiytopic{
      Related Applications
   }{
      \CONVERT: IRAF2NDF.
   }
   \sstimplementationstatus{
      \sstitemlist{

         \sstitem
         It is only supported for sun4\_Solaris and alpha\_OSF1 systems.

         \sstitem
         Only handles one-, two-, and three-dimensional NDFs.

         \sstitem
         Of the NDF's array components only the data array may be
         copied.

         \sstitem
         The IRAF image produced has type SIGNED WORD or REAL dependent
         of the type of the NDF's data array.  (The IRAF imfort FORTRAN
         subroutine library only supports these data types.)  For \_BYTE,
         \_UBYTE, and \_WORD data arrays the IRAF image will have type
         SIGNED WORD; for all other data types of the NDF data array a
         REAL IRAF image is made.  The pixel type of the image can be
         changed from within IRAF using the {\bf chpixtype} task in the
         {\bf images} package.

         \sstitem
         Bad values may arise due to type conversion.  These too are
         substituted by the (non-null) value of FILLBAD.
      }
   }
}

