<HTML>
<HEAD>
<TITLE>
ECHOMOP Help: ECH_OBJECT_al.
</TITLE>
</HEAD>

<BODY>
<I>ECHOMOP-Online HELP</I>
<HR>
<B><A HREF="ECH_OBJECT.html">Previous topic</A></B>
 | <B><A HREF="echomop.html">ECHOMOP HELP page</A></B>
 | <B><A HREF="http://www.star.ucl.ac.uk/~mjc/echelle/">Starlink EDR home</A></B>
 | <B><A HREF="http://star-www.rl.ac.uk/documentation.html">Starlink Docs</A></B>
<HR><H2>Algorithm</H2><HR>
<P>
<PRE WIDTH=72>
 Calculate start/end limits in x for profile determinations
 Estimate the spatial extent in pixels
 Calculate subsampling rate for profiling, and display profile size
 If E (edit) mode selected then
    Copy old profile
 Else
    Loop for each order
       If a good trace polynomial is available for this order then
          Calculate the order trace
          Calculate energies at positive substeps
          Calculate energies at negative substeps
          Add to totals over all orders
       End if
    End loop
    Normalise profile by number of contributing pixels and find
    peak value
    Determine peak value and minimum
    If determining a profile then calculate sky threshold
       Calculate median over full profile
       Determine threshold from median and user defined thresholding
       using the formula
              Thresh = MIN ( median * 1.05,
                             user-threshold * profile-height )
       Determine default sky extent
    Else
       Calculate the lower threshold for arc/ffield extension
       Determine default dekker extent
    End if
    Setup default sky,dekker limits
    Store sampled profile
 End if
 Call profile plotter/editor
</PRE>
<P>
<P>
<HR>
<B><A HREF="ECH_OBJECT.html">Previous topic</A></B>
 | <B><A HREF="echomop.html">ECHOMOP HELP page</A></B>
 | <B><A HREF="http://www.star.ucl.ac.uk/~mjc/echelle/">Starlink EDR home</A></B>
 | <B><A HREF="http://star-www.rl.ac.uk/documentation.html">Starlink Docs</A></B>
<P>
<ADDRESS>
Martin Clayton<BR>
<A HREF="mailto:mjc@star.ucl.ac.uk">mjc@star.ucl.ac.uk</A><BR>
Mon Dec  4 15:45:45 1995
</ADDRESS>
</BODY>
</HTML>
