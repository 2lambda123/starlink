## Process this file with automake to produce Makefile.in

## Scripts which end up in the binary installation directory.

bin_SCRIPTS = ifd2iraf ifd2star ifd2irafifl ifl2ifd ifd_irafhlpgen \
              ifd_front.tcl

## Test script.

TESTS = tester.sh

## Arrange to edit the installation binary directory into script files
## which need it.  This cannot be done by autoconf because it needs to
## be changable at make time - see the autoconf manual section on 
## Installation Directory Variables.
## Since these ones haven't been modified by autoconf, we take the 
## opportunity to do any non-make-sensitive substitutions here as well.

edit = sed -e 's%@bindir\@%$(bindir)%g' \
           -e 's%@TCLSH\@%@TCLSH8_2@%g'

ifd2iraf: Makefile $(srcdir)/ifd2iraf.in
	rm -f ifd2iraf ifd2iraf.tmp
	$(edit) $(srcdir)/ifd2iraf.in >ifd2iraf.tmp
	chmod +x ifd2iraf.tmp
	mv ifd2iraf.tmp ifd2iraf

ifd2star: Makefile $(srcdir)/ifd2star.in
	rm -f ifd2star ifd2star.tmp
	$(edit) $(srcdir)/ifd2star.in >ifd2star.tmp
	chmod +x ifd2star.tmp
	mv ifd2star.tmp ifd2star

