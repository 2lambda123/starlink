dnl    Process this file with autoconf to produce a configure script
AC_REVISION($Revision$)

AC_INIT(startcl, 1.5-5, ussc@star.rl.ac.uk)

AC_PREREQ(2.50)
AM_INIT_AUTOMAKE(1.8.2-starlink)
AC_CONFIG_SRCDIR([tclAdam.c])
STAR_DEFAULTS

AC_PROG_CC
AC_PROG_FC
AC_PROG_LIBTOOL
AC_STDC_HEADERS
AC_CHECK_HEADERS(malloc.h)

dnl    Uses C compiler to link against Fortran libraries, so we need
dnl    this.
AC_FC_LIBRARY_LDFLAGS

STAR_CNF_COMPATIBLE_SYMBOLS

AC_CHECK_HEADERS([jpeglib.h])
AC_CHECK_LIB(jpeg,jpeg_start_compress)

STAR_DECLARE_DEPENDENCIES(build, [ems gwm mers nbs jpeg pcs sae starx tcl tk])

STAR_LATEX_DOCUMENTATION([sun186 sun219])

dnl    Locate the tclsh and wish binaries and associated libraries
STAR_PATH_TCLTK(8.2,[tk])

dnl    How to link to X.
AC_PATH_XTRA

AC_CONFIG_HEADERS([config.h])
AC_CONFIG_FILES([Makefile component.xml])

dnl    This is the bit that does the actual work
AC_OUTPUT
