/apps/jdk
Buildfile: build.xml

prepare:

test:

call_package_ant:
     [echo] Executing JUnit target: test

test:
     [echo] Executing tamfits target: test

test:
     [echo] Executing axis target: test

test:
     [echo] Executing Jetty target: test

test:
     [echo] Executing AGLIB target: test

test:
     [echo] Executing UTIL target: test

prepare:

check_packages:

build:

compile-tests:
    [mkdir] Created dir: /apps/cvsbuild/java/source/util/build/testcases
    [javac] Compiling 14 source files to /apps/cvsbuild/java/source/util/build/testcases

run-tests:
    [junit] Testsuite: uk.ac.starlink.util.DOMUtilsTest
    [junit] Tests run: 4, Failures: 0, Errors: 0, Time elapsed: 0.304 sec

    [junit] Testcase: testGetChildElementByName took 0.084 sec
    [junit] Testcase: testGetTextContent took 0.041 sec
    [junit] Testcase: testNewDocument took 0.032 sec
    [junit] Testcase: testRelativizeDOM took 0.138 sec
    [junit] Testsuite: uk.ac.starlink.util.DataSourceTest
    [junit] Tests run: 6, Failures: 0, Errors: 0, Time elapsed: 3.603 sec

    [junit] Testcase: testData took 0.762 sec
    [junit] Testcase: testIntro took 0.779 sec
    [junit] Testcase: testStream took 0.642 sec
    [junit] Testcase: testHybridStream took 0.492 sec
    [junit] Testcase: testCombo1 took 0.813 sec
    [junit] Testcase: testResourceStream took 0.11 sec
    [junit] Testsuite: uk.ac.starlink.util.IOUtilsTest
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.029 sec

    [junit] Testcase: testDataInput took 0.008 sec
    [junit] Testcase: testInputStream took 0.016 sec
    [junit] Testsuite: uk.ac.starlink.util.LoaderTest
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.766 sec
    [junit] ------------- Standard Error -----------------
    [junit] Dec 15, 2004 5:21:42 AM uk.ac.starlink.util.Loader warn
    [junit] WARNING: Class no.class.here.mate not found
    [junit] Dec 15, 2004 5:21:42 AM uk.ac.starlink.util.Loader warn
    [junit] WARNING: Class uk.ac.starlink.util.LoaderTest is not a java.lang.Comparable
    [junit] ------------- ---------------- ---------------

    [junit] Testcase: testLoader took 0.759 sec
    [junit] Testcase: testGetClassInstances took 0.004 sec
    [junit] Testsuite: uk.ac.starlink.util.NodeDescendantsTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.083 sec

    [junit] Testcase: testTraversal took 0.079 sec
    [junit] Testsuite: uk.ac.starlink.util.PipeReaderThreadTest
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.062 sec

    [junit] Testcase: testPipe1 took 0.029 sec
    [junit] Testcase: testPipeBlock took 0.028 sec
    [junit] Testsuite: uk.ac.starlink.util.ReaderThreadTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 1.016 sec

    [junit] Testcase: testThread took 1.012 sec
    [junit] Testsuite: uk.ac.starlink.util.SourceReaderTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.651 sec

    [junit] Testcase: testGetDOM took 0.647 sec
    [junit] Testsuite: uk.ac.starlink.util.TestCaseTest
    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.273 sec

    [junit] Testcase: testFlags took 0.181 sec
    [junit] Testcase: testAssertSource took 0.046 sec
    [junit] Testcase: testValidation took 0.042 sec
    [junit] Testsuite: uk.ac.starlink.util.URLUtilsTest
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.018 sec

    [junit] Testcase: testMakeURL took 0.012 sec
    [junit] Testcase: testUrlToUri took 0.003 sec
    [junit] Testsuite: uk.ac.starlink.util.XMLUtilTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.997 sec

    [junit] Testcase: testXMLEncodeDecode took 0.994 sec
    [junit] Warning: Cannot convert string "MetaCtrl<Key>Insert" to type VirtualBinding
    [junit] Testsuite: uk.ac.starlink.util.gui.RendererTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 7.894 sec

    [junit] Testcase: testRenderer took 7.89 sec

test:
     [echo] Executing Task target: test

prepare:

check_packages:

build:

compile-tests:
    [mkdir] Created dir: /apps/cvsbuild/java/source/task/build/testcases
    [javac] Compiling 1 source file to /apps/cvsbuild/java/source/task/build/testcases

run-tests:

test:
     [echo] Executing JNIAST target: test

prepare:

check_packages:

build_classes:

unpack_jni:

unpack_jni_arch:
    [unjar] Expanding: /apps/cvsbuild/java/source/jniast/src/lib/i386/jniast_libs.jar into /apps/cvsbuild/java/source/jniast/lib/i386

unpack_jni_arch:
    [unjar] Expanding: /apps/cvsbuild/java/source/jniast/src/lib/sparc/jniast_libs.jar into /apps/cvsbuild/java/source/jniast/lib/sparc

unpack_jni_arch:
    [unjar] Expanding: /apps/cvsbuild/java/source/jniast/src/lib/x86/jniast_libs.jar into /apps/cvsbuild/java/source/jniast/lib/x86

unpack_jni_arch:
    [unjar] Expanding: /apps/cvsbuild/java/source/jniast/src/lib/ppc/jniast_libs.jar into /apps/cvsbuild/java/source/jniast/lib/ppc

build:

compile-tests:
    [mkdir] Created dir: /apps/cvsbuild/java/source/jniast/build/testcases
    [javac] Compiling 10 source files to /apps/cvsbuild/java/source/jniast/build/testcases

run-tests:
    [junit] Testsuite: uk.ac.starlink.ast.AstTest
    [junit] Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 0.471 sec
    [junit] ------------- Standard Error -----------------
    [junit] Dec 15, 2004 5:22:10 AM uk.ac.starlink.ast.AstPackage isAvailable
    [junit] INFO: java.lang.UnsatisfiedLinkError: couldn't load library jniast: Can't load library: /apps/cvsbuild/java/source/util/lib/i386/libjniast.so
    [junit] java.lang.UnsatisfiedLinkError: couldn't load library jniast: Can't load library: /apps/cvsbuild/java/source/util/lib/i386/libjniast.so
    [junit] 	at uk.ac.starlink.util.Loader.loadLibrary(Loader.java:146)
    [junit] 	at uk.ac.starlink.ast.AstObject.<clinit>(AstObject.java:43)
    [junit] 	at uk.ac.starlink.ast.AstPackage.isAvailable(AstPackage.java:36)
    [junit] 	at uk.ac.starlink.ast.AstTest.setUp(AstTest.java:47)
    [junit] 	at junit.framework.TestCase.runBare(TestCase.java:138)
    [junit] 	at junit.framework.TestResult$1.protect(TestResult.java:106)
    [junit] 	at junit.framework.TestResult.runProtected(TestResult.java:124)
    [junit] 	at junit.framework.TestResult.run(TestResult.java:109)
    [junit] 	at junit.framework.TestCase.run(TestCase.java:131)
    [junit] 	at junit.framework.TestSuite.runTest(TestSuite.java:173)
    [junit] 	at junit.framework.TestSuite.run(TestSuite.java:168)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:289)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:656)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:558)
    [junit] Caused by: java.lang.UnsatisfiedLinkError: /apps/cvsbuild/java/source/jniast/lib/i386/libjniast.so: libg2c.so.0: cannot open shared object file: No such file or directory
    [junit] 	at java.lang.ClassLoader$NativeLibrary.load(Native Method)
    [junit] 	at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1473)
    [junit] 	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1397)
    [junit] 	at java.lang.Runtime.loadLibrary0(Runtime.java:788)
    [junit] 	at java.lang.System.loadLibrary(System.java:832)
    [junit] 	at uk.ac.starlink.util.Loader.loadLibrary(Loader.java:111)
    [junit] 	... 13 more
    [junit] Dec 15, 2004 5:22:10 AM uk.ac.starlink.ast.AstPackage isAvailable
    [junit] WARNING: JNIAST load failed - no WCS processing
    [junit] ------------- ---------------- ---------------

    [junit] Testcase: testAstObject took 0.429 sec
    [junit] 	FAILED
    [junit] null
    [junit] junit.framework.AssertionFailedError
    [junit] 	at uk.ac.starlink.ast.AstTest.setUp(AstTest.java:47)


BUILD FAILED
/apps/cvsbuild/java/source/build.xml:673: The following error occurred while executing this line:
/apps/cvsbuild/java/source/build.xml:141: The following error occurred while executing this line:
/apps/cvsbuild/java/source/jniast/build.xml:1324: Test uk.ac.starlink.ast.AstTest failed

Total time: 46 seconds
